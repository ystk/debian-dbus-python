commit d0d5b5be685dc4c16b21c54335becc87ca4d6f58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2013-05-08 08:49:58 +0100

    distribute new tests

 test/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit bd6aac594c72d32057a5821fcedb2d36644526aa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2013-05-08 08:48:28 +0100

    1.2.0

 NEWS         |   10 +++++++++-
 configure.ac |    6 +++---
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 9b26cf8238a7d432fe96a50a75008aa6bce110da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2013-05-08 08:38:22 +0100

    Add support for skipping tests, and use it
    
    Now that Python 2.6 isn't a supported version in Debian, it doesn't
    get a gi module, but we can still get some minimal test coverage.

 test/cross-test-client.py        |    5 ++++-
 test/cross-test-server.py        |    5 ++++-
 test/run-test.sh                 |   37 ++++++++++++++++++++++++++++---------
 test/run-with-tmp-session-bus.sh |   14 +++++++++++++-
 test/test-client.py              |    6 +++++-
 test/test-p2p.py                 |    5 ++++-
 test/test-signals.py             |    5 ++++-
 7 files changed, 62 insertions(+), 15 deletions(-)

commit 0872782255fdbaeda64311a298664597e59ba94f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2013-05-08 08:37:13 +0100

    utf8 test: pass when used with dbus 1.6.10, 1.7.2
    
    We used to reject noncharacters, but now we accept them.

 test/test-standalone.py |   41 +++++++++++++++++++++++++----------------
 1 file changed, 25 insertions(+), 16 deletions(-)

commit f909f596705f62a5218cf16d61433364fe2f8168
Author: Marko Lindqvist <cazfi74 gmail com>
Date:   2013-05-07 20:16:20 +0100

    Replace AM_CONFIG_HEADER with AC_CONFIG_HEADERS
    
    This has been (silently!) deprecated since 2002 and was removed from
    Automake 1.13.
    
    [added commit message -smcv]
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 423ee853dfbb4ee9ed89a21e1cf2b6a928e2fc4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2013-04-22 17:40:51 +0100

    Use GObject.__class__ instead of GObjectMeta
    
    In pygobject 3.8, GObjectMeta is no longer available via
    gi.repository.GObject. What we actually want is "the metaclass of
    GObject", so, say so.

 NEWS                    |    3 +++
 dbus/gi_service.py      |    4 ++--
 dbus/gobject_service.py |    4 ++--
 3 files changed, 7 insertions(+), 4 deletions(-)

commit c9ad0a3909c80c09d33b21db6cb46cfee4489010
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2013-04-22 15:47:06 +0100

    Unset DBUS_STARTER_ADDRESS, DBUS_STARTER_BUS_TYPE
    
    See <https://bugs.freedesktop.org/show_bug.cgi?id=63119>.

 test/run-with-tmp-session-bus.sh |    2 ++
 1 file changed, 2 insertions(+)

commit 121c294b1853a280b01e0504eb1828c6d0e07bbc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2013-04-22 15:44:57 +0100

    Require D-Bus 1.6, drop fallback paths

 NEWS                             |    6 +++++
 _dbus_bindings/compat-internal.h |   19 ---------------
 _dbus_bindings/message-append.c  |   48 --------------------------------------
 configure.ac                     |   11 +--------
 4 files changed, 7 insertions(+), 77 deletions(-)

commit c57c4d281369589b636aee928238b7cf6e42e00f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-10-23 19:34:35 +0100

    NEWS

 NEWS |    7 +++++++
 1 file changed, 7 insertions(+)

commit f52465232234ae71fa16741abcd57aab155949ad
Author: Thiago Macieira <thiago.macieira@intel.com>
Date:   2012-10-23 11:12:21 -0700

    Update the confusing notice of what license dbus-python is under
    
    We tried to change the license for the D-Bus core too but were unable
    to reach all copyright holders. The MIT license was the suggested new
    license and all reached parties had agreed to.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 COPYING |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d262628e89115bbcc33c439c77d33733c4a23491
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-10-16 18:33:08 +0100

    DBusException: override both __str__ and __unicode__
    
    Avoid chaining up to the superclass, because that behaves particularly
    oddly. This fixes regression test failures: str(some_dbus_exception) was no
    longer prefixed with the D-Bus error name under Python 2.
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=55899

 dbus/exceptions.py |   28 +++++++++++++++++-----------
 1 file changed, 17 insertions(+), 11 deletions(-)

commit 544e05a16e55dad7e666baabfb665997a79d6580
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-10-16 18:31:43 +0100

    Slightly better test coverage

 test/test-client.py |    4 ++++
 1 file changed, 4 insertions(+)

commit efdd1823239b02fe5a39e766cbd7597e6c3fcb96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-10-16 17:52:36 +0100

    Use a form of assertRaises() that works in Python 2.6

 test/test-exception-py2.py |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 83615efbed565a689008b00a4ac82fc0fc4e5603
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-10-16 17:52:22 +0100

    Skip test_dbus_exception_convert_str_fail under unusual default encodings
    
    This would actually work fine if the default encoding was UTF-8 or
    Latin-1 or something.

 test/test-exception-py2.py |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 09b540bd55fb2fca14d4df7e0c520b8ba0ce4646
Author: Michael Vogt <mvo@ubuntu.com>
Date:   2012-10-12 13:37:51 +0200

    Support unicode messages for DBusException in Python 2
    
    [commit message amended -smcv]
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=55899
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 dbus/exceptions.py         |   23 ++++++++++++++++--
 test/run-test.sh           |    6 +++++
 test/test-exception-py2.py |   58 ++++++++++++++++++++++++++++++++++++++++++++
 test/test-exception-py3.py |   31 +++++++++++++++++++++++
 4 files changed, 116 insertions(+), 2 deletions(-)

commit 5558ee11313fd929ed6aeb22228e89de2263e520
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 12:17:10 +0100

    Link Python extensions differently on Windows

 _dbus_bindings/Makefile.am      |   14 ++++++++++++++
 _dbus_glib_bindings/Makefile.am |   14 ++++++++++++++
 configure.ac                    |   13 +++++++++++++
 3 files changed, 41 insertions(+)

commit ec2671485a23090c470180eb297e67b86638d9b5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 12:15:16 +0100

    Replace incorrect AM_LDFLAGS usage with a proper AM_LDFLAGS/LIBADD split

 _dbus_bindings/Makefile.am      |    6 +++++-
 _dbus_glib_bindings/Makefile.am |    8 +++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 9c02d05642c8f99e3fe61804bcc33df380ebd5b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 20:27:12 +0100

    run-test.sh: don't go via make to run the cross-test
    
    Based on a patch from Christoph Höger.
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=51725

 test/run-test.sh |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e8a507570e12778a0f325786fcf9f5f768019118
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 19:49:13 +0100

    NEWS

 NEWS |   14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit f3199102a68c72460fd0a025ab966557a0996223
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 19:49:07 +0100

    Don't include stdint.h
    
    Every use here turns out to be unnecessary, some compilers *still*
    don't have it after more than a decade in ISO C, and if we need
    fixed-length integer types we can use the ones from D-Bus.

 _dbus_bindings/abstract.c       |    2 --
 _dbus_bindings/bytes.c          |    2 --
 _dbus_bindings/containers.c     |    2 --
 _dbus_bindings/float.c          |    2 --
 _dbus_bindings/signature.c      |    2 --
 _dbus_bindings/types-internal.h |    1 -
 6 files changed, 11 deletions(-)

commit 6f5ec9552ca169b66b338698850a125151e3599c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 19:36:26 +0100

    Re-indent now that the indentation is unecessary

 _dbus_bindings/server.c |   61 ++++++++++++++++++++++-------------------------
 1 file changed, 29 insertions(+), 32 deletions(-)

commit 5b79604a6d1eb11268293342d19da633e5eedaa4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 19:35:43 +0100

    Avoid variable-length arrays, which MSVC *still* doesn't support
    
    Based on patches from Christoph Höger.
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=51725

 _dbus_bindings/message-append.c |   16 +++++++++++++---
 _dbus_bindings/server.c         |   30 ++++++++++++++++++++----------
 2 files changed, 33 insertions(+), 13 deletions(-)

commit bdc48547078b8ba09856c81b7c4f148fb163c01b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-07-04 19:19:12 +0100

    Use AC_C_INLINE to make sure "inline" works

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit 3d23ff9e91151c2fb8e5ccb74067ff7ad6df3067
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-06-25 21:20:12 +0100

    reset to unreleased

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 86b978042fa23d9b262cb0baa40398e21ddb0530
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-06-25 21:19:35 +0100

    prepare release

 NEWS         |    4 +++-
 configure.ac |    4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit f6066573d25508f5cbbc5c12254086d419bb8828
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-06-25 17:01:51 +0100

    fd.o #40817: validate UTF-8 according to the same rules as libdbus

 NEWS                            |    8 +++
 _dbus_bindings/message-append.c |  102 ++++++++++++++++++++++++++++-----------
 configure.ac                    |    4 ++
 test/test-standalone.py         |   59 +++++++++++++++++++++-
 4 files changed, 143 insertions(+), 30 deletions(-)

commit 4a0f4379d4a5783d576aec90019a39459eff007d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-06-05 19:39:20 +0100

    NEWS

 NEWS |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 6ff89bf0d05a550cf1aff2053579fc1f0192cd97
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-06-05 19:07:51 +0100

    Py3: correctly guess the signature of ObjectPath(...) and Signature(...)
    
    Under Python 2, ObjectPath and Signature are subtypes of str (= bytes),
    and the existing type-guessing worked.
    
    The type-guessing code assumed that all unicode objects were just
    strings, but that assumption became false in the Python 3 port:
    ObjectPath and Signature are still subtypes of str, but str now means
    unicode, not bytes.
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=50740

 _dbus_bindings/message-append.c |   14 ++++++++++++--
 test/test-standalone.py         |    2 ++
 2 files changed, 14 insertions(+), 2 deletions(-)

commit 2f08b9e644c8530c4d324c4bd9d8a0cdb24edc92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-05-09 17:50:59 +0100

    Back to unreleased status

 NEWS         |    5 +++++
 configure.ac |    2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 4a4bce958b3257b7cb2adc050022879660aface1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-05-09 15:47:48 +0100

    1.1.0

 NEWS                    |   35 +++++++++++++++++++++++++++++++++++
 configure.ac            |    4 ++--
 dbus/gobject_service.py |    1 +
 3 files changed, 38 insertions(+), 2 deletions(-)

commit e2e589889ef5257f62cc3a32561142f625716ef0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-05-02 11:11:11 +0100

    Make AM_CHECK_PYTHON_HEADERS compatible with Python 3 in the absence of python3-config

 m4/am-check-python-headers.m4 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2f59718a4bf22cbea28e0c7b2f880f86d4497a7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-05-02 10:44:13 +0100

    Deprecate dbus.gobject_service and make it vaguely compatible with 1.0
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=48904

 dbus/gobject_service.py |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 5b9f87676802f04ebc339fd16a4a30dc42e33c91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-05-02 10:41:27 +0100

    Reinstate the old dbus.gobject_service, but only for Python 2
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=48904

 Makefile.am             |    6 ++++
 configure.ac            |    5 ++++
 dbus/gobject_service.py |   71 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 82 insertions(+)

commit ba3f3ff253982c9ad3b5a33df5b120e5692c9d29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-05-02 10:39:29 +0100

    Rename gobject_service (PyGI version) to gi_service
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=48904

 Makefile.am             |    2 +-
 dbus/gi_service.py      |   83 +++++++++++++++++++++++++++++++++++++++++++++++
 dbus/gobject_service.py |   83 -----------------------------------------------
 test/test-service.py    |   10 +++---
 4 files changed, 89 insertions(+), 89 deletions(-)

commit f264e37f13720898d941f3636f77c489a9a1d845
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-03-12 11:41:00 +0000

    Fix ref leak in dbus_py_variant_level_set
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=47108
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/abstract.c |    2 ++
 1 file changed, 2 insertions(+)

commit c53788657c0cfbd038325e690e7097e31f5e8430
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-02-29 13:35:24 +0000

    Put sockets for the regression tests in /tmp, not ${builddir}
    
    Some automated build systems (naming no Portage) have really long build
    directories, which can cause dbus-python to hit the length limit for Unix
    sockets' names.
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=46747
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 test/tmp-session-bus.conf.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1055343d746accc4048e5806f84a880143444c9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-11-15 16:07:57 +0000

    Use DBusBasicValue instead of reinventing it, if dbus is new enough
    
    If we don't find it, continue to reinvent it, but move the reinvention
    to an internal header so it's at least the same in both files that want it.

 _dbus_bindings/Makefile.am        |    1 +
 _dbus_bindings/compat-internal.h  |   52 ++++++++++++++++++++++++++++++++++
 _dbus_bindings/message-append.c   |   56 ++++++++++++++++---------------------
 _dbus_bindings/message-get-args.c |   56 +++++++++++++++----------------------
 configure.ac                      |    5 ++++
 5 files changed, 104 insertions(+), 66 deletions(-)

commit 8e4836c318eb64ef720b497bebc247ac6a468b4b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-02-01 10:10:26 +0000

    Fix _maintainer-update-htmldocs for out-of-tree builds

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de81bf8dd5d70f4184412a5c7c2aacd82348d7ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-02-01 10:10:10 +0000

    Remove TODO, which is now empty - use bugzilla instead

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 996a3f46f0998219eaf0cd68a744ebc90cfc6dd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 20:33:38 +0000

    back to unreleased

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c59647b024b3242810fe46e500d557fd56d684d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 20:33:26 +0000

    retroactively add release date

 NEWS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a8eb939ab4603a931457c5d4e8dfcdc323eaf89
Author: Barry Warsaw <barry@python.org>
Date:   2012-01-24 16:43:05 +0000

    Install _compat.py

 Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit d1ccc12dd1dee34faae52c7b325048ea801599fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 16:41:46 +0000

    Generate ChangeLog correctly when out-of-tree

 Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1ee2b1a8cf729a71ae56e5671564c5fd62504707
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 16:36:49 +0000

    Let's call this 1.0

 NEWS         |    6 ++++--
 configure.ac |    6 +++---
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 5b76f66e79f9bc07241a44c0277d4bbebc08ce20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 16:35:45 +0000

    Remove duplicate -Werror machinery

 configure.ac |    8 --------
 1 file changed, 8 deletions(-)

commit cd4e91c65624062b5504c10b2af0a05aefbf4878
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 16:35:38 +0000

    Move PY3PORT into doc, use the same extension as other rst, and render it

 Makefile.am     |   16 +++-
 NEWS            |    3 +
 PY3PORT.rst     |  224 -------------------------------------------------------
 configure.ac    |    2 +-
 doc/PY3PORT.txt |  224 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 240 insertions(+), 229 deletions(-)

commit 09ca5de0f38d3cc30b8d149b2a8c9f0ad810a09a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 16:21:15 +0000

    Describe problems, alternatives

 README |   24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit b486edf800ecb9d2e23a35f7ac3151657ee39250
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-24 16:06:35 +0000

    Deprecate dbus.glib (use dbus.mainloop.glib or dbus.mainloop.qt4)

 dbus/glib.py |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 50fa5eb54992c28d63b0532533f755ff39f082e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 15:02:40 +0000

    Add INTORLONG_CHECK macro so we don't have to conditionalize PyInt_Check

 _dbus_bindings/bus.c                    |    7 ++-----
 _dbus_bindings/bytes.c                  |    8 ++------
 _dbus_bindings/dbus_bindings-internal.h |    2 ++
 _dbus_bindings/message-append.c         |    8 +++-----
 _dbus_bindings/unixfd.c                 |    7 ++-----
 5 files changed, 11 insertions(+), 21 deletions(-)

commit 4f043cf34a8001c071644eb8c89dc7d43e86b62a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 15:01:39 +0000

    Use native 'int' (whatever that means) for variant_level etc.
    
    This reverts the Python 2 API to be in terms of PyInt, leaving the
    Python 3 API in terms of PyLong (which is called 'int' in Python code).

 NEWS                                    |    3 ---
 PY3PORT.rst                             |    2 --
 _dbus_bindings/abstract.c               |   12 ++++++------
 _dbus_bindings/bytes.c                  |    4 ++--
 _dbus_bindings/conn-methods.c           |    2 +-
 _dbus_bindings/dbus_bindings-internal.h |    6 ++++++
 _dbus_bindings/message-get-args.c       |    2 +-
 _dbus_bindings/message.c                |    2 +-
 8 files changed, 17 insertions(+), 16 deletions(-)

commit cdc0ca5c72686aab38a172f14da3b38fe304baa9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 14:59:36 +0000

    update NEWS, PY3PORT.rst

 NEWS        |   20 +++++++++++++++++---
 PY3PORT.rst |    9 ++++-----
 2 files changed, 21 insertions(+), 8 deletions(-)

commit ae61078cc90917c20b14298aaec18e87e149d337
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 14:04:14 +0000

    Test behaviour of various Message methods

 test/test-standalone.py |   54 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 69342f86b0d036ca41a19363efaf4e8352837c24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 14:03:53 +0000

    Do not allow Byte(unicode(x)) (i.e. Byte(str(x)) in Python 3)
    
    Unicode strings aren't bytestrings, so there's no obvious meaning for
    the byte value of a Unicode string of length 1.

 PY3PORT.rst               |   12 ++++++------
 _dbus_bindings/bytes.c    |   14 --------------
 test/cross-test-client.py |   18 +++++++++---------
 test/test-standalone.py   |   38 +++++++++++++++++++++++++++++++-------
 4 files changed, 46 insertions(+), 36 deletions(-)

commit cada4883df6b67f4059eedd2def1f5cffa41c7d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 12:58:21 +0000

    Use better names for the superclasses of Byte and ByteArray
    
    Strictly speaking, DBUS_FOO is libdbus' namespace, not ours. Use
    DBUS_PY_FOO.
    
    DBUS_BYTES_BASE was misleading: it's the base class for a single byte,
    so call it DBUS_PY_BYTE_BASE.

 _dbus_bindings/bytes.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit beaa479066a0139bbb09f058818cd5476f1a79d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 12:57:15 +0000

    Consistently use the str type for identifier-like (ASCII) strings
    
    Porting to Python 3 left these methods returning unicode, which is
    arguably an API break in Python 2:
    
    * Message.get_member
    * Message.get_path_decomposed (array of unicode)
    * Message.get_sender
    * Message.get_destination
    * Message.get_interface
    * Message.get_error_name
    * Server.get_address
    * Server.get_id
    
    Instead, make them return whatever the natural str type is (bytes in
    Python 2, unicode in Python 3).

 _dbus_bindings/bus.c          |    6 +-----
 _dbus_bindings/conn-methods.c |    6 +-----
 _dbus_bindings/exceptions.c   |    4 ++--
 _dbus_bindings/message.c      |   12 ++++++------
 _dbus_bindings/server.c       |    4 ++--
 5 files changed, 12 insertions(+), 20 deletions(-)

commit a5c77b73651f8f288f7ea2eb9029895eed3cacab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 12:54:26 +0000

    DBusPythonString base class: use "native str" as base class instead of reinventing it

 _dbus_bindings/abstract.c               |   16 +++++-----------
 _dbus_bindings/dbus_bindings-internal.h |    2 ++
 2 files changed, 7 insertions(+), 11 deletions(-)

commit 0daad225ff9085c4013da69e5733e8846e9b8de3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2012-01-11 12:50:43 +0000

    SignalMessage.__repr__: include the destination and abbreviate "interface" more conventionally
    
    Yes, signals can have a destination. The default is to broadcast.

 _dbus_bindings/message.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 9201d65b31305c8bef86ab072b7c33b197ede562
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-17 12:09:57 -0500

    Quash a few more deprecations.

 test/test-p2p.py     |   10 +++++-----
 test/test-signals.py |    2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit f8dab5af0bef5d26a51df41a564a5285c16a9cb5
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-16 17:07:07 -0500

    More Python 3 porting, this time primarily to get test-client.py working.
    Changes include:
    
    - DBusException.get_dbus_message(): In Python 3, the str of the exception will
      already be a unicode, so don't try to decode it unless it's a bytes object
      (a.k.a. 8-bit str in Python 2).
    - gobject_service.py: Switch to pygi and rewrite the metaclass instantiation
      code to be portable between Python 2 and Python 3.
    - run-test.sh: echo a few more useful environment variables
    - test-client.py:
      - Globally replace deprecated assertEquals with assertEqual
      - Globally replace deprecated assert_ with assertTrue
      - Use bytes objects for both 'ay' signatured methods on the server
      - AcceptUnicodeString will return a native unicode, i.e. a str in Python 3
        and a unicode in Python 2.  Python 3 has no `unicode` built-in.
      - Reformat some long lines for debugging.
    - test-service.py:
      - Open the log file in 'a' mode for easier tailing.
      - AcceptUnicodeString will return a native unicode, i.e. a str in Python 3
        and a unicode in Python 2.  Python 3 has no `unicode` built-in.
      - reformat some long lines for debugging.
      - Put module-scope code into a main() function and add a bunch of logger
        output for better debugging.  `session_bus` must still be global though.
        Wrap main() in a bit try/except to log all top-level exceptions.

 dbus/exceptions.py      |    5 +-
 dbus/gobject_service.py |   76 +++++++++-------
 test/run-test.sh        |    2 +
 test/test-client.py     |  231 +++++++++++++++++++++++++----------------------
 test/test-service.py    |   57 ++++++++----
 5 files changed, 214 insertions(+), 157 deletions(-)

commit 2167b305db78b8345b0f5ea23bfa445fa7cfca4d
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-16 11:15:01 -0500

    Re-enable the other tests, even though these still fail for me (b.f.o #43303).
    Fix another except syntax problem.

 test/run-test.sh    |   12 ++++++------
 test/test-client.py |    6 +++---
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 0c71d7dd6eb843a74931c714d6142921f1971f88
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-15 19:58:06 -0500

    Re-enable previously disabled test.

 test/cross-test-client.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ef05d294e85978cf96a86535321cf914b605fa48
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-15 19:37:23 -0500

    Fix the match rule semantics so that a match rule of "arg0='/'" does not match
    object paths in Python3, as per Simon's review comments.

 dbus/connection.py      |   18 +++++++++---------
 test/test-standalone.py |   19 +++++++++++++++++++
 2 files changed, 28 insertions(+), 9 deletions(-)

commit 8e87ac365f6b08c0617985488dd5d27148c9281d
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-15 17:55:20 -0500

    Consistency; clean-up.

 _dbus_bindings/abstract.c |    8 ++++----
 _dbus_bindings/bytes.c    |    8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit f2909c23abc4f8fa55d71673785f8e70a843f6ce
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-15 16:50:02 -0500

    - Added back the missing PY3PORT.rst file, with updates.
    - Disallow appending unicode objects with 'y' (bytes) signatures.  This now
      requires either a bytes object or an integer.  Update the tests to reflect
    - this change.
    - Fix broken __all__ in Python 3.

 PY3PORT.rst                     |  227 +++++++++++++++++++++++++++++++++++++++
 _dbus_bindings/message-append.c |   26 ++---
 dbus/types.py                   |    5 +-
 test/cross-test-client.py       |    9 +-
 test/run-test.sh                |    1 +
 test/test-standalone.py         |   10 +-
 6 files changed, 249 insertions(+), 29 deletions(-)

commit 4c1c2eade1c5b383adad94a7a4fd6553873fecf0
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-15 06:57:21 -0500

    This is the big one; it adds Python 3 support.

 _dbus_bindings/Makefile.am              |    3 +-
 _dbus_bindings/abstract.c               |  182 +++++++++++++++++++++++++++--
 _dbus_bindings/bus.c                    |   20 +++-
 _dbus_bindings/bytes.c                  |   59 ++++++++--
 _dbus_bindings/conn-methods.c           |   30 +++--
 _dbus_bindings/conn.c                   |   32 ++++-
 _dbus_bindings/containers.c             |   59 +++++++++-
 _dbus_bindings/dbus_bindings-internal.h |   31 +++--
 _dbus_bindings/exceptions.c             |    4 +-
 _dbus_bindings/int.c                    |   44 ++++---
 _dbus_bindings/message-append.c         |  195 +++++++++++++++++++++++++------
 _dbus_bindings/message-get-args.c       |   27 ++++-
 _dbus_bindings/message.c                |   60 ++++++++--
 _dbus_bindings/module.c                 |  143 +++++++++++++++--------
 _dbus_bindings/server.c                 |   40 +++++--
 _dbus_bindings/signature.c              |   34 ++++--
 _dbus_bindings/string.c                 |   17 +--
 _dbus_bindings/types-internal.h         |   12 +-
 _dbus_bindings/unixfd.c                 |    7 +-
 _dbus_glib_bindings/Makefile.am         |    2 +-
 _dbus_glib_bindings/module.c            |   32 +++++
 configure.ac                            |    2 +-
 dbus/__init__.py                        |   19 ++-
 dbus/_compat.py                         |    8 ++
 dbus/_dbus.py                           |   11 +-
 dbus/_expat_introspect_parser.py        |    2 +-
 dbus/bus.py                             |   23 +++-
 dbus/connection.py                      |   79 ++++++++-----
 dbus/decorators.py                      |   19 +--
 dbus/proxies.py                         |   12 +-
 dbus/service.py                         |   25 ++--
 dbus/types.py                           |    6 +-
 include/dbus-python.h                   |   18 +++
 test/cross-test-client.py               |  107 ++++++++++-------
 test/cross-test-server.py               |   34 ++++--
 test/dbus_py_test.c                     |   26 +++++
 test/run-test.sh                        |   14 ++-
 test/test-client.py                     |  149 ++++++++++++-----------
 test/test-p2p.py                        |   21 ++--
 test/test-service.py                    |    9 +-
 test/test-standalone.py                 |  173 +++++++++++++++++----------
 test/test-unusable-main-loop.py         |    5 +-
 42 files changed, 1333 insertions(+), 462 deletions(-)

commit 667082d0b4aef9c438a2e7fec89614b5b8ef960a
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-14 15:05:16 -0500

    First round of PyInt -> PyLong changes.  These are only compatible with Python
    2, since there are still some unconditional PyInt calls, which are not valid
    in Python 3.  However, it lays the framework for conditionalizing on Python 3
    and using only PyLong in that case.  Where it doesn't matter, PyLong is used
    unconditionally.

 _dbus_bindings/abstract.c         |   20 ++++++--
 _dbus_bindings/bus.c              |    6 ++-
 _dbus_bindings/bytes.c            |   34 +++++++++----
 _dbus_bindings/conn-methods.c     |    2 +-
 _dbus_bindings/conn.c             |    2 +-
 _dbus_bindings/containers.c       |   11 +++--
 _dbus_bindings/generic.c          |    4 +-
 _dbus_bindings/int.c              |   33 ++++++++-----
 _dbus_bindings/message-append.c   |   21 ++++++--
 _dbus_bindings/message-get-args.c |    2 +-
 _dbus_bindings/message.c          |    2 +-
 _dbus_bindings/types-internal.h   |    3 ++
 _dbus_bindings/unixfd.c           |   95 ++++++++++++++++++++++++-------------
 test/test-standalone.py           |    7 +--
 14 files changed, 166 insertions(+), 76 deletions(-)

commit 11c639e3bd2ca3e6a87f349155dda2acc3cd92ea
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-14 13:54:31 -0500

    Add error checking to dbus_py_variant_level_get() and call sites.

 _dbus_bindings/abstract.c       |   22 +++++++++++++++++++---
 _dbus_bindings/containers.c     |    4 ++++
 _dbus_bindings/message-append.c |    4 ++++
 3 files changed, 27 insertions(+), 3 deletions(-)

commit 71f4481c1876785572170ef68d5624ed23f91333
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-14 13:36:39 -0500

    In preparation for Python 3 support, use the Python 2 PyBytes aliases for the
    PyString API.  This makes the code compilable in Python 2.x (x >= 6) and
    Python 3.

 _dbus_bindings/abstract.c       |   21 ++++---
 _dbus_bindings/bus.c            |    4 +-
 _dbus_bindings/bytes.c          |    8 +--
 _dbus_bindings/conn-methods.c   |   40 ++++++------
 _dbus_bindings/conn.c           |    2 +-
 _dbus_bindings/containers.c     |    8 +--
 _dbus_bindings/exceptions.c     |    4 +-
 _dbus_bindings/message-append.c |  128 ++++++++++++++++++++-------------------
 _dbus_bindings/message.c        |   12 ++--
 _dbus_bindings/server.c         |    6 +-
 _dbus_bindings/signature.c      |    4 +-
 _dbus_bindings/types-internal.h |    7 +++
 12 files changed, 129 insertions(+), 115 deletions(-)

commit ca7a705663adbac2e781d10c13fc98a5444ef646
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-14 12:00:04 -0500

    In preparation for Python 3 support, all reprs now return unicodes, which is
    legal in Python 2 also.  Use fancy REPR macro and the %V format code for
    cross-Python compatibility.

 _dbus_bindings/abstract.c               |   48 ++++++++++++-------------
 _dbus_bindings/containers.c             |   60 +++++++++++++++----------------
 _dbus_bindings/dbus_bindings-internal.h |   25 +++++++++++++
 _dbus_bindings/int.c                    |   14 ++++----
 _dbus_bindings/string.c                 |   12 +++----
 5 files changed, 92 insertions(+), 67 deletions(-)

commit 5ff1d938ee230b47dcab8b7703409067df35ed2f
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 17:36:49 -0500

    Modernize multiline imports in preparation for Python 3 support.

 dbus/__init__.py   |   34 +++++++++++++++-------------------
 dbus/_dbus.py      |   12 +++++-------
 dbus/bus.py        |   27 ++++++++++-----------------
 dbus/connection.py |   15 +++++++--------
 dbus/lowlevel.py   |   14 +++++---------
 dbus/proxies.py    |   10 ++++++----
 dbus/service.py    |   10 +++++-----
 dbus/types.py      |    9 ++++-----
 8 files changed, 57 insertions(+), 74 deletions(-)

commit dc7b07bc5921cd6263552bb1f3351416327fd67c
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 17:26:15 -0500

    Modernize `raise` syntax in preparation of Python 3 support.

 dbus/decorators.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e033b0c8f22a67abfe2ba1b61365d0c2570b7429
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 17:22:22 -0500

    Import threading instead of thread.  The latter is gone in Python 3.

 dbus/_dbus.py      |    5 -----
 dbus/connection.py |    7 ++-----
 dbus/service.py    |    7 ++-----
 3 files changed, 4 insertions(+), 15 deletions(-)

commit 061e55e8edbfb457bf56194c52e7d7624855cf41
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 17:17:46 -0500

    Fix an inconsequential typo.

 _dbus_bindings/signature.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4477b6120240e186db8d86619f6da63faca296ba
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 17:15:41 -0500

    For pendantic correctness, and future Python 3 compatibility, explicitly
    initialize the weaklist slots.

 _dbus_bindings/conn.c   |    1 +
 _dbus_bindings/server.c |    1 +
 2 files changed, 2 insertions(+)

commit 48abd4782f336de2d6dd228e58f86729778e26fb
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 17:08:50 -0500

    Don't leak the fast_seq object.

 _dbus_bindings/server.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 033a0f2890495053fd6474d6f52d4a6e9c32cca1
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 16:50:38 -0500

    - Add a few missing Py_TYPE() changes for Python 3 compatibility.
    - De-tabbify a few instances that "make check" complains about.

 _dbus_bindings/bytes.c          |    2 +-
 _dbus_bindings/containers.c     |    8 ++++----
 _dbus_bindings/message-append.c |    2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 4a26dab362e8ddd7a765f1249649408f62eb96e7
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 16:21:04 -0500

    Additional PyObject_HEAD_INIT -> PyVarObject_HEAD_INIT changes in preparation
    for Python 3 support.

 _dbus_bindings/abstract.c    |   12 ++++--------
 _dbus_bindings/conn.c        |    3 +--
 _dbus_bindings/int.c         |    3 +--
 _dbus_bindings/libdbusconn.c |    3 +--
 _dbus_bindings/message.c     |   15 +++++----------
 _dbus_bindings/server.c      |    3 +--
 6 files changed, 13 insertions(+), 26 deletions(-)

commit deccd695a43573d31183fe0e93316d306ce989f2
Author: Alexandre Rostovtsev <tetromino@gentoo.org>
Date:   2011-12-13 12:06:17 +0000

    Fix rst2html build failure in non-unicode locales
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=43735
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 NEWS         |    2 ++
 configure.ac |    1 +
 2 files changed, 3 insertions(+)

commit 75f2aaaa06e57bc1fbdbaf0530e48dea02541b03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-12-13 12:04:25 +0000

    Update NEWS

 NEWS |    9 +++++++++
 1 file changed, 9 insertions(+)

commit cabcf23207a67cb9215e3efc25ae6e8d73823fd1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-12-13 12:04:19 +0000

    Remove dbus_bindings, deprecated for nearly 5 years

 Makefile.am           |    4 +---
 NEWS                  |    5 +++++
 dbus/__init__.py      |    4 ----
 dbus/_dbus.py         |   18 ------------------
 dbus/dbus_bindings.py |   37 -------------------------------------
 dbus_bindings.py      |    1 -
 6 files changed, 6 insertions(+), 63 deletions(-)

commit 14225c74b5bd75cf6c4cda3647341dc20214e6b8
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 11:55:44 +0000

    Use Python 3 syntax to catch exceptions
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 dbus/_expat_introspect_parser.py |    2 +-
 dbus/bus.py                      |    2 +-
 dbus/connection.py               |    6 +++---
 dbus/proxies.py                  |    2 +-
 dbus/service.py                  |    6 +++---
 examples/example-client.py       |    2 +-
 test/cross-test-client.py        |    8 ++++----
 test/test-client.py              |   12 ++++++------
 test/test-service.py             |    2 +-
 9 files changed, 21 insertions(+), 21 deletions(-)

commit 959ce518a3b5b8794b9813bac82c64540c21fc31
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 11:51:17 +0000

    Use PyVarObject_HEAD_INIT to initialize types
    
    Part of a patch for Python 3 compatibility.
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/bytes.c        |    6 ++----
 _dbus_bindings/containers.c   |    9 +++------
 _dbus_bindings/float.c        |    6 ++----
 _dbus_bindings/int.c          |   18 ++++++------------
 _dbus_bindings/mainloop.c     |    3 +--
 _dbus_bindings/pending-call.c |    3 +--
 _dbus_bindings/signature.c    |    6 ++----
 _dbus_bindings/string.c       |    9 +++------
 _dbus_bindings/unixfd.c       |    3 +--
 9 files changed, 21 insertions(+), 42 deletions(-)

commit 380d1f383c65e767c49d8416dde041a59ba1343e
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 11:46:17 +0000

    Adjust debug messages
    
    Part of a patch for Python 3 compatibility.
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/message-append.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fc24dbaa43e1aea47945cc608640022fd8f94093
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-12-13 11:39:32 +0000

    Require Python 2.6, to make porting to Python 3 easier
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 NEWS         |    2 +-
 configure.ac |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ebd44a420264da0031b715f7f08a0b347a81dd30
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-12-13 11:38:48 +0000

    Use Py_TYPE() rather than thing->ob_type, for Python 3 portability
    
    Based on part of a patch from Barry Warsaw.
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/abstract.c               |   16 ++++++++--------
 _dbus_bindings/bytes.c                  |    2 +-
 _dbus_bindings/conn.c                   |    2 +-
 _dbus_bindings/containers.c             |    4 ++--
 _dbus_bindings/dbus_bindings-internal.h |    4 ++--
 _dbus_bindings/int.c                    |    4 ++--
 _dbus_bindings/libdbusconn.c            |    2 +-
 _dbus_bindings/message-append.c         |    2 +-
 _dbus_bindings/message-get-args.c       |    2 +-
 _dbus_bindings/message.c                |    4 ++--
 _dbus_bindings/pending-call.c           |    2 +-
 _dbus_bindings/server.c                 |    2 +-
 _dbus_bindings/string.c                 |    4 ++--
 13 files changed, 25 insertions(+), 25 deletions(-)

commit dc1c98f05d29c5b7464d7ac34ee900066f261a86
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-12-13 11:30:54 +0000

    _message_iter_get_pyobject: if UTF-8 from libdbus is invalid, don't crash
    
    Based on part of a patch from Barry Warsaw.
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/message-get-args.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 876c668ecbc7b79aa04218b90e0f8b617d3997ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-12-13 11:26:31 +0000

    Don't warn about unused parameters
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d1b628e10626a51c306ac8f59bcfbaae2b6fbf2b
Author: Barry Warsaw <barry@python.org>
Date:   2011-12-13 11:25:01 +0000

    Don't leak UTF-8 string if serializing a unicode object fails with OOM
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/message-append.c |    1 +
 1 file changed, 1 insertion(+)

commit fb64313b8d37a7869c5489c8ee1bfad0c2c84c0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-12-13 11:22:28 +0000

    Remove dbus_py_tp_richcompare_by_pointer, dbus_py_tp_hash_by_pointer
    
    These turn out not to be used for anything. Spotted by Barry Warsaw.
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/dbus_bindings-internal.h |    4 ----
 _dbus_bindings/generic.c                |   23 -----------------------
 2 files changed, 27 deletions(-)

commit 3caf4241af3a0fbee5948a217172990bb3c5e0b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-11-15 16:34:51 +0000

    NEWS

 NEWS |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 092f60d1887a907434fb34e3a8841b067c21a01e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-11-15 16:23:50 +0000

    Remove support for Python < 2.5

 _dbus_bindings/dbus_bindings-internal.h |    7 -------
 _dbus_bindings/module.c                 |   10 ----------
 configure.ac                            |    2 +-
 3 files changed, 1 insertion(+), 18 deletions(-)

commit dfa62b24adde8666df4d9cf64569d3aa51063ac8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-11-15 13:33:27 +0000

    Bump dbus dependency to 1.4 so we can make decent error handling mandatory

 _dbus_bindings/message-append.c |    4 ----
 configure.ac                    |   12 +-----------
 2 files changed, 1 insertion(+), 15 deletions(-)

commit 9c26d255d7d94a6a9be961672ca666de601b561d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-25 13:51:24 +0100

    Nano version

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6bdb27482cace69935584d2d9b33bdfce50ef5ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-25 12:50:36 +0100

    prepare 0.84

 NEWS         |   11 ++++++++++-
 configure.ac |    4 ++--
 2 files changed, 12 insertions(+), 3 deletions(-)

commit 5ee02bf8785167f042636ab3005105243bff533b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-24 17:49:20 +0100

    Let PYTHON_LIBS be overriden on the command line too
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=21017

 configure.ac |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit e9feba0f7b3a2b67fd56154185e92eab4b932468
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-24 17:48:36 +0100

    Let the user set PYTHON_INCLUDES on the configure command line
    
    This might be useful for cross-compilation or other strange setups.
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=21017

 m4/am-check-python-headers.m4 |   32 +++++++++++++++++++-------------
 1 file changed, 19 insertions(+), 13 deletions(-)

commit d6962024d7686e40cc012905581cb31c6999b856
Merge: 4093246 cbc3f71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-24 16:39:13 +0100

    Merge branch 'fd-passing'
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=30812
    Tested-by: Elvis Pfützenreuter <epx@signove.com>

commit 4093246a1593ccc7bf02b5097254df163ab33b8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 12:30:57 +0100

    NEWS

 NEWS |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 86653c55435a05d047cc6bb191e2df64f3aa165c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-17 18:54:55 +0100

    _ProxyMethod: allow an explicit signature to be given to method calls
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=36206
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

 dbus/proxies.py |   31 ++++++++++++++++++-------------
 1 file changed, 18 insertions(+), 13 deletions(-)

commit cbc3f71cebc313b988f8ecc461031c828bfd2302
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 11:10:54 +0100

    remove stray declaration of dbus_py_unixfd_range_check

 _dbus_bindings/types-internal.h |    1 -
 1 file changed, 1 deletion(-)

commit 77f745f8a27af7b0ff4692ec02278591cdda2bbf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 11:09:00 +0100

    unix-fd-service example: also exercise returning UnixFd(int)
    
    Also, cycle through the three possible return types deterministically,
    rather than choosing at random.

 examples/unix-fd-service.py |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 917c41bfcad70c2c519c56a8f2a62e1804c08fc1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 11:02:58 +0100

    Don't try to export DBUS_TYPE_UNIX_FD constant if not defined

 _dbus_bindings/module.c |    2 ++
 1 file changed, 2 insertions(+)

commit 04d9fe485b408bf1139e59c457f665a93f514464
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 11:02:44 +0100

    unixfd: improve documentation

 _dbus_bindings/unixfd.c |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 9d848d864606866f06d3a61cf74e6b9ae44180c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 10:49:11 +0100

    _message_iter_get_pyobject: fix whitespace

 _dbus_bindings/message-get-args.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1f49ac473ac8910aa14f65362088a22e3f60a42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 10:49:00 +0100

    UnixFd: don't close file descriptors passed to the constructor as an int
    
    Elvis agreed that this shouldn't differ from our handling of objects with
    a fileno().
    
    This means that _message_iter_get_pyobject does need to close the fd
    itself, so do that.

 _dbus_bindings/message-get-args.c |    9 +++++++--
 _dbus_bindings/unixfd.c           |   13 ++++---------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 630a7c54d85b36b82b1e180703d712ca2d5c5650
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-18 10:38:49 +0100

    unixfd: coding style

 _dbus_bindings/unixfd.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 13503a5c05b63f19f2d2f65c872fe70debf11700
Author: Elvis Pfützenreuter <epx@signove.com>
Date:   2010-10-14 14:53:29 -0300

    Added Unix Fd support to dbus-python

 _dbus_bindings/Makefile.am              |    1 +
 _dbus_bindings/containers.c             |    3 +
 _dbus_bindings/dbus_bindings-internal.h |    6 +
 _dbus_bindings/message-append.c         |   33 +++++
 _dbus_bindings/message-get-args.c       |   11 ++
 _dbus_bindings/module.c                 |    3 +
 _dbus_bindings/types-internal.h         |    1 +
 _dbus_bindings/unixfd.c                 |  225 +++++++++++++++++++++++++++++++
 dbus/types.py                           |    5 +-
 examples/unix-fd-client.py              |   76 +++++++++++
 examples/unix-fd-service.py             |   70 ++++++++++
 11 files changed, 432 insertions(+), 2 deletions(-)

commit 95dc58760290d190a9f62d13d5b3936a0249cb43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-17 18:56:45 +0100

    example-async-client: remove duplicate handle_hello_error()
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=22560

 examples/example-async-client.py |   12 ------------
 1 file changed, 12 deletions(-)

commit 070bddd9a60604ea47f003a0982ee90356092be5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2011-05-17 18:06:40 +0100

    adjust Scott's patch to force boolean to be 0 or 1, and for coding style

 _dbus_bindings/conn-methods.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 4965899a9a6bfa1d9969895720089986b997189e
Author: Scott Tsai <scottt.tw@gmail.com>
Date:   2011-02-16 23:46:39 +0800

    Wrap dbus_connection_set_allow_anonymous()
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=34342
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 _dbus_bindings/conn-methods.c |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit d2fc8a5a4ac2ce8eab519557c40432a6879a7c23
Author: Scott Tsai <scottt.tw@gmail.com>
Date:   2011-03-24 22:13:55 +0800

    ProxyObject: clear _pending_introspect_queue after execution
    
    Signed-off-by: Simon McVittie <smcv@debian.org>

 dbus/proxies.py |    1 +
 1 file changed, 1 insertion(+)

commit 73fce893626e2e2640a35798266f4ee2bc6c05eb
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 17:47:13 +0000

    Release 0.83.2

 NEWS         |    8 ++++----
 configure.ac |    4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit d51c445c8460507526124c3874f81a205a1ae4b9
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 17:41:12 +0000

    NEWS

 NEWS |   24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit 59a0ea47f343da7626ea6f10f661a942f8eb284a
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 17:39:08 +0000

    DBusPyException_ConsumeError: check whether the constructor failed

 _dbus_bindings/exceptions.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 28880468dddbb0e063d80dd003145a6322238507
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 17:28:33 +0000

    Add a regression test for fd.o #23831

 .gitignore               |    2 ++
 configure.ac             |    4 ++++
 test/Makefile.am         |    8 +++++++-
 test/import-repeatedly.c |   16 ++++++++++++++++
 4 files changed, 29 insertions(+), 1 deletion(-)

commit d3f57baf2a9e5e26e2365313abd2890239b6572a
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 17:27:34 +0000

    fd.o #23831: make sure to ref types passed to PyModule_AddObject
    
    This avoids these static types wrongly being deallocated. Python
    implements static types as having one initial reference, which is never
    meant to be released, but if you get your refcounting wrong they'll be
    "deallocated" (causing a crash) during Py_Finalize.

 _dbus_bindings/abstract.c     |    1 +
 _dbus_bindings/bytes.c        |    1 +
 _dbus_bindings/conn.c         |    2 ++
 _dbus_bindings/containers.c   |    1 +
 _dbus_bindings/float.c        |    1 +
 _dbus_bindings/int.c          |    1 +
 _dbus_bindings/libdbusconn.c  |    3 +++
 _dbus_bindings/mainloop.c     |    2 ++
 _dbus_bindings/message.c      |    7 +++++++
 _dbus_bindings/pending-call.c |    2 ++
 _dbus_bindings/server.c       |    2 ++
 _dbus_bindings/signature.c    |    1 +
 _dbus_bindings/string.c       |    1 +
 13 files changed, 25 insertions(+)

commit 56ad64cd14e52b479489549f76343f19e3842139
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 16:31:07 +0000

    Use Py_CLEAR for greater robustness

 _dbus_bindings/abstract.c         |   36 ++++++++---------
 _dbus_bindings/bus.c              |   10 ++---
 _dbus_bindings/bytes.c            |    6 +--
 _dbus_bindings/conn-methods.c     |   60 ++++++++++++++--------------
 _dbus_bindings/conn.c             |   18 ++++-----
 _dbus_bindings/containers.c       |   78 ++++++++++++++++++-------------------
 _dbus_bindings/exceptions.c       |    8 ++--
 _dbus_bindings/generic.c          |    2 +-
 _dbus_bindings/int.c              |   32 +++++++--------
 _dbus_bindings/message-append.c   |   59 ++++++++++++++--------------
 _dbus_bindings/message-get-args.c |   42 ++++++++++----------
 _dbus_bindings/message.c          |   14 +++----
 _dbus_bindings/module.c           |    2 +-
 _dbus_bindings/pending-call.c     |   16 ++++----
 _dbus_bindings/server.c           |   18 ++++-----
 _dbus_bindings/signature.c        |    6 +--
 _dbus_bindings/string.c           |    4 +-
 _dbus_glib_bindings/module.c      |   10 ++---
 test/dbus_py_test.c               |    8 ++--
 19 files changed, 209 insertions(+), 220 deletions(-)

commit cb1bbd2414e892469023653ea7ddd5d39cd76b84
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 15:15:02 +0000

    dbus_py_Message_append: avoid looking beyond the valid part of a signature
    
    Similar reasoning: we don't even want to look where the iterator is
    pointing if the last call to dbus_signature_iter_next indicated "no more".

 _dbus_bindings/message-append.c |   36 ++++++++++++++++++++++--------------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit db66571902a3406fc58ac453d8bfa7f689f46c42
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 15:13:28 +0000

    _message_iter_append_multi: bail out safely if a struct isn't filled
    
    In newer versions of libdbus, calling dbus_signature_iter_get_current_type
    when the iterator is pointing at the ')' of a struct trips an assertion
    failure, rather than just returning INVALID.

 _dbus_bindings/message-append.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 3813781fec33ed3cf33cedbfe7d1ecaf8af34aee
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 15:10:50 +0000

    Use dbus_message_iter_abandon_container to bail out, if supported
    
    This avoids (potentially fatal) warnings, with newer libdbus; it'll only
    work if we were compiled against libdbus >= 1.3.0.

 _dbus_bindings/message-append.c |   22 ++++++++++++++++++++--
 configure.ac                    |    4 ++++
 2 files changed, 24 insertions(+), 2 deletions(-)

commit 156463909029aa5f3b56755f488e3ac15ed5a79a
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 15:09:00 +0000

    _message_iter_append_multi: assert that mode is what we expect

 _dbus_bindings/message-append.c |    5 +++++
 1 file changed, 5 insertions(+)

commit abefbed911ecab8fb5c08d887479f21b449b392b
Author: Simon McVittie <smcv@debian.org>
Date:   2010-12-02 15:08:15 +0000

    Makefile.am: build API docs etc. last, so they pick up any recent changes

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 53e9cde2ca64de906967546750e5c6dd6aa58da6
Author: Simon McVittie <smcv@debian.org>
Date:   2010-11-23 19:17:19 +0000

    fd.o #21831: deserialize empty ByteArray objects correctly
    
    For some reason libdbus gives us NULL instead of a pointer to a
    zero-length object (i.e. any random place in the message would do), which
    Py_BuildValue doesn't interpret the way we'd want it to.

 _dbus_bindings/message-get-args.c |    6 ++++++
 test/test-standalone.py           |    7 +++++++
 2 files changed, 13 insertions(+)

commit 292a9eab92e908b6dc0e97b5ea07c432f41b8bae
Author: Simon McVittie <smcv@debian.org>
Date:   2010-11-23 19:06:17 +0000

    Move CFLAGS_WARNINGS setup after uses of JH_ADD_CFLAG
    
    We don't want to enable potentially-fatal errors when checking for things
    like -fno-strict-aliasing, because autoconf's test programs provoke
    warnings.

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 83b51706c422662dd0a7d55a40030a1d75c38f88
Author: Elvis Pfützenreuter <epx signove.com>
Date:   2010-10-14 23:19:14 -0300

    Fix compilation in 64-bit architecture

 _dbus_bindings/message-append.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0ed654e18e29f8c23add3d69e57f6b3628c8f848
Author: Louis-Francis Ratté-Boulianne <louis-francis.ratte-boulianne@collabora.co.uk>
Date:   2010-08-18 14:02:11 -0400

    Don't override CFLAGS when adding compiler warnings
    
    Macro function TP_COMPILER_WARNINGS overrides the value of the given
    variable (first argument of the function)
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 configure.ac |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit f68a143ac3b19bd40709cbc85b5112fcb0d2e07b
Author: Johan Sandelin <johan@alphafish.com>
Date:   2010-03-23 15:15:33 +0100

    Fixed typo in dbus/bus.py where list_activatable_names would call org.freedesktop.DBus.ListNames instead of org.freedesktop.DBus.ListActivatableNames
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 dbus/bus.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2262071188067360a7798ae30d4b694229f6f0f
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 18:11:34 +0000

    Start 0.83.2

 NEWS         |    5 +++++
 configure.ac |    2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 49884241db42ea4d2eadd08cb8b5805a6708c925
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:15:57 +0000

    Prepare version 0.83.1
    
    Second try :-)

 NEWS         |    9 +++++----
 configure.ac |    4 ++--
 2 files changed, 7 insertions(+), 6 deletions(-)

commit c91476085faaf7456c5b67e431c11b153b3c8762
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:35:32 +0000

    Use telepathy-glib's macros for desirable and undesirable compiler warnings

 configure.ac               |   26 ++++++++++++++++----------
 m4/Makefile.am             |    4 +++-
 m4/tp-compiler-flag.m4     |   36 ++++++++++++++++++++++++++++++++++++
 m4/tp-compiler-warnings.m4 |   40 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 95 insertions(+), 11 deletions(-)

commit 65838e33fc871a8cf4b18541a6b0a59af2951eb2
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:35:11 +0000

    Require a halfway modern Automake

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4bef0dcf7a040d3656b60e480e9e94b663887ab9
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:35:01 +0000

    Support silent rules if automake >= 1.11

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit ea197112c5601b0b527b933c3e1241a1bdb02f9f
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:22:14 +0000

    Fix signature and return value of Connection_tp_init (oops)

 _dbus_bindings/conn.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1c9d2019260b38f7ee2eef1f73d07c0620ba51f2
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:21:56 +0000

    Revert "Prepare version 0.83.1"
    
    This reverts commit a63043f262e8938affe515faa145d0f619b9fae6.

 NEWS         |    9 ++++-----
 configure.ac |    4 ++--
 2 files changed, 6 insertions(+), 7 deletions(-)

commit a63043f262e8938affe515faa145d0f619b9fae6
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:15:57 +0000

    Prepare version 0.83.1

 NEWS         |    9 +++++----
 configure.ac |    4 ++--
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 2124e4f2a44791c92781276ebe7c4e9a458888d5
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:15:48 +0000

    Ignore generated files from newer libtool

 .gitignore |    5 +++++
 1 file changed, 5 insertions(+)

commit 35f4c2e950539f3c72628eb758b62ed2a0b70492
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 17:02:13 +0000

    Use git log rather than git-log, to support distcheck with modern git

 Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 50f0a326c63f35b2cafe8cb9e9082bc2c4a3fa1b
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 15:07:39 +0000

    fd.o#21172: avoid DeprecationWarning with Python 2.6

 _dbus_bindings/conn.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit abdf6021b21883beb51d92862caafc127d3c25ec
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 15:03:30 +0000

    tests/cross-test-*: don't use deprecated sets module
    
    set() has been a built-in since 2.4, and we don't support older versions.

 test/cross-test-client.py |    3 +--
 test/cross-test-server.py |    5 ++---
 2 files changed, 3 insertions(+), 5 deletions(-)

commit add31c0964a0a659443aa534b1f114f4e0a2e7b3
Author: Simon McVittie <smcv@debian.org>
Date:   2010-02-18 14:45:24 +0000

    fd.o #15013: expose dbus.lowlevel.MESSAGE_TYPE_SIGNAL and friends

 _dbus_bindings/module.c |    2 --
 dbus/lowlevel.py        |   12 ++++++++++--
 2 files changed, 10 insertions(+), 4 deletions(-)

commit c1ade22086f9d25cfd1d1096307bbf96cbb1ae29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-30 15:38:16 +0100

    Update NEWS again

 NEWS |    3 +++
 1 file changed, 3 insertions(+)

commit a6df6fb20142e7624b78b5c84e9e23cba3d3a3b9
Author: Huang Peng <shawn.p.huang gmail com>
Date:   2008-09-30 15:35:39 +0100

    Message.set_sender: allow org.freedesktop.DBus
    
    I found Message.set_sender method only accepts unique bus name. But in
    my project, I need implement a simple dbus daemon, it need set the sender
    as "org.freedesktop.DBus".

 _dbus_bindings/message.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98d85a33c8570dff007ce79d87657b19e67e0f00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-30 15:34:24 +0100

    NEWS: mention mpg's bugfix

 NEWS |    4 ++++
 1 file changed, 4 insertions(+)

commit 29774bca65ef7f887f9dafda56cb167dc0a2e80e
Merge: 884acb5 6a94507
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-16 11:27:24 +0100

    Merge branch 'mpg'

commit 884acb58ef583a7565bfa88f2dc161d10c8adde6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-16 11:26:24 +0100

    Start development for 0.83.1

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 6a945076699cd0a5eebde6bcf22a3cc4a4f9e547
Author: Marco Pesenti Gritti <mpgritti gmail com>
Date:   2008-09-15 18:09:00 +0100

    Cleanup self._signal_recipients_by_object_path (fd.o #17551)
    
    In Connection, add_signal_receiver adds object paths to
    self._signal_recipients_by_object_path and they are not cleaned by
    remove_signal_receiver.
    
    As a result self._signal_recipients_by_object_path keeps growing indefinitely.
    
    This seem to work for me. I know very little about dbus-python though, so I
    could very well be doing it wrong.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=17551
    https://bugs.freedesktop.org/attachment.cgi?id=18857
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 dbus/connection.py |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 81d0dcd79e1bc6187faa2f6a2f6d4d821f879a0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-23 17:45:07 +0100

    Release version 0.83.0

 NEWS         |    2 +-
 configure.ac |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit d634b018107c5aaeaeca704c14b9e853b9d52bfd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-23 17:36:41 +0100

    Avoid some compiler warnings

 _dbus_bindings/dbus_bindings-internal.h |    1 +
 _dbus_glib_bindings/module.c            |    2 ++
 test/dbus_py_test.c                     |    2 ++
 3 files changed, 5 insertions(+)

commit fe5981ca2b90978c75d3308b0f58844fabf8ea4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-23 17:36:24 +0100

    Make the API docs build correctly when out-of-tree

 Makefile.am |    5 ++++-
 NEWS        |    2 ++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 7ef26213b5b3b46444f87a603ee3bb5c6381a56a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-23 17:16:43 +0100

    Require dbus 1.0.
    
    It's been out for ages, and we can finally drop DBUS_API_SUBJECT_TO_CHANGE if we do.

 NEWS                  |    2 ++
 configure.ac          |    2 +-
 dbus-python.pc.in     |    2 +-
 include/dbus-python.h |    1 -
 4 files changed, 4 insertions(+), 3 deletions(-)

commit 8c2ef87d94525af4b1e7f21e18b0a07b30ab425b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-17 13:06:06 +0100

    Update NEWS again

 NEWS |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit d1ded84e774c4aaad9bf02842e1898580dd599ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-17 13:00:15 +0100

    Omit the remote traceback from certain D-Bus errors
    
    Specifically, DBusException and its subclasses no longer have the remote
    traceback by default (although subclasses can turn it back on again
    by setting include_traceback = True, and the various "programmer error"
    subclasses of DBusException do have this set).
    
    Hopefully this will stop people thinking it's a dbus-python or
    telepathy-python bug when a D-Bus API like Telepathy deliberately raises an
    error (and so dbus-python or telepathy-python is visible in the traceback).

 dbus/exceptions.py   |   33 +++++++++++++++++++++++++++++++++
 dbus/service.py      |    5 ++++-
 test/test-client.py  |   37 +++++++++++++++++++++++++++++++++++++
 test/test-service.py |   22 ++++++++++++++++++++++
 4 files changed, 96 insertions(+), 1 deletion(-)

commit b962965f8c30d785ade69dd6a60924b42d6a1c8d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-17 12:17:31 +0100

    Update NEWS. Let's call the next release 0.83 since it's a feature release

 NEWS           |    8 +++++++-
 dbus/server.py |    2 +-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 90c84c2cbe826e8aa4a4a4d8c4f4926c77590f25
Merge: a7725c9 b5aa7ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:38:08 +0100

    Merge branch 'master' into server

commit b5aa7ce1baa7628c883982f6dde9ca32958db857
Author: Huang Peng <phuang@redhat.com>
Date:   2008-07-15 19:37:00 +0100

    Bugfix for: if using Connection.add_message_filter, only the last filter will be called

 _dbus_bindings/conn-methods.c |    1 +
 1 file changed, 1 insertion(+)

commit a7725c9d7589773de7c068f11ca63b95f99ccfcc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:33:01 +0100

    Alter dbus.server.Server API to have pseudo-signals
    
    By either appending to a list of callbacks, or subclassing and providing a
    method, you can be notified when connections are added or removed.
    Inspired by the DBusServer patch from Huang Peng.

 dbus/server.py      |   48 ++++++++++++++++++++++++++++++++++++++++++++----
 test/test-server.py |   24 +++++++++++++-----------
 2 files changed, 57 insertions(+), 15 deletions(-)

commit 810b67cd6d30e4af73067090c7fe1ae14952ce00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:30:33 +0100

    Initialize LibDBusConnection correctly

 _dbus_bindings/module.c |    2 ++
 1 file changed, 2 insertions(+)

commit 07196538f58c069313eeda2c496278f8289b9437
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:22:33 +0100

    Add some more compiler warning flags if supported

 configure.ac |    5 +++++
 1 file changed, 5 insertions(+)

commit 88a08077393d4c6f091109ccc819c6ec4664ba71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:22:21 +0100

    Make DBusPyConnection_NewConsumingDBusConnection static now nobody else needs to call it

 _dbus_bindings/conn.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f7e3865c5cae60769b98dac163802e224345fb9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:21:51 +0100

    DbusPyServer: construct connections by calling the type, so the object will be fully initialized

 _dbus_bindings/server.c |   28 ++++++++++++++++++++--------
 1 file changed, 20 insertions(+), 8 deletions(-)

commit bdc76e63da5ca9e017cfbea6c1ce1b0e21ebf706
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:15:42 +0100

    Refactor DBusPyConnection_NewForBus and make it go via DbusPyConnection_Type.tp_new
    
    Now that we have the LibDBusConnection temporary objects, we don't have
    to do strange sideways inheritance, we can just chain up to the superclass
    constructor.

 _dbus_bindings/bus.c |   85 +++++++++++++++++++++++++++++++++++---------------
 1 file changed, 59 insertions(+), 26 deletions(-)

commit 0f0193180b7853cfea486d0aef1b60d4fa067ed2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 19:13:55 +0100

    _dbus_bindings._Connection: sort out constructor
    
    Accept a LibDBusConnection for the address (sic) parameter,
    so we can construct a Connection for a DBusConnection that already
    exists.
    
    The way all this works right now is a bit unfortunate, with hindsight,
    but most of it is fixable like this.

 _dbus_bindings/conn.c |   40 +++++++++++++++++++++++++++-------------
 1 file changed, 27 insertions(+), 13 deletions(-)

commit 9d53f6c5179c590089bd6560e266dda538202f93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 18:59:33 +0100

    [trivial] un-extern Struct_tp_getattro

 _dbus_bindings/containers.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9d9322f9faf49f7ac8b4c3048f1333a9d7cabb48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-15 18:54:54 +0100

    Add LibDBusConnection in _dbus_bindings

 _dbus_bindings/Makefile.am              |    1 +
 _dbus_bindings/conn-internal.h          |    5 ++
 _dbus_bindings/dbus_bindings-internal.h |   16 +++-
 _dbus_bindings/libdbusconn.c            |  124 +++++++++++++++++++++++++++++++
 4 files changed, 143 insertions(+), 3 deletions(-)

commit 565d2e88c54d3f2e6dab4ae0ed3202d3a26bfd2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 18:44:15 +0100

    Add Connection.call_on_disconnection

 dbus/connection.py |   24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit a7e29e3dbab9651761fc9a7c3ec7fbc27c711286
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 17:30:43 +0100

    Actually create objects of class Server->conn_class

 _dbus_bindings/server.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit ee4c9f80cd6a6e839eeebd2e592e4793e9bb61a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 17:24:35 +0100

    dbus.server.Server: implement a stub version of _on_new_connection

 dbus/server.py |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 689e366ec0192920bcc961a0c44e89898d9bd8b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 17:19:56 +0100

    Fix *another* thinko in dbus.server

 dbus/server.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a646b1a5ac0ac15923e657058703f146f12a452
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 17:18:45 +0100

    Fix thinko in dbus.server: actually instantiate a _Server

 dbus/server.py |    2 ++
 1 file changed, 2 insertions(+)

commit b9925dc51a1fe6d07c263f7f956005b44ca95b29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:56:02 +0100

    Add some whitespace to make reStructuredText happy

 dbus/_dbus.py |    2 ++
 1 file changed, 2 insertions(+)

commit c731758bd9d5dfcfe2a9e3176596bb43777ea334
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:54:16 +0100

    Hook DBusServer into the build system.
    
    Based on parts of the patch by Huang Peng <phuang@redhat.com>

 Makefile.am                             |    1 +
 _dbus_bindings/Makefile.am              |    1 +
 _dbus_bindings/dbus_bindings-internal.h |    8 ++++++++
 _dbus_bindings/mainloop.c               |   19 +++++++++++++++++++
 _dbus_bindings/module.c                 |    2 ++
 5 files changed, 31 insertions(+)

commit 6dcd530f0b6aa158330726d7a5cca9d6dd96eafb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:43:15 +0100

    Rename _dbus_bindings.Server to _dbus_bindings._Server

 _dbus_bindings/server.c |    9 +++++----
 dbus/server.py          |    2 +-
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 87a86d7d6033cbb61271a84f20d5d25c4b4182c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:41:28 +0100

    DBusPyServer: construct a user-specified subtype of Connection

 _dbus_bindings/server.c |   32 +++++++++++++++++++++++++-------
 dbus/server.py          |   20 ++++++++++++++++++++
 2 files changed, 45 insertions(+), 7 deletions(-)

commit 8e213001de0523bd7971fc9251c56635a9e943db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:40:32 +0100

    test-server: import Connection from the right place

 test/test-server.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 54a64a6571a6de18b87177ff1410e5d57f574463
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:16:22 +0100

    DBusPyServer initialization: remove some debugging printfs

 _dbus_bindings/server.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 05c19f23c63246322e4c9dfed2af47aaf77f7619
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:15:43 +0100

    DBusPyServer get_address, get_id: correct docs, these return str not String

 _dbus_bindings/server.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cf64e96607157f4e73c6dacaa34fb54fead26d1f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:14:48 +0100

    DBusPyServer tp_dealloc: remove a stray debugging printf

 _dbus_bindings/server.c |    1 -
 1 file changed, 1 deletion(-)

commit d9821035d58c4fe161a9ff0a2546198e2c1dbb49
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:13:34 +0100

    DBusPyServer: correctly unref the partially constructed DBusPyServer on errors

 _dbus_bindings/server.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6d77f23d062f047437dc8ce428d86a7ad9fa05b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:12:27 +0100

    DBusPyServer: correctly unref the weakref object on errors

 _dbus_bindings/server.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 603d449610275db1e51816104630cce6d74ac9d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:11:30 +0100

    DBusPyServer: fix a typo

 _dbus_bindings/server.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0a888fb732074426d9b0dd6f487dffe5cee9df39
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:09:57 +0100

    DBusPyServer: Fix refcounting of the main loop

 _dbus_bindings/server.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 1144c656fa9d956853fd8c03dc52937f60d3ee2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:09:27 +0100

    DBusPyServer: if there's no main loop, throw an exception
    
    The code starting at the "err" label assumes that an exception has been
    set already.

 _dbus_bindings/server.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 37fd41a721a5417eeb72e90cbe3296f823ccc1b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 16:08:26 +0100

    Document that DBusPyServer_NewDBusServer consumes a reference to the server.
    
    Rename it to DBusPyServer_NewConsumingDBusServer to make this clearer.

 _dbus_bindings/server.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 1896381006ec54b1dfaf8bbcaaeab14b8a12ed32
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 15:45:35 +0100

    DBusPyServer: remove some stray debugging printfs

 _dbus_bindings/server.c |    3 ---
 1 file changed, 3 deletions(-)

commit ac83797b39b1d0eacaafcdf42772eab8ca91ce63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-14 15:39:02 +0100

    DBusPyServer: refactor set_auth_mechanisms
    
    * save a malloc
    * return a boolean
    * don't crash if the sequence isn't a sequence
    * don't coerce items to strings too hard (we only want to accept str or
      unicode, accepting FooObject and trying to use it as an authentication
      method "<FooObject at 0xdeadbeef>" would be silly)

 _dbus_bindings/server.c |   52 ++++++++++++++++++++++++++---------------------
 1 file changed, 29 insertions(+), 23 deletions(-)

commit 9774cdade2306b9bb641162a14645510fc822c86
Author: Mathias Hasselmann <mathias@openismus.com>
Date:   2008-01-31 23:26:30 +0100

    Initial support for DBusServer class (#14322).

 _dbus_bindings/server.c |  535 +++++++++++++++++++++++++++++++++++++++++++++++
 dbus/server.py          |   38 ++++
 test/test-server.py     |   74 +++++++
 3 files changed, 647 insertions(+)

commit dff98456995c37d964eb32a7de7ca718fc3d48d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-01-22 12:01:18 +0000

    Don't assume that libdbus only gives method call messages to object-path handlers (fd.o #14199)

 NEWS            |    4 ++++
 dbus/service.py |    5 ++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 2295b58e4eef9f41a2f917c51408f83a4d2b7efd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-19 18:19:02 +0000

    doc/tutorial.txt: Briefly describe how to use the Qt event loop.
    Based on a patch from Phil Thompson, riverbankcomputing.co.uk

 doc/tutorial.txt |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit e0883f3518f137399077c13409f7a469924c0fd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-10 17:40:23 +0000

    Unset release flag, and start NEWS for 0.82.5

 NEWS         |    7 +++++++
 configure.ac |    2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit a536c5ed08c21e35937bc8ea52844c2f19bfdc55
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-10 17:39:20 +0000

    Add a maintainer-upload target to the Makefile.am, which uploads the current .tar.gz and .tar.gz.asc

 Makefile.am |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit ca0a58e3ef9fe1cc2b1282b52f652c71b736e182
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-10 15:14:06 +0000

    Version 0.82.4

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ae97b7432232bc008e20e4696c512bcf69938dd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-10 15:13:48 +0000

    When user sets reply_handler but not error_handler raise MissingReplyHandlerException instead of MissingErrorHandlerException, and vice versa (fd.o #12304, patch from René Neumann)

 NEWS            |    5 ++++-
 dbus/proxies.py |    4 ++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 2beb7890280ae3b553e59ab8355b65ec203e4776
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-12 11:34:37 +0100

    Update NEWS

 NEWS |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 6076d4222af7da5a8aa1de28626423d811ba6be2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-12 11:34:28 +0100

    Don't try to make dbus/Makefile from dbus/Makefile.in; the fix for #12741 removed it

 configure.ac |    1 -
 1 file changed, 1 deletion(-)

commit 4fdbc65e42d940ba6cc4445a8a83af90dc3d3a34
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-09 12:26:21 +0100

    Revert "Make sure extensions are built before docs; get rid of strange inter-directory dependency"
    
    This reverts commit 5321d836844f3bc06a6d5796c9ca902e0bd6f4cc.

 Makefile.am |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 09611c45b3301e93a34a03366e058c3edc184e47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-09 12:24:52 +0100

    Don't distribute COPYING.*, which we no longer have or need

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 81897e3143ff5d4c660e4960cc103b92d54ae14d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-09 12:24:15 +0100

    Don't try to distribute COPYING.AFL-2.1 and COPYING.GPL-2, which we no longer have or need

 Makefile.am |    2 --
 1 file changed, 2 deletions(-)

commit 0a8b67e2d99ed36f30d6709277a40fdd2812953d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-09 12:20:10 +0100

    Use MIT/X11 license as per permission given on the dbus mailing list.
    This affects code with copyright statements from the following individuals:
    * Anders Carlsson
    * Colin Walters
    * David Zeuthen
    * Rob Taylor
    and the following companies:
    * Collabora Ltd. (represented by me)
    * Red Hat Inc. (represented by Havoc Pennington)

 COPYING                          |   14 +-
 COPYING.AFL-2.1                  |  197 ----------------------
 COPYING.GPL-2                    |  342 --------------------------------------
 dbus/__init__.py                 |   30 ++--
 dbus/_dbus.py                    |   30 ++--
 dbus/_expat_introspect_parser.py |   30 ++--
 dbus/decorators.py               |   30 ++--
 dbus/glib.py                     |   30 ++--
 dbus/mainloop/glib.py            |   34 ++--
 dbus/proxies.py                  |   34 ++--
 dbus/service.py                  |   34 ++--
 test/run-test.sh                 |   20 +++
 test/run-with-tmp-session-bus.sh |   20 +++
 13 files changed, 186 insertions(+), 659 deletions(-)

commit 5321d836844f3bc06a6d5796c9ca902e0bd6f4cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-09 12:07:57 +0100

    Make sure extensions are built before docs; get rid of strange inter-directory dependency

 Makefile.am |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 07b0486fa32ede65b5c05011d56f2ee0694a5176
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-09 11:43:05 +0100

    Use non-recursive make for dbus/ to work around types.py clash with top-level types module (fd.o #12741)

 Makefile.am      |   36 ++++++++++++++++++++++++++++++------
 dbus/Makefile.am |   28 ----------------------------
 2 files changed, 30 insertions(+), 34 deletions(-)

commit 64eeafbf7a167dd116aeabbcf78ebc257f551e1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-09 11:42:00 +0100

    test/: add some missing copyright headers

 test/dbus_py_test.c              |   25 ++++++++++++++++++++++++-
 test/run-test.sh                 |    3 +++
 test/run-with-tmp-session-bus.sh |    4 ++++
 3 files changed, 31 insertions(+), 1 deletion(-)

commit 5295a01631b2a02f948d22417de997a3200a2cee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 11:49:28 +0100

    License examples under MIT/X11.
    According to history of dbus-core before the bindings split, the examples were
    written by Red Hat employees, so we should be OK to relicense them; and it's
    good to have copyright headers.

 examples/example-async-client.py     |   23 +++++++++++++++++++++++
 examples/example-client.py           |   23 +++++++++++++++++++++++
 examples/example-service.py          |   23 +++++++++++++++++++++++
 examples/example-signal-emitter.py   |   23 +++++++++++++++++++++++
 examples/example-signal-recipient.py |   23 +++++++++++++++++++++++
 examples/gconf-proxy-client.py       |   23 +++++++++++++++++++++++
 examples/gconf-proxy-service2.py     |   24 ++++++++++++++++++++++++
 examples/list-system-services.py     |   23 +++++++++++++++++++++++
 8 files changed, 185 insertions(+)

commit c658f7804cf892c2c45548dc9283c06ce7249925
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 11:28:26 +0100

    Use MIT/X11 license for code owned by Collabora and Red Hat only, as per Havoc's permission
    (Message-ID: <815098350709271800k2505485dlef9414609d392b48@mail.gmail.com>)

 test/dbus_python_check.py |   21 +++++++++++++++++++++
 test/test-client.py       |   33 ++++++++++++++++++---------------
 test/test-p2p.py          |   32 ++++++++++++++++++--------------
 test/test-service.py      |   32 ++++++++++++++++++--------------
 test/test-signals.py      |   33 ++++++++++++++++++---------------
 5 files changed, 93 insertions(+), 58 deletions(-)

commit a6c85a634286fe6ddfb0d15c40a475acf4bd214c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 19:05:06 +0100

    Unset dbus_python_released following release

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 137f8e8bbfcd1bef30efe8aec4923c407da180eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 18:36:07 +0100

    Version 0.82.3

 NEWS         |    2 +-
 configure.ac |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit a5d922d9605ae3c1540cd232cb754a9dc5dc7812
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 18:31:20 +0100

    Don't try to distribute COPYING.LGPL-2.1 - no longer exists

 Makefile.am |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit dfa86e6e601be2ebef25ad99056929ff30e1cac9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 18:24:58 +0100

    Fix NEWS indentation

 NEWS |    1 +
 1 file changed, 1 insertion(+)

commit 4e39a3c08aef2b502e9d330b372b7ab96fac6881
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 18:21:16 +0100

    Mention relicensing in NEWS

 NEWS |    5 +++++
 1 file changed, 5 insertions(+)

commit 2afba7e53cf65fccfd15c87852e791845cff8467
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 18:19:16 +0100

    Update NEWS, and add regression tests for fd.o #12096 and #12403

 NEWS                 |   11 +++++++++++
 test/test-client.py  |   15 +++++++++++++++
 test/test-service.py |    8 ++++++++
 3 files changed, 34 insertions(+)

commit cb1ffaea799249d6c2dcc9452f758f57392f55e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 18:14:11 +0100

    fd.o #12432: fix documentation for remove_from_connection

 dbus/service.py |    4 ----
 1 file changed, 4 deletions(-)

commit 05460fdecf77c56640c332d290a5950884f26769
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 18:13:42 +0100

    dbus.exceptions.DBusException: allow setting _dbus_error_name in subclasses

 dbus/exceptions.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 79b4ea50399db59fa8459badf33918764677248d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 17:57:15 +0100

    Don't raise KeyError when closing private dbus.Bus. (fd.o #12096)
    Also deprecate private dbus.Bus in favour of dbus.bus.BusConnection - the only
    things you gain from using dbus.Bus are the shared-instance behaviour and some
    strange more-than-one-way-to-do-it APIs.

 dbus/_dbus.py |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit d8c154284ca464f493c81a4d3b5a37890d68acec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:57:49 +0100

    Relicense Collabora code under the MIT/X11 license proposed for dbus core, removing all references to the LGPL as a result

 COPYING                                 |   36 ++-
 COPYING.LGPL-2.1                        |  510 -------------------------------
 _dbus_bindings/abstract.c               |   33 +-
 _dbus_bindings/bus.c                    |   33 +-
 _dbus_bindings/bytes.c                  |   33 +-
 _dbus_bindings/conn-internal.h          |   30 +-
 _dbus_bindings/conn-methods.c           |   31 +-
 _dbus_bindings/conn.c                   |   31 +-
 _dbus_bindings/containers.c             |   33 +-
 _dbus_bindings/dbus_bindings-internal.h |   31 +-
 _dbus_bindings/debug.c                  |   33 +-
 _dbus_bindings/exceptions.c             |   33 +-
 _dbus_bindings/float.c                  |   33 +-
 _dbus_bindings/generic.c                |   33 +-
 _dbus_bindings/int.c                    |   33 +-
 _dbus_bindings/mainloop.c               |   33 +-
 _dbus_bindings/message-append.c         |   33 +-
 _dbus_bindings/message-get-args.c       |   33 +-
 _dbus_bindings/message-internal.h       |   33 +-
 _dbus_bindings/message.c                |   33 +-
 _dbus_bindings/module.c                 |   33 +-
 _dbus_bindings/pending-call.c           |   33 +-
 _dbus_bindings/signature.c              |   33 +-
 _dbus_bindings/string.c                 |   33 +-
 _dbus_bindings/types-internal.h         |   33 +-
 _dbus_bindings/validation.c             |   31 +-
 _dbus_glib_bindings/module.c            |   33 +-
 dbus/bus.py                             |   30 +-
 dbus/connection.py                      |   30 +-
 dbus/exceptions.py                      |   22 ++
 dbus/gobject_service.py                 |   30 +-
 dbus/lowlevel.py                        |   30 +-
 dbus/mainloop/__init__.py               |   30 +-
 doc/tutorial.txt                        |   34 ++-
 include/dbus-python.h                   |   33 +-
 test/cross-test-client.py               |   30 +-
 test/cross-test-server.py               |   30 +-
 test/crosstest.py                       |   30 +-
 test/test-standalone.py                 |   32 +-
 test/test-unusable-main-loop.py         |   22 ++
 40 files changed, 707 insertions(+), 1036 deletions(-)

commit 003204b6a58faad7bc937ba029a99204cfa417e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:56:01 +0100

    dbus.service: Don't assume that exceptions passed to asynchronous callbacks are the same as the pending exception
    (fd.o #12403, https://dev.laptop.org/ticket/3370)

 dbus/service.py |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 7028d177352b18efa3cc567f6753e1dbdab8f025
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-06 14:27:01 +0100

    Update NEWS

 NEWS |    4 ++++
 1 file changed, 4 insertions(+)

commit 050bf4a893e24061c3de35eb24c05d3d1002ed28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-06 14:26:21 +0100

    Makefile.am, test/Makefile.am: Use @abs_top_builddir@, @abs_top_srcdir@
    This fixes incorrect Python path for docs and tests if doing an out-of-tree
    build using an absolute path for $(srcdir), and is also less ugly.

 Makefile.am      |    6 ++++--
 test/Makefile.am |   10 ++++++----
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 33773b778911c890d76c38b13f0fdb39df237d9e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 21:37:50 +0100

    Unset dbus_python_released

 NEWS         |    3 +++
 configure.ac |    2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit af16daa9ff5d7217f361d68ce2bfe405f2cbd412
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 21:37:02 +0100

    Release 0.82.2

 NEWS         |    2 +-
 configure.ac |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit f27c16490c23df1b7700904ea20232ef3e4097ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 20:00:37 +0100

    Mention in NEWS that API docs are generated by default

 NEWS |    3 +++
 1 file changed, 3 insertions(+)

commit 44471aab0502cfccef6a4fb63f01feeb6bf8732e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 19:59:19 +0100

    Reorganise README to reflect that API docs are generated by default

 README |   31 +++++++++++--------------------
 1 file changed, 11 insertions(+), 20 deletions(-)

commit d3208ff19c3b61ae006403a9096c7a7ac09d4f5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 19:58:59 +0100

    Mention incompatibility with 0.82.1 more prominently

 NEWS |   18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 8a27b1d1164c6c63467d79c497330fefd7c6de6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 19:27:30 +0100

    Check for epydoc version >= 3, and default to building API docs if available

 configure.ac |   17 +++++++++++++++--
 1 file changed, 15 insertions(+), 2 deletions(-)

commit 44f7d60ff7ea038c2e314f05f1ccbc3a76f258d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 19:15:45 +0100

    Update NEWS to mention #11623 fix

 NEWS |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 5e6fa32bf95a0d17fe5ce6a4ecdcae5dd3f967d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 19:10:37 +0100

    Add rel_path_keyword to @method (fd.o #11623)

 dbus/decorators.py   |   18 +++++++++++++++++-
 dbus/service.py      |   25 ++++++++++++++++++++++++-
 test/test-client.py  |   23 +++++++++++++++++++----
 test/test-service.py |   15 ++++++++-------
 4 files changed, 68 insertions(+), 13 deletions(-)

commit 65680613473b7ca39f68d25010b6b17eda841f6a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 19:08:48 +0100

    Avoid deprecated API in cross-test

 test/cross-test-client.py |    5 ++---
 test/cross-test-server.py |   14 ++++++++------
 2 files changed, 10 insertions(+), 9 deletions(-)

commit cea890e5e98e1846c47b220b69ae00e843c695a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 18:36:37 +0100

    Update NEWS

 NEWS |    3 +++
 1 file changed, 3 insertions(+)

commit 159319390404ed58406dba5a42d931740660af78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-01 18:34:38 +0100

    Fix introspection on objects with more than one connection or more than one object path (bugs.fd.o #11794)

 dbus/service.py      |   12 ++++++------
 test/test-client.py  |   11 +++++++++++
 test/test-service.py |    8 ++++++++
 3 files changed, 25 insertions(+), 6 deletions(-)

commit 5aef31b429ac0c14312265e166aeeeda91b3f8ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 19:01:11 +0100

    NEWS: mention the solved build problems related to python-config

 NEWS |    4 ++++
 1 file changed, 4 insertions(+)

commit e821e102b2fa3baff4de719411b03385132dd0f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 18:49:43 +0100

    Re-fix checking for Python include paths. Use $PYTHON-config like in 0.82.1 if we can, use the hard-coded logic from versions prior to 0.82.0 if we can't.

 m4/am-check-python-headers.m4 |   27 +++++++++++++++++++--------
 1 file changed, 19 insertions(+), 8 deletions(-)

commit f0291410ce950913593d5ae6c9fd4fabd5eaaa3f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 18:04:16 +0100

    Complete the .m4 renaming

 m4/dbus-py-add-rst2htmlflag.m4 |   23 +++++++++++++++++++++++
 m4/dbuspy-add-rst2htmlflag.m4  |   23 -----------------------
 2 files changed, 23 insertions(+), 23 deletions(-)

commit 4764f07dfeee9a3baa90399f9f2a18d7d5175fd2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 17:47:12 +0100

    Move dbus-py-add-rst2htmlflag.m4 to jh-add-cflag.m4 - the contents of two of the .m4 files were the opposite of what they should be

 m4/dbus-py-add-rst2htmlflag.m4 |   20 --------------------
 m4/jh-add-cflag.m4             |   20 ++++++++++++++++++++
 2 files changed, 20 insertions(+), 20 deletions(-)

commit 3396bcbacfaaa4c2ad4ad1e9d627be8ce14a6d77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 17:46:42 +0100

    Move jh-add-cflag.m4 to dbuspy-add-rst2htmlflag.m4 - the contents of two of the .m4 files were the opposite of what they should be

 m4/dbuspy-add-rst2htmlflag.m4 |   23 +++++++++++++++++++++++
 m4/jh-add-cflag.m4            |   23 -----------------------
 2 files changed, 23 insertions(+), 23 deletions(-)

commit a7b73b44ca3b86a0ccf0a58e2c1fdee205633657
Author: Simon McVittie <smcv@carbon.pseudorandom.co.uk>
Date:   2007-07-31 17:40:20 +0100

    Revert "Use python-config to get Python cppflags (patch from Ubuntu, fd.o #11282)."
    
    Python < 2.5 didn't have python-config (although some distributions, e.g.
    Debian and Ubuntu, shipped it as an add-on). Even for 2.5, some distributions
    install it under gratuitously different names (hi, Gentoo). As a result,
    this patch needs replacing with one that doesn't rely on having python-config.
    
    This reverts commit 7c9d08d1ba7f5b0a9aa4a37118e56b1725cdaef9.

 m4/am-check-python-headers.m4 |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 66ebaa801a13be7403e6ec47de1f322ccf310346
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 13:01:04 +0100

    _dbus_bindings/mainloop.c: Remove Watch and Timeout.
    
    They were never used, and didn't make a great deal of sense. I now believe the
    right direction for pure-Python mainloop support is to define a Pythonic main
    loop abstraction and coerce libdbus to fit into it, rather than pretending
    the objects in libdbus' abstraction are Python objects.

 _dbus_bindings/mainloop.c |  357 ---------------------------------------------
 1 file changed, 357 deletions(-)

commit 4856b6c485c430ac15d4a634b6958d5f6af89dfa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 12:55:16 +0100

    NEWS: update with timeout fix

 NEWS |   13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 5ab6cdc200267095edd56645df536dac5d4dc986
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-31 12:38:02 +0100

    Measure async call timeout in seconds as intended, not in ms (blocking calls already used seconds). Add regression tests

 dbus/connection.py   |    2 +-
 test/test-client.py  |   40 ++++++++++++++++++++++++++++++++++++++++
 test/test-service.py |   13 +++++++++++++
 3 files changed, 54 insertions(+), 1 deletion(-)

commit 70f802152547898f225a0a675789fb923a5ea410
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-26 17:04:44 +0100

    test-client: Avoid deprecated usage - explicitly pass SessionBus() to BusName ctor

 test/test-client.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f5eb61dce982d6c51a78f5bb745ebd632ef1ad70
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-18 21:26:10 +0100

    Try to avoid importing things from _dbus_bindings when they could be imported from public API

 dbus/_dbus.py      |    6 ++----
 dbus/bus.py        |    2 +-
 dbus/connection.py |    8 ++++----
 dbus/decorators.py |   16 ++++++++--------
 dbus/glib.py       |    2 --
 dbus/service.py    |   28 ++++++++++++++--------------
 6 files changed, 29 insertions(+), 33 deletions(-)

commit 4cab9350dda0b36446d7b2a935bd6451a38e67a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-12 16:26:05 +0100

    Bump version to 0.82.1.YYYYMMDD

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07bb7f1de21c64ea1f19ff107910daa2a14ec4ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-12 13:13:13 +0100

    Avoid cpp directives inside macro calls, to be nice to old gcc versions

 _dbus_bindings/containers.c |    6 +-----
 _dbus_bindings/int.c        |   14 --------------
 2 files changed, 1 insertion(+), 19 deletions(-)

commit a94d9d68d17fd5284aa549187ac6fbb29c188efd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-11 17:11:08 +0100

    NEWS, configure.ac: 0.82.1, the "double precision" release

 NEWS         |    4 ++--
 configure.ac |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit e94f1a9a3c4e9a7800e013dd61b06b5538c9b8ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-11 15:51:23 +0100

    Use PyArg_ParseTuple correctly, fixing the timeout in send_message_with_reply and send_message_with_reply_and_block.
    (bugs.fd.o #11489; thanks to Marco Pesenti Gritti for report and initial patch)

 NEWS                          |    3 +++
 _dbus_bindings/conn-methods.c |    4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 9fc1958471a95249984e9556b7dab8838eb19844
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-03 19:54:06 +0100

    Unset dbus_python_released

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a2ee1a4bbdef1613c44be8131b9a89bf8c4543ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-29 17:54:02 +0100

    .gitignore: ignore patch(1) cruft, and detached signatures for the release tarballs

 .gitignore |    3 +++
 1 file changed, 3 insertions(+)

commit 439ceed581837381aa690b6a0b809a06470d167d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-29 17:47:23 +0100

    Update NEWS

 NEWS |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 1b91d2d408ea471af1e4641e7fb31b4534026a70
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-29 17:38:46 +0100

    dbus.proxies: If making a call with ignore_reply=True, don't block for introspection

 dbus/proxies.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 06810eb34ed2cdc5f0def02b45680915b0e0b985
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-21 01:22:27 +0100

    dbus.service: use DBUS_INTROSPECT_1_0_XML_DOCTYPE_DECL_NODE

 dbus/service.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9556649e48df344f6ec0010c4af00a076a751760
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-21 01:22:04 +0100

    Expose HANDLER_RESULT_HANDLED, HANDLER_RESULT_NOT_YET_HANDLED as public API in dbus.lowlevel

 dbus/lowlevel.py |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 0d4f60d771305572594fb2cfb502bf565230fa37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-21 01:21:33 +0100

    Get stacklevel right on deprecation of not specifying bus in BusName.__init__

 dbus/service.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11925e0a12989793926f82d2286cbb20ef7a179d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-21 01:20:39 +0100

    _dbus_bindings: add DBUS_INTROSPECT_1_0_XML_DOCTYPE_DECL_NODE etc.

 _dbus_bindings/module.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit d45d56a6ba455ee9b12af4d2c8c448392d74d1b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-21 01:19:39 +0100

    Avoid using deprecated dbus_watch_get_fd()

 _dbus_bindings/mainloop.c |    8 +++++++-
 configure.ac              |    6 ++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

commit a2f7458105791f37be52e1de22b710968904b235
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-20 18:01:19 +0100

    dbus.service: Deprecate the omission of the `bus` argument in the BusName constructor.
    Explicit is better than implicit.

 dbus/service.py |   17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 39c996ac7439c5c9a61ddb0efc92bada491fa0e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-20 18:00:10 +0100

    Stop using interactive-Python syntax in tutorial to reduce user confusion.
    Closes bugs.fd.o #11209.

 doc/tutorial.txt |   45 +++++++++++++++++++--------------------------
 1 file changed, 19 insertions(+), 26 deletions(-)

commit 9f2e2040c33b09196e438c818379290c9e41a4ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-19 18:05:00 +0100

    Version 0.82.0

 NEWS         |    2 +-
 configure.ac |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 343aaa190f8a1c7475e4565c50483abbc5914a75
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-19 13:59:23 +0100

    Improve API documentation markup, particularly adding :Since: annotations

 dbus/bus.py        |   63 +++++++++++++++++++++++++++++++++++-----------------
 dbus/connection.py |    5 +++++
 dbus/decorators.py |   14 ++++++++++++
 dbus/proxies.py    |    6 ++---
 dbus/service.py    |   30 +++++++++++++++++++------
 5 files changed, 88 insertions(+), 30 deletions(-)

commit e631446a0c3113260c380284fe1f71419d5a7edb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-19 13:58:37 +0100

    Mark Bus.get_connection() as deprecated; improve Bus.__repr__

 dbus/_dbus.py |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 10c49fa072b4f28713cfc873444b902b0bbe021e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-19 13:37:30 +0100

    Update NEWS with recent changes; next version should be 0.82.0 I think

 NEWS |   19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 7c9d08d1ba7f5b0a9aa4a37118e56b1725cdaef9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-19 13:22:31 +0100

    Use python-config to get Python cppflags (patch from Ubuntu, fd.o #11282).
    Thanks to Sebastien Bacher.

 m4/am-check-python-headers.m4 |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 543ebc088ffbef9a52de333d99361b47301571b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-18 16:31:20 +0100

    Implement fallback objects.
    In the process, simplify the signal decorator a bit - don't allow the signal
    to be emitted from a subset of interfaces (removing connection_keyword),
    deprecate path_keyword, disallow path_keyword on objects that support multiple
    object paths, and add rel_path_keyword. This is an API removal since previous
    patches, but is compatible with the last release.

 dbus/decorators.py   |  115 +++++++++++++++++++++++++++++++-------------------
 dbus/service.py      |   52 +++++++++++++++++++++--
 test/run-test.sh     |    3 ++
 test/test-client.py  |   22 ++++++++--
 test/test-service.py |   39 +++++++++++++++++
 test/test-signals.py |   28 ++++++++++--
 6 files changed, 205 insertions(+), 54 deletions(-)

commit b62c9694c5f3e39ef00c08fee5754a91515bca54
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-15 19:03:03 +0100

    Unset dbus_python_released

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5f1a34d6319e768f38f18817b09134849c74794
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-15 18:51:46 +0100

    Update NEWS

 NEWS |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit b4a34bf6ac17fae4f0cc67f5b5082856f0aa7283
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-14 11:05:39 +0100

    doc/tutorial.txt: @service and @method take dbus_interface=..., not interface=...

 doc/tutorial.txt |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit dbfb6d7b676d22dc98c3ef88071a9deeffa79648
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-12 14:27:39 +0100

    dbus.bus: In watch_name_owner, only watch the desired name!

 dbus/bus.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5b408fd8501d79f87bd752f9ce483f5beb6f157b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-11 18:10:16 +0100

    dbus.bus: Ignore any errors while cleaning up signal matches, so we can make the call asynchronously

 dbus/bus.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7f2e0bfe0c205af512af716f4fcb7b8508269eb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-11 14:51:59 +0100

    dbus.service: Allow objects to start off unexported, and become exported later.
    Also allow them to be exported on more than one object path or even connection.
    dbus.decorators: Allow connection_keyword on signals and methods, so we can
    tell which connection to use for any follow-up actions.

 dbus/decorators.py   |   81 +++++++++++++------
 dbus/service.py      |  209 ++++++++++++++++++++++++++++++++++++++++++--------
 test/test-service.py |    8 +-
 3 files changed, 239 insertions(+), 59 deletions(-)

commit cc6ea2758794601e2747ad9deccf7c8e887b0100
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-07 20:11:57 +0100

    dbus.bus: when a unique name goes away, disconnect all signal handlers.
    Unique names are not recycled, so no more signals can arrive for that name.

 dbus/bus.py |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit c2773de718d0cbcac27a60d2fc56063499eeef0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-04 14:47:15 +0100

    Update date in NEWS for 0.81.1 release

 NEWS |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8d5f51a95f04ddc524e8790a00635082c851b4a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-04 14:19:21 +0100

    Version 0.81.1

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 382b890175ecef7818ce07d8d36cdaab138032df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-04 12:26:15 +0100

    NEWS: update

 NEWS |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f1c2dcd0f7b9d177877aafed95fe64343862c1cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-04 12:24:58 +0100

    dbus.service: change unexport() to remove_from_connection() at J5's request

 dbus/service.py      |   14 ++++++++------
 test/test-client.py  |    2 +-
 test/test-service.py |    2 +-
 3 files changed, 10 insertions(+), 8 deletions(-)

commit a370850a68659a771690c2dac7148e371b6c9b51
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-04 12:10:53 +0100

    dbus-python.pc.in: Use -I${includedir} to allow libdbus and dbus-python to be in different ${prefix}es
    Patch from Phil Thompson at Riverbank Computing Ltd.

 dbus-python.pc.in |    1 +
 1 file changed, 1 insertion(+)

commit cf4afc9ccf1408f0f0fde2a01e2dd68ba59de1f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-30 15:52:36 +0100

    NEWS: Describe the fix for #10457

 NEWS |    3 +++
 1 file changed, 3 insertions(+)

commit c87b55c6ab30542d5d17f2e2041e4c87b3df712d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-30 15:19:46 +0100

    dbus.service: Make it possible to unexport objects (fd.o#10457)

 dbus/service.py      |   33 ++++++++++++++++++++++++++++++++-
 test/test-client.py  |   20 ++++++++++++++++++++
 test/test-service.py |   34 +++++++++++++++++++++++++++++++---
 3 files changed, 83 insertions(+), 4 deletions(-)

commit 030b68b4e6d64dc25904618852917839892de1be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-29 15:33:44 +0100

    NEWS: mention list_exported_child_objects() and its use in introspection

 NEWS |    4 ++++
 1 file changed, 4 insertions(+)

commit 5618e6182ded0d1861a9fcb5a26440e4454801f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-29 15:33:18 +0100

    dbus.service: include child nodes in introspection

 dbus/service.py |    4 ++++
 1 file changed, 4 insertions(+)

commit 26288ab181eb2452fad7fd94c9bc00c817b4137d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-29 15:32:01 +0100

    _dbus_bindings/conn-methods.c: add list_exported_child_objects().
    This is equivalent to dbus_connection_list_registered() in libdbus.

 _dbus_bindings/conn-methods.c |   62 +++++++++++++++++++++++++++++++++++++++++
 test/test-client.py           |    3 ++
 test/test-service.py          |    8 ++++++
 3 files changed, 73 insertions(+)

commit f0947ab721499d5202cdbfcaad6fac7d781b5666
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-28 19:47:25 +0100

    NEWS: mention the fix for Debian#426412

 NEWS |    5 +++++
 1 file changed, 5 insertions(+)

commit ffb1d3310d97bc4d86a09604649f334e3367816f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-28 19:45:59 +0100

    dbus.connection: Release signals lock before calling _clean_up_signal_match().
    This prevents a deadlock when a signal match that's tracking name owner
    changes is removed, causing a match on NameOwnerChanged to be removed too.
    (Debian bug#426412)
    
    Also move more of the tree manipulation inside the lock, to be nice to
    anyone attempting a port to implementations without a GIL (mainly IronPython),
    and add a regression test for the above bug.

 dbus/bus.py          |    2 +-
 dbus/connection.py   |   45 +++++++++++++++++++++++++--------------------
 test/test-client.py  |    2 ++
 test/test-signals.py |   34 ++++++++++++++++++++++++----------
 4 files changed, 52 insertions(+), 31 deletions(-)

commit 03bcbff71d4bf112441dfd53300328c70d3a512c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-21 13:18:18 +0100

    dbus.bus: detect NameHasNoOwner correctly, using new get_dbus_name() method

 dbus/bus.py |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 09e138af65710b11363e0852711171c3a9f8ef00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-21 13:15:48 +0100

    NEWS: Describe new DBusException 'args' support

 NEWS |    3 +++
 1 file changed, 3 insertions(+)

commit c68cc723a95f6a4716d61b4ae455e3f8382347e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-21 13:10:09 +0100

    Describe DBusException.get_dbus_name() in NEWS

 NEWS |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 000536a6b707fe3b28f7afd5360058d48e281688
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-17 12:41:05 +0100

    dbus.proxies: Log more informatively when introspection fails, and use logging rather than just stderr

 dbus/proxies.py |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit b052211a63cf833ac394ca529c344c288e921401
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-16 11:05:29 +0100

    Implement DBusException in pure Python; add get_dbus_name() method and name= keyword argument

 _dbus_bindings/bus.c                    |    5 +-
 _dbus_bindings/conn-methods.c           |    6 +-
 _dbus_bindings/dbus_bindings-internal.h |    2 +-
 _dbus_bindings/exceptions.c             |   99 ++++++++++++++++++-------------
 _dbus_bindings/message.c                |    6 +-
 _dbus_bindings/module.c                 |    2 -
 dbus/__init__.py                        |    7 +--
 dbus/_dbus.py                           |    3 +-
 dbus/bus.py                             |    2 +-
 dbus/connection.py                      |   11 ++--
 dbus/dbus_bindings.py                   |    2 +-
 dbus/decorators.py                      |    2 +
 dbus/exceptions.py                      |   22 +++++--
 dbus/service.py                         |   11 ++--
 14 files changed, 105 insertions(+), 75 deletions(-)

commit df88e33eb69ef1528f76d06429d451b8274bd69b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-16 11:03:34 +0100

    configure.ac: Reset released flag to 0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 523e63fcef2c3391e94ded7959abdba739a52354
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-09 10:13:02 +0100

    Update NEWS for 0.81.0

 NEWS |   85 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 85 insertions(+)

commit fac67418d9bc51b75f39b108c3e5f0bd9d7e6a98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-09 10:03:06 +0100

    Increment version to 0.81.0

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 756d092e3bb346dbf791af32f31c0efe520573d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-09 10:02:33 +0100

    Don't run the examples during "make check" - timing/startup issues cause intermittent failures

 test/run-test.sh |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 32c4636888e03025b5f01167cea6530a8fb1ce53
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-09 09:56:51 +0100

    Generate ChangeLog during make dist rather than during make.
    Commit a dummy ChangeLog so the autotools won't fail in git checkouts.

 .gitignore  |    1 -
 ChangeLog   |    2 ++
 Makefile.am |    9 +++++----
 3 files changed, 7 insertions(+), 5 deletions(-)

commit 46d28550bbe03ccf9853f072743d879ae7d621ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-07 15:53:59 +0100

    dbus/gobject_service.py: Make ExportedGObject __init__ accept GObject properties

 dbus/gobject_service.py |   25 +++++++++++++++++++++++--
 1 file changed, 23 insertions(+), 2 deletions(-)

commit 863cec2464edd80fcf7fbdf62cf1c89ecab647d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-04 19:51:50 +0100

    Create doc directory before writing HTML into it

 Makefile.am |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 727fa4079d91f8dd1b301e21d3e4279c202a9739
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-04 19:44:18 +0100

    doc/tutorial.txt: Don't claim we have a tutorial for p2p connections yet

 doc/tutorial.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3033d92876dc094d5f86404bdf997af9b3bb3a82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-04 19:43:14 +0100

    Update tutorial to describe add_signal_receiver before connect_to_signal.
    Also remove old ./configure substitutions and update to avoid deprecated API.

 doc/tutorial.txt |  100 ++++++++++++++++++++++++++++++------------------------
 1 file changed, 56 insertions(+), 44 deletions(-)

commit f1d118f3d8c7dee8f5611cba2786a77e3b3cdaf1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-04 19:41:59 +0100

    Stop tutorial.txt being generated by ./configure - not worthwhile just for a version number

 .gitignore          |    1 -
 configure.ac        |    1 -
 doc/tutorial.txt    |  667 +++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/tutorial.txt.in |  667 ---------------------------------------------------
 4 files changed, 667 insertions(+), 669 deletions(-)

commit 0432c5256bad3fbdf10240b7ef76cea181c9f8b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-04 19:39:54 +0100

    dbus/service.py: Before emitting an error, configure logging to write to stderr, unless already configured

 dbus/service.py |    1 +
 1 file changed, 1 insertion(+)

commit 24bee8cea054fa21d3229c97d75b2c08f273d9d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-04 19:39:16 +0100

    Remove contents of TODO: the peer-to-peer Connection now exists and the string change has been rejected

 TODO |    8 --------
 1 file changed, 8 deletions(-)

commit ed2ace3161337789924e03f559603dccfa40c56e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-04 17:09:57 +0100

    dbus/service.py: Don't use deprecated get_connection() in Object constructor.
    The Connection and BusConnection base classes don't have it, and we can now
    export Objects on a plain Connection.

 dbus/service.py |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 774e133d2cdc1a0fda2bd14d2354a9da2deece88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-03 13:20:59 +0100

    Deprecate all arguments called named_service; use bus_name instead

 dbus/bus.py        |   49 +++++++++++++++++++++++++++++---------
 dbus/connection.py |   61 ++++++++++++++++++++++++++++++++++++++++--------
 dbus/proxies.py    |   66 ++++++++++++++++++++++++++++++++++++++--------------
 3 files changed, 137 insertions(+), 39 deletions(-)

commit 040adaef5646823dfb9247247104cb678cecacad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-03 13:19:12 +0100

    examples/list-system-services.py: Make more exemplary

 examples/list-system-services.py |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit e6d5bb0209c9cba4d42f12a448bd708a2cabaa9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-03 12:11:31 +0100

    dbus/gobject_service.py: Make ExportedGObject work correctly.
    Also add a simple unit test for it.

 dbus/Makefile.am        |    1 +
 dbus/gobject_service.py |   13 +++++++++++--
 test/test-client.py     |   10 ++++++++++
 test/test-service.py    |   11 +++++++++++
 4 files changed, 33 insertions(+), 2 deletions(-)

commit 717837a91498f9f928a0affbfa39d8cd68de5ca1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-01 13:26:51 +0100

    Simplify dbus_bindings backwards compatibility glue

 dbus/_dbus.py         |   26 ++++----------------------
 dbus/dbus_bindings.py |   13 ++++++++++++-
 dbus_bindings.py      |    4 ----
 3 files changed, 16 insertions(+), 27 deletions(-)

commit 77566373b89e721e468f411507821ee8a5273fff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-01 12:18:50 +0100

    dbus/bus.py: Add watch_name_owner().
    Use it to avoid a race in signal name matching.
    Also change SignalMatch API from sender_unique being a public attribute to
    having a method set_sender_name_owner(), and make it hashable so we can
    use it to look up associated signal-sender matches in a dict.

 dbus/bus.py        |   94 +++++++++++++++++++++++++++++++---------------------
 dbus/connection.py |   54 +++++++++++++++++++-----------
 2 files changed, 92 insertions(+), 56 deletions(-)

commit 77f19ef18864f3468b7373bd75461aad3239fe52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 13:38:50 +0100

    test/test-p2p.py: Added. Test "peer-to-peer" connections.
    (Actually tested by connecting to the bus daemon, because I haven't implemented
    a Python binding for DBusServer yet.)

 test/Makefile.am |    1 +
 test/run-test.sh |    3 ++
 test/test-p2p.py |   91 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 95 insertions(+)

commit a5905b31f82b898eaa3f80a907ea636e1e3d71eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 13:33:11 +0100

    dbus/connection.py: comments

 dbus/connection.py |    6 ++++++
 1 file changed, 6 insertions(+)

commit c38536726dfced572da01604909888f1f78a0492
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 13:32:52 +0100

    dbus/bus.py: correct name of logger

 dbus/bus.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e96509a88425c0f48c203fbfff100cde901adc7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 13:15:28 +0100

    Move signal matching machinery into superclasses

 dbus/_dbus.py      |  412 +---------------------------------------------------
 dbus/bus.py        |   90 +++++++++++-
 dbus/connection.py |  387 ++++++++++++++++++++++++++++++++++++++++++++++--
 3 files changed, 464 insertions(+), 425 deletions(-)

commit 494191632d27aa60c6f7c8fbcb1b595f8ff0253e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 12:55:21 +0100

    tools/check-coding-style.mk: Work correctly with out-of-tree builds

 tools/check-coding-style.mk |    1 +
 1 file changed, 1 insertion(+)

commit 060ffcc1d3f3296c679b4e91c1ed070b2e0205f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 12:36:37 +0100

    Move get_object, constants into Connection and BusConnection. Add docstrings

 dbus/_dbus.py      |   64 ++++++----------------------------------------------
 dbus/bus.py        |   60 +++++++++++++++++++++++++++++++++++++++++++++---
 dbus/connection.py |   30 ++++++++++++++++++++++++
 3 files changed, 94 insertions(+), 60 deletions(-)

commit dff13840b106cf08a8227379e9bb82e654442e1d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:56:42 +0100

    Convert _BusDaemonMixin and _MethodCallMixin into base classes BusConnection and Connection.
    Also add method activate_name_owner() for proxies to use (so they don't need
    to be aware of whether the connection is a bus daemon or not), and stop using
    deprecated get_connection method.

 dbus/_dbus.py      |    8 +++-----
 dbus/bus.py        |   22 +++++++++++++++++++---
 dbus/connection.py |   23 +++++++++++++++++------
 dbus/proxies.py    |   21 +++------------------
 4 files changed, 42 insertions(+), 32 deletions(-)

commit 338b87fcc4010fe92b3f16ebbbf5955eab825dd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:43:26 +0100

    dbus/service.py: Use public API for dbus.SessionBus, since we cause an import anyway

 dbus/service.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2eb946f58e132706683890a8b961423e16998efe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:41:44 +0100

    dbus/_dbus.py: in SignalMatch, use get_name_owner()

 dbus/_dbus.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26cccef4d8e049613b4b815bf9b9bd5ac86dc087
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:39:57 +0100

    dbus/_bus_mixin.py: Add bindings for ListNames, ListActivatableNames, GetNameOwner too

 dbus/bus.py         |   29 +++++++++++++++++++++++++++++
 test/test-client.py |   24 ++++++++++++++++++++++--
 2 files changed, 51 insertions(+), 2 deletions(-)

commit f75c1a0c7f7f4365f1265c6ede0c9465e50466ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:38:32 +0100

    dbus/_dbus.py: import constants from _dbus_bindings; use "from...import"

 dbus/_dbus.py |   58 +++++++++++++++++++++++++++++++--------------------------
 1 file changed, 32 insertions(+), 26 deletions(-)

commit 1d4594e2463e00def64dd10a71101a4a45e63553
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:35:54 +0100

    dbus/connection.py: Import constants from _dbus_bindings; check for reserved local interface as well as path

 dbus/connection.py |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 02d302ce90b136991de60015285ff7a39ff54375
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:34:33 +0100

    dbus/bus.py: get BUS_DAEMON_NAME etc. from _dbus_bindings

 dbus/bus.py |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 84beab96c9b9a1270e82e670aa3dca3f208b728f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:33:31 +0100

    dbus/proxies.py: get INTROSPECTABLE_IFACE from _dbus_bindings

 dbus/proxies.py |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 3c62924718ff00839843cecaae09598e36199f79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:31:22 +0100

    Move the client method-call machinery from dbus.proxies to dbus.connection._MethodCallMixin.
    This makes proxy methods much simpler, and allows the _BusDaemonMixin to bypass
    the proxies module completely (since the signatures are already known, so
    we don't need to introspect anything).

 dbus/Makefile.am   |    1 +
 dbus/_dbus.py      |    7 ++-
 dbus/bus.py        |   76 +++++++++++--------------
 dbus/connection.py |  139 +++++++++++++++++++++++++++++++++++++++++++++
 dbus/proxies.py    |  161 +++++++++++++++++++++-------------------------------
 5 files changed, 241 insertions(+), 143 deletions(-)

commit e40ec8e4f29d104b66d78b183300e6bf134c2714
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:23:58 +0100

    Remove BusImplementation, removing its remaining functionality to Connection.
    * Move get_unique_name to Connection (it can be useful for connections which
      aren't to a real bus daemon but partially emulate one, like Telepathy's
      Tubes)
    * Add set_unique_name to Connection (same reason)
    * Convert BusImplementation.__new__ into Connection._new_for_bus
    * Have dbus.Bus subclass _dbus_bindings.Connection directly

 _dbus_bindings/bus.c           |  134 ++++++++++++----------------------------
 _dbus_bindings/conn-internal.h |    5 ++
 _dbus_bindings/conn-methods.c  |   30 +++++++++
 _dbus_bindings/module.c        |    2 -
 dbus/_dbus.py                  |    8 +--
 5 files changed, 79 insertions(+), 100 deletions(-)

commit 6963fa9cfa5be7af19b93c71d8a26c149cf2c88c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-30 11:20:53 +0100

    Implement o.fd.DBus method wrappers in Python instead of C.
    This reduces the need to have _dbus_bindings.BusImplementation and makes
    peer-to-peer connections easier to implement.

 _dbus_bindings/bus.c |  235 --------------------------------------------------
 dbus/Makefile.am     |    3 +-
 dbus/_dbus.py        |    4 +-
 dbus/bus.py          |  191 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 196 insertions(+), 237 deletions(-)

commit 478e03e211990d05725bfec5c44a1a1bf68eaf19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-27 12:44:45 +0100

    dbus/proxies.py: Give Interface some properties. Vastly simplify __getattr__ on Interface and ProxyObject

 dbus/proxies.py |   55 +++++++++++++++++++++++++++++--------------------------
 1 file changed, 29 insertions(+), 26 deletions(-)

commit f6fd7b7102ac5cfd961f4e53532eb7904f877a6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-27 12:22:54 +0100

    Move Interface from dbus._dbus to dbus.proxies (it belongs there really).
    Make it a new-style object and document it more clearly.

 dbus/__init__.py |    5 +-
 dbus/_dbus.py    |  134 +-----------------------------------------------------
 dbus/proxies.py  |   72 +++++++++++++++++++++++++++++
 3 files changed, 77 insertions(+), 134 deletions(-)

commit fe50b35f867caed213d30cf0e046f51aeb275b20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-27 12:12:54 +0100

    Remove redundant constants

 dbus/_dbus.py |    3 ---
 1 file changed, 3 deletions(-)

commit a6a86fbfc299cdc61c6d013a0081c2eec878f99a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-27 12:11:28 +0100

    dbus/_dbus.py: Match NameOwnerChanged correctly

 dbus/_dbus.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6457e018adf4bf87a1bb4791ba5a08ad6ac6ba51
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-26 15:53:06 +0100

    test/test-service.py: Use constants for the bus name and object path

 test/test-service.py |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit db310619c1bd0496259cd251e6df0c83af73f3d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-25 18:33:55 +0100

    dbus/__init__.py: Add well-known interface, path, bus-name constants

 dbus/__init__.py |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 4be15d3a5d949107c7cf51a87a02f8555791868e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-25 18:30:52 +0100

    dbus/__init__.py: Remove pseudo-tutorial from docstring, we have a tutorial now

 dbus/__init__.py |  111 ------------------------------------------------------
 1 file changed, 111 deletions(-)

commit 4a027b3240152f7b9d5eabb66c2c1a94bd5ef831
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-25 18:29:48 +0100

    _dbus_bindings/module.c: Add some useful constants

 _dbus_bindings/module.c |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit b6e2f84963ea0b399d50bbfeab7df046f6f24f5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-25 17:46:54 +0100

    Make ProxyObject a new-style class, since it now has properties

 dbus/proxies.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26965c2bf04ffb3b101623bbe02c34f43bee9232
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-25 14:07:49 +0100

    Add object_path, bus_name and requested_bus_name properties to ProxyObject.
    There is also a placeholder for unique_bus_name, although it's not currently
    implemented.

 dbus/proxies.py |   43 +++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 41 insertions(+), 2 deletions(-)

commit a81f1e90b293f1279ad4797753649f4264c559f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 14:49:44 +0100

    Revert the part of the previous patch that added dbus_name to signals.
    Making this work correctly will also require changes to the introspect code.

 dbus/decorators.py |   13 +++----------
 1 file changed, 3 insertions(+), 10 deletions(-)

commit e4050f2750d2fdb5c05a7d7b9cb4030b99133f13
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 14:45:14 +0100

    Preparation for fallback-object support:
    * Let exported methods receive the path, destination and raw message via
      kwargs, as well as the sender
    * Let exported signals be emitted from a variable object-path

 dbus/decorators.py   |   81 ++++++++++++++++++++++++++++++++++++++++++++------
 dbus/service.py      |    8 ++++-
 test/test-client.py  |   11 +++++++
 test/test-service.py |    8 +++++
 4 files changed, 98 insertions(+), 10 deletions(-)

commit ae8014c72a7d304f20d9422009f42bc48fa8f298
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 17:45:03 +0100

    Fix fd.o #10174: make it possible to return multiple values with no signature.
    More specifically: when a service method with no signature synchronously
    returns a tuple that is not a Struct, interpret it as a multi-valued return,
    rather than as a structure.
    
    This is a common Python idiom, and returning a struct makes little sense
    anyway when D-Bus lets you return multiple values.
    
    Returned lists are still interpreted as arrays - returning an array is
    entirely sensible, and indeed likely to be common.
    
    Async service methods are unaffected (there is no ambiguity), and it's still
    possible to return a structure by returning a dbus.Struct with appropriate
    contents.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=10174

 dbus/service.py      |    8 +++++++-
 test/test-client.py  |    6 ++++++
 test/test-service.py |    5 +++++
 3 files changed, 18 insertions(+), 1 deletion(-)

commit 705b343c205b82c93aab0f31535d1dc99a3c0265
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 17:39:27 +0100

    test/test-service.py: use a constant for the interface name, for clarity

 test/test-service.py |   43 +++++++++++++++++++++++--------------------
 1 file changed, 23 insertions(+), 20 deletions(-)

commit a2fa9563ee9e3bfca549397c0bf58946eaff37b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 17:21:11 +0100

    .gitignore: Ignore INSTALL and dbus-python-*.tar.gz

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 50469e3e0a04d27be1ee227518ca377e16919626
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 14:41:45 +0100

    Remember to include tools in dist

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit df42e53ab497dce7f00bd2eb3f2af1c022c0096c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 13:51:51 +0100

    Remove trailing whitespace in Python source

 dbus/_dbus.py      |    8 ++++----
 dbus/decorators.py |    2 +-
 dbus/proxies.py    |   10 +++++-----
 dbus/service.py    |    2 +-
 4 files changed, 11 insertions(+), 11 deletions(-)

commit 1fa0c331f5327ef1d622b55a050949845eb89b0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 13:50:02 +0100

    Remove trailing whitespace in C source

 _dbus_bindings/abstract.c         |    4 ++--
 _dbus_bindings/conn-methods.c     |    4 ++--
 _dbus_bindings/conn.c             |    2 +-
 _dbus_bindings/containers.c       |    4 ++--
 _dbus_bindings/message-append.c   |    6 +++---
 _dbus_bindings/message-internal.h |    2 +-
 _dbus_bindings/message.c          |    2 +-
 _dbus_bindings/pending-call.c     |    2 +-
 8 files changed, 13 insertions(+), 13 deletions(-)

commit cdf20eebae59e0ceb2cf8fc2660609e6c38ccebf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 13:47:09 +0100

    Add optional checks for coding style (mainly whitespace at the moment).
    These are on by default for git builds, off by default for releases.

 _dbus_bindings/Makefile.am  |    3 +++
 configure.ac                |   17 ++++++++++++++++-
 dbus/Makefile.am            |    3 +++
 tools/Makefile.am           |    5 +++++
 tools/check-c-style.sh      |   17 +++++++++++++++++
 tools/check-coding-style.mk |   25 +++++++++++++++++++++++++
 tools/check-py-style.sh     |   18 ++++++++++++++++++
 tools/check-whitespace.sh   |   17 +++++++++++++++++
 8 files changed, 104 insertions(+), 1 deletion(-)

commit b5552a3ea76b3e229f40a06d32a5860b0e9e2217
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 13:05:17 +0100

    Refactor build system:
    * Use autoreconf to simplify autogen.sh considerably
    * Use AC_CONFIG_MACRO_DIR and aclocal -I to pick up macros from m4/
    * Drop acinclude.m4 in favour of putting our macros in m4/

 Makefile.am                    |    4 +-
 acinclude.m4                   |  109 ----------------------------------------
 autogen.sh                     |   64 ++++-------------------
 configure.ac                   |    7 ++-
 m4/Makefile.am                 |    5 ++
 m4/am-check-pymod.m4           |   37 ++++++++++++++
 m4/am-check-python-headers.m4  |   24 +++++++++
 m4/dbus-py-add-rst2htmlflag.m4 |   20 ++++++++
 m4/jh-add-cflag.m4             |   23 +++++++++
 9 files changed, 126 insertions(+), 167 deletions(-)

commit 29fae4fdfd02cc2dd4c896a2cb271d9a3597623c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 12:27:18 +0100

    test/run-with-tmp-session-bus.sh: untabify, remove trailing whitespace

 test/run-with-tmp-session-bus.sh |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d6b644f9317346211c94a2ae75b77ca9369a7088
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 12:26:42 +0100

    test/test-client.py: untabify

 test/test-client.py |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 35808b1bae43f846fdbcb740c359c66977231518
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 12:24:02 +0100

    dbus/service.py: untabify

 dbus/service.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7207bc9f616b2401de609b36dc774bbe79fa7166
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 12:23:47 +0100

    configure.ac: untabify

 configure.ac |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit c2aa57fc64f32e0c197320b050b93e71949edd53
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-04-24 12:23:24 +0100

    _dbus_bindings/message.c: untabify

 _dbus_bindings/message.c |   60 +++++++++++++++++++++++-----------------------
 1 file changed, 30 insertions(+), 30 deletions(-)

commit a7110d5ee20f04f17346079a6a824a7c017fe124
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-03-02 18:46:12 +0000

    Implement ExportedGObject, a convenience class to export GObjects on the bus.
    This is non-trivial because dbus.service.Object and GObject both use
    metaclasses, so we need to implement a metaclass inheriting from both their
    metaclasses - it might as well go in dbus-python to avoid everyone having to
    reinvent this solution.

 dbus/gobject_service.py |   37 +++++++++++++++++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit cfb1ea5f32a5ab77078ce184cb13602f2e28fec1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-03-02 18:43:09 +0000

    * dbus.service.Object: don't let the user try to export objects on the local
      path reserved by libdbus/dbus-daemon, or on an invalid path.
    * BusName: don't even try to claim an invalid bus name either.

 dbus/service.py |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 5ee2e05d5056584d589991f5d5fd0d22df598676
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-03-02 18:41:01 +0000

    * ProxyObject: allow named_service to be None, in preparation for peer-to-peer
      connections. If so, never attempt to follow name owner changes (doesn't make
      sense when you're talking directly to the peer).
    * _ProxyMethod: allow interface to be None, for when a method call is made
      on a ProxyObject without going via a dbus.Interface.

 dbus/proxies.py |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit f2fda30b23b0176dd314329050127f61b5e92255
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-03-02 18:38:00 +0000

    SignalMatch: check that interface, member and sender are either valid, or None

 dbus/_dbus.py |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 91d0a865d574325328b67ec8c5dab9b841b9218c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-03-02 18:29:34 +0000

    SignalMatch: remove assorted commented-out debug messages

 dbus/_dbus.py |   24 +++---------------------
 1 file changed, 3 insertions(+), 21 deletions(-)

commit bfc541fad2dec718abce406caa0285b1e40c4958
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-03-02 18:13:23 +0000

    Remove FIXME comment - I think the current behaviour is correct.

 dbus/service.py |    2 --
 1 file changed, 2 deletions(-)

commit cf48b799ebdcaf7dca0b6f729516b413be21e989
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-03-02 18:12:47 +0000

    * Don't let the user call methods on the reserved local path - we'll get
      kicked off the bus if they do.
    * Don't try to introspect the reserved local path - same problem.
    * Do earlier validation of bus names etc. in client proxies.

 dbus/proxies.py |   19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit f1e0a64b9f02a77cfd468f146ed3f398b2c1c8bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-21 15:04:20 +0000

    If send_with_reply() returns TRUE but with pending call NULL, cope gracefully.
    This is a workaround for the fact that trying to use the object path
    /org/freedesktop/DBus/Local in a message header (e.g. when introspecting
    trackerd with dbus-inspector) causes us to be disconnected by the bus daemon.

 _dbus_bindings/conn-methods.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 8dce2df1ceacffb2aa6e2cc8b1d4b58ee95ac5b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-21 12:31:15 +0000

    Don't examine args for functions declared METH_NOARGS.
    It's not guaranteed to be non-NULL, and Python checks there are no arguments
    so we don't have to.

 _dbus_bindings/conn-methods.c |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 4f88700588d80861c8520e56407d3a40d5bd86e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-19 14:17:08 +0000

    dbus/_dbus.py: When an exception is raised by a signal handler, print it to stderr

 dbus/_dbus.py |   54 ++++++++++++++++++++++++++++++++----------------------
 1 file changed, 32 insertions(+), 22 deletions(-)

commit a79f8dacbf86efce563cc29104bbacecb5ef9739
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-13 17:54:55 +0000

    Update NEWS file for 0.80.2 (not actually present in the release, but at least it'll be in the next release's NEWS file)

 NEWS |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 22f2a483aa45720711b42fa8ce4ddf2d9fdbaec9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-13 17:44:38 +0000

    Set released flag back to 0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 728e8f47d884bdff66106b89cc1d803fa5f30456
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-13 16:54:51 +0000

    Release version 0.80.2

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 87dc3d5807ba12c6396dbcb1acdebb8f453e8fcd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-07 20:46:17 +0000

    Actually commit the numerous copyright-statement changes.

 COPYING                                 |  551 +------------------------------
 Makefile.am                             |    3 +-
 _dbus_bindings/abstract.c               |   16 +-
 _dbus_bindings/bus.c                    |   14 +-
 _dbus_bindings/bytes.c                  |   14 +-
 _dbus_bindings/conn-internal.h          |   14 +-
 _dbus_bindings/conn-methods.c           |   14 +-
 _dbus_bindings/conn.c                   |   14 +-
 _dbus_bindings/containers.c             |   16 +-
 _dbus_bindings/dbus_bindings-internal.h |   14 +-
 _dbus_bindings/debug.c                  |   14 +-
 _dbus_bindings/exceptions.c             |   14 +-
 _dbus_bindings/float.c                  |   14 +-
 _dbus_bindings/generic.c                |   14 +-
 _dbus_bindings/message-get-args.c       |   16 +-
 _dbus_bindings/message-internal.h       |   14 +-
 _dbus_bindings/message.c                |   14 +-
 _dbus_bindings/module.c                 |   14 +-
 _dbus_bindings/pending-call.c           |   14 +-
 _dbus_bindings/signature.c              |   14 +-
 _dbus_bindings/string.c                 |   16 +-
 _dbus_bindings/types-internal.h         |   16 +-
 _dbus_bindings/validation.c             |   14 +-
 _dbus_glib_bindings/module.c            |    8 +-
 dbus/lowlevel.py                        |   14 +-
 dbus/mainloop/__init__.py               |   18 +
 doc/tutorial.txt.in                     |    8 +-
 include/dbus-python.h                   |   14 +-
 test/cross-test-client.py               |    8 +-
 test/cross-test-server.py               |    8 +-
 test/crosstest.py                       |    8 +-
 test/test-standalone.py                 |    8 +-
 32 files changed, 217 insertions(+), 735 deletions(-)

commit 1f9f29452352baf103fd6620eb0cd8315f8b736d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-07 17:05:29 +0000

    For files solely owned by Collabora Ltd., additionally allow use under LGPL 2.1.
    Also:
     * split out AFL, GPL from COPYING into separate files, and add LGPL.
     * update copyright year in recently touched files

 COPYING.AFL-2.1  |  197 +++++++++++++++++++++
 COPYING.GPL-2    |  342 ++++++++++++++++++++++++++++++++++++
 COPYING.LGPL-2.1 |  510 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 1049 insertions(+)

commit 278b57d9f4a1aed4f0296b17a94bde2a36145a45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-07 13:15:17 +0000

    Audit tp_dealloc callbacks to make sure they preserve the exception state.
    * Connection: use PyErr_Fetch and PyErr_Restore to preserve exception state
    * MainLoop: add a comment indicating that the "free" callback needs to do the
      same if it might alter the exception state

 _dbus_bindings/conn.c     |    5 +++++
 _dbus_bindings/mainloop.c |    3 ++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit ffe3b55b4b293c5dfb36de8cf2dc2b91d09a9f0d
Merge: 5135a35 66fb274
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-07 13:00:33 +0000

    Merge git+ssh://people.freedesktop.org/home/smcv/public_html/git/dbus-python/

commit 5135a35677e25c473db0e8a463f97c15359c9e34
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-07 12:50:48 +0000

    Fix memory leak where Struct, _LongBase, _StrBase, String leaked their __dict__ on deallocation.
    * Use a fixed-size struct for String (unicode objects are in fact fixed-size)
      and store its variant_level that way.
    * Don't store Struct, _LongBase, _StrBase variant_level and Struct signature
      in a __dict__, but instead have a global dict mapping object IDs to variant
      levels, and a global dict mapping Struct IDs to signatures. This is a bit
      strange, but easier than correctly freeing the __dict__ (which is stored
      at the end of a variable-length struct, so somewhat hard to get at).
    * With this change, allocating objects in a loop no longer leaks memory, and
      neither does the test case supplied by Luka Renko.

 _dbus_bindings/abstract.c       |  194 +++++++++++++++++++++++++++++++--------
 _dbus_bindings/containers.c     |  132 ++++++++++++++++++++------
 _dbus_bindings/message-append.c |    6 +-
 _dbus_bindings/string.c         |   75 +++++++--------
 _dbus_bindings/types-internal.h |   10 ++
 5 files changed, 309 insertions(+), 108 deletions(-)

commit 870227fafd9c976a0354b02aff6052ba24234e91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-05 16:21:13 +0000

    Close a couple of reference leaks in String (there's another somewhere, but I can't find it)

 _dbus_bindings/string.c |   30 ++++++++++++++++++++++--------
 1 file changed, 22 insertions(+), 8 deletions(-)

commit c04456ff1b24de8695cda14f91e8886ca9c0bf0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-05 15:18:39 +0000

    Don't leak memory in Struct repr()

 _dbus_bindings/containers.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 192bd48b8a17e4f62400b64e037df22c3b47de88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-05 15:18:14 +0000

    Don't leak memory in _StringBase and _LongBase repr()

 _dbus_bindings/abstract.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 630f912b2155e6328a3fa48deb832f5c3d114b94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-05 13:18:19 +0000

    Switch _IntBase back to using generic alloc/free implementation rather than half-participating in the int free list (which would result in _IntBase instances leaking)

 _dbus_bindings/abstract.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 95c0d3618041e8c8f9173a3eb8e8ddc93c456952
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-02-05 13:17:12 +0000

    Fix a couple of memory leaks - D-Bus signature strings, and decoded Unicode objects

 _dbus_bindings/message-get-args.c |   18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 99e0758b1d4f958e5753d51e843f1254e15b93b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-31 13:47:49 +0000

    _dbus_bindings/pending-call.c: Fix memory leak of one Message per method call.
    Also fix a leak of references to Py_None (unlikely to be a practical problem,
    but best to be correct).

 _dbus_bindings/pending-call.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 66fb2745189037ba634cc3574f174f26e53a9be6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-31 13:27:16 +0000

    Fix a leak of references to Py_None in slightly pathological cases (should never be a problem in practice, but correctness is good)

 _dbus_bindings/pending-call.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9285b0648419a6860ca274d381cdb2924f85fdd2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-31 13:07:49 +0000

    _pending_call_notify_function: stop leaking a Message per call

 _dbus_bindings/pending-call.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c0c48abc99e66998b4c81436a8f6eca58f93cef4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-25 12:59:39 +0000

    configure.ac: Only use -Werror if user passes --enable-Werror to configure.
    Also improve clarity of help message for --enable-html-docs.

 configure.ac |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit d7c11cccfcdc3ef94f183d79203fac136e2c3494
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-25 12:49:57 +0000

    doc/tutorial.txt.in: Add copyright and license (GPL2/AFL2.1, like the code)

 doc/tutorial.txt.in |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit dc6b66210bda929f92524ef10f5c3edbb3cb495c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-25 12:43:57 +0000

    COPYING: Remove information about files we no longer have

 COPYING |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 00ffd01f3186bf7eab88a5408daa59d162efdf70
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-25 12:43:13 +0000

    test/, include/: remove accidentally duplicated lines from license statement

 include/dbus-python.h     |    2 --
 test/cross-test-client.py |    2 --
 test/cross-test-server.py |    2 --
 test/crosstest.py         |    2 --
 test/test-client.py       |    2 --
 test/test-service.py      |    2 --
 test/test-signals.py      |    2 --
 test/test-standalone.py   |    2 --
 8 files changed, 16 deletions(-)

commit 41694b4df5c1dbf745e5ddd443571d5cb67d74b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-25 12:38:53 +0000

    dbus, _dbus_bindings, _dbus_glib_bindings: remove accidentally duplicated lines in license statement

 _dbus_bindings/abstract.c               |    2 --
 _dbus_bindings/bus.c                    |    2 --
 _dbus_bindings/bytes.c                  |    2 --
 _dbus_bindings/conn-internal.h          |    2 --
 _dbus_bindings/conn-methods.c           |    2 --
 _dbus_bindings/conn.c                   |    2 --
 _dbus_bindings/containers.c             |    2 --
 _dbus_bindings/dbus_bindings-internal.h |    2 --
 _dbus_bindings/debug.c                  |    2 --
 _dbus_bindings/exceptions.c             |    2 --
 _dbus_bindings/float.c                  |    2 --
 _dbus_bindings/generic.c                |    2 --
 _dbus_bindings/int.c                    |    2 --
 _dbus_bindings/mainloop.c               |    2 --
 _dbus_bindings/message-append.c         |    2 --
 _dbus_bindings/message-get-args.c       |    2 --
 _dbus_bindings/message-internal.h       |    2 --
 _dbus_bindings/message.c                |    2 --
 _dbus_bindings/module.c                 |    2 --
 _dbus_bindings/pending-call.c           |    2 --
 _dbus_bindings/signature.c              |    2 --
 _dbus_bindings/string.c                 |    2 --
 _dbus_bindings/types-internal.h         |    2 --
 _dbus_bindings/validation.c             |    2 --
 _dbus_glib_bindings/module.c            |    2 --
 dbus/__init__.py                        |    2 --
 dbus/_dbus.py                           |    2 --
 dbus/_expat_introspect_parser.py        |    2 --
 dbus/decorators.py                      |    2 --
 dbus/glib.py                            |    2 --
 dbus/lowlevel.py                        |    2 --
 dbus/mainloop/glib.py                   |    2 --
 dbus/proxies.py                         |    2 --
 dbus/service.py                         |    2 --
 34 files changed, 68 deletions(-)

commit 3706648c6ba07d2781fb9723eddc202a7e2b8a72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 20:29:17 +0000

    Use AC_PREREQ(2.59c) to make sure we can use docdir, which is relatively new

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c9b10a511f9465ee87e4f87065445c04a34d7e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 16:37:03 +0000

    Reset released flag

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 130d1a59220a921af7cc7738306804a6f8878062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 16:17:43 +0000

    Version 0.80.1, the "oops" release. Install dbus/_version.py so dbus.__version__ exists again.

 NEWS                |    9 +++++++--
 configure.ac        |    4 ++--
 dbus/Makefile.am    |    1 +
 dbus/_version.py.in |    2 +-
 4 files changed, 11 insertions(+), 5 deletions(-)

commit 6e6b4cd1d7ade85612872d94374d722531f2e3f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 16:03:37 +0000

    Clear "released" flag after release

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 876f343d4eb39519ca155a4add1483d4f6ced641
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 16:01:09 +0000

    Relax dbus requirement to 0.93, to be nice to Ubuntu 6.10 and Fedora Core 6 users. Release version 0.80.0

 configure.ac |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 1ad24fa7b36a333a0a4e0ce1f0afd2b201f09245
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 14:55:43 +0000

    Remove unnecessary "..." in AC_MSG_CHECKING; correct quoting in AC_MSG_RESULT and tests

 configure.ac |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 3edafe1f009d0e228109368dcec3ba3da2d559a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 14:37:32 +0000

    Clear "released" flag. Improve checking for rst2html and epydoc.

 configure.ac |   48 +++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 39 insertions(+), 9 deletions(-)

commit 057317ea759323f49133351e997ce7b892394889
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 14:31:54 +0000

    Update NEWS, README for 0.80.0

 NEWS   |    6 +++---
 README |   33 +++++++++++++++++++++------------
 2 files changed, 24 insertions(+), 15 deletions(-)

commit bdf3c3a8ca30149b8d047ac0437858a47927f37e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 14:31:29 +0000

    Remove from EXTRA_DIST files we'd already be distributing

 Makefile.am |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 36deedcc043fb5abde7cbb432b3a3b24a5031da0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 14:13:50 +0000

    Add Makefile target maintainer-update-website to update d.fd.o/doc/dbus-python
    (to use this target, configure your fd.o username, if not the same as
    your local username, in ~/.ssh/config).
    Move API_CHANGES.txt, HACKING.txt to doc/ directory.
    Tweak documentation generation so deprecated stuff isn't documented.

 API_CHANGES.txt     |  124 ---------------------------------------------------
 HACKING.txt         |   62 --------------------------
 Makefile.am         |   35 ++++++++++++---
 dbus/__init__.py    |    7 ++-
 dbus/_dbus.py       |   39 ++++++++--------
 doc/API_CHANGES.txt |  124 +++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/HACKING.txt     |   68 ++++++++++++++++++++++++++++
 7 files changed, 248 insertions(+), 211 deletions(-)

commit 0035c926fd188d9458a4b23275fcb277b26abfbd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 12:12:39 +0000

    Install dbus-python.h in $includedir/dbus-1.0/dbus rather than $includedir for consistency with libdbus-glib and libdbus

 Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6708a7bb677ac91cb1190f5f6761e2136f6dc779
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-24 12:04:19 +0000

    Automatically detect whether various desirable rst2html options are actually supported, using a modified version of JH_ADD_CFLAG. Also allow HTML documentation building to be switched off.

 Makefile.am  |    3 ---
 acinclude.m4 |   25 +++++++++++++++++++++++++
 configure.ac |   35 +++++++++++++++++++++++++++++------
 3 files changed, 54 insertions(+), 9 deletions(-)

commit 5e31fb2bfc9ea3e39e13abc519fade6e0322c864
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-22 18:52:00 +0000

    Build pre-release version 0.79.94 (= 0.80rc4)

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7ab85ec3ad175ed8631409e2fb216162fda70d67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-22 18:34:11 +0000

    Alter Makefile.am, configure.ac to recurse into subdirs for previous change to take effect

 .gitignore   |    1 +
 Makefile.am  |  124 ++++++++++------------------------------------------------
 configure.ac |    5 +++
 3 files changed, 27 insertions(+), 103 deletions(-)

commit 625bfaac68f6c7afd85d62752e34fc8e00405790
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-22 18:26:36 +0000

    Split up Makefile.am between subdirectories
    As well as being conventional, this seems to be necessary to avoid having
    dbus_py_test.so installed, while still having it be a Libtool shared library
    (noinst libraries are helpfully made static).

 _dbus_bindings/Makefile.am      |   30 ++++++++++++++++++++++++++
 _dbus_glib_bindings/Makefile.am |    9 ++++++++
 dbus/Makefile.am                |   21 +++++++++++++++++++
 examples/Makefile.am            |    8 +++++++
 test/Makefile.am                |   44 +++++++++++++++++++++++++++++++++++++++
 5 files changed, 112 insertions(+)

commit 6edb71ddccce139f6c7de1e43f885fed37f58b1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-22 16:50:19 +0000

    API_CHANGES.txt, NEWS: update for 0.79.94 (= 0.80rc4)

 API_CHANGES.txt |    4 ----
 NEWS            |   11 +++++++----
 2 files changed, 7 insertions(+), 8 deletions(-)

commit b693df256198cd58c71e97531aa4169999bfd2d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-22 16:49:52 +0000

    configure.ac: When building a non-release version, compile with -Werror

 configure.ac |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 795927e72a9b5e0a14ea7125c31972d2fc3501dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-19 12:31:56 +0000

    Add a "released" flag to configure.ac: if not 1, append the date to the version.
    When making official releases please do the following:
    * set dbus_python_released to 1 and set the new version
    * make the release tarball (make distcheck)
    * commit, tag
    * change dbus_python_released back to 0 and commit again

 configure.ac |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 43c48b9c7fdbb5741daa024df9e7a319d1993dac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-17 13:06:33 +0000

    dbus/proxies.py: Finish implementing deferred methods so they can be async.
    
    * Queue up async methods and execute them when introspection finishes, instead
      of blocking on the introspection operation (heavily based on patch by J5)
    * Rename DeferedMethod (sic) to spell Deferred correctly, and rename to
      _DeferredMethod (also _ProxyMethod) since these classes are not public API
    * Make it safe to keep a reference to a DeferredMethod and call it with
      differing arguments:
        meth = proxy.DoStuff
        meth(1, reply_handler=on_reply, error_handler=on_error)
        meth(2, reply_handler=on_reply, error_handler=on_error)
    * Make it safe to keep references to DeferredMethod even after introspection
      has finished - if called after introspection finishes, silently do an
      immediate call
    * Add some locking to avoid subtle failures if one thread appends
      to the pending introspect queue at the same time another thread gets
      introspection results back - ProxyObject and friends should now be
      threadsafe (I think)

 dbus/proxies.py |  145 +++++++++++++++++++++++++++++++++----------------------
 1 file changed, 87 insertions(+), 58 deletions(-)

commit 4dbee87fbe9dd7abb56d8d150d8c8ae7bd01f261
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-17 12:28:38 +0000

    dbus/service.py: cope with exceptions with no __module__
    (thanks Phil Thompson, <phil riverbankcomputing co uk>)

 dbus/service.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cc4dfc18c7fe0843b5e118d35a94ca9cca563f98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-17 12:27:51 +0000

    DBusGMainLoop: avoid reference leak on success
    (thanks Phil Thompson, <phil riverbankcomputing co uk>)

 _dbus_glib_bindings/module.c |    1 +
 1 file changed, 1 insertion(+)

commit 47860b5c25c823587e4e06636acc926b252fe114
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 19:52:45 +0000

    Add regression test for main loop failure handling (a main loop that never works)
    
    Also run tests with DBUS_FATAL_WARNINGS and ulimit -c unlimited so they dump
    core at the slightest provocation.

 Makefile.am                     |   11 ++++-
 test/dbus_py_test.c             |  101 +++++++++++++++++++++++++++++++++++++++
 test/run-test.sh                |    6 +++
 test/test-unusable-main-loop.py |   17 +++++++
 4 files changed, 134 insertions(+), 1 deletion(-)

commit 916df7703d828afec95635d309ca83bc1c05fd98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 19:51:28 +0000

    examples: Don't load a main loop when only making blocking calls

 examples/example-client.py       |    2 --
 examples/list-system-services.py |    3 +--
 2 files changed, 1 insertion(+), 4 deletions(-)

commit f0deb687acad02173c20a0dc644323774b24dc0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 19:38:00 +0000

    When running without a main loop, don't make introspection fail.
    
    Also change send_message_with_reply() to not demand a main loop by default
    (since you can call block() on the returned object, like blocking introspection
    does).

 _dbus_bindings/conn-methods.c |   24 +++++++++++++++++-------
 dbus/proxies.py               |    2 +-
 2 files changed, 18 insertions(+), 8 deletions(-)

commit 7d70b07e62d579ce85572a3e1ebb92f42461a185
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 19:36:05 +0000

    conn.c: fix Connection setup in absence of main loop, and error handling
    
    * Only set up a main loop if we actually have one (not None)
    * Don't double-close the DBusConnection (causing an assertion in libdbus) if
      we somehow fail to set up the main loop. Thanks to tsuraan
      <tsuraan at gmail.com> for the bug report.

 _dbus_bindings/conn.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 6d7356140055082a30090161c586b4575f8f0fa7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 18:08:04 +0000

    Correctly don't build HTML docs if rst2html is not found

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b33efe312c8d89ecc6e2ba9f075d2d0a9e28c3e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 17:41:45 +0000

    Switch types from int to Py_ssize_t to be compatible with Python 2.5 on 64-bit archs

 _dbus_bindings/conn-methods.c           |    2 +-
 _dbus_bindings/dbus_bindings-internal.h |   10 ++++++++++
 _dbus_bindings/message-append.c         |    8 ++++----
 _dbus_bindings/message-get-args.c       |    7 +++++--
 4 files changed, 20 insertions(+), 7 deletions(-)

commit 4d7fac530ce82c3dc888248234b955c04c364ada
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 17:24:00 +0000

    Always install text documentation, even if we're not able to build the HTML

 Makefile.am |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 597d278a3973ad411e345ab8938adf6c582da42d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 17:23:25 +0000

    bytes.c, string.c: Don't mention get_object_by_unique_name in docstrings, it no longer exists

 _dbus_bindings/bytes.c  |    2 +-
 _dbus_bindings/string.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d723afa11282cc694342a0043cdc8303747c88a7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 17:19:03 +0000

    When running make clean, also get rid of the generated API docs
    (now passes make distcheck DISTCHECK_CONFIGURE_ARGS=--enable-api-docs)

 Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit 0557d5bdcf90dc79ed3662144d8ecd1df28e5dcf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 17:09:10 +0000

    Remove generated HTML documentation on distclean

 Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 3504ac8bc098b5872be747c151f304bbe80d2131
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 17:04:37 +0000

    Remove get_object_by_unique_name again, and replace with a better-thought-out version of get_object
    
    - Remove get_object_by_unique_name (introduced in 0.80rc1) - J5's right, the
      name is misleading
    - Make get_object *not* follow name changes by default (a return to pre-0.80
      behaviour, and the same as 0.80rc1's get_object_by_unique_name())
    - Add keyword argument follow_name_owner_changes (default is False): if True,
      it will follow name owner changes (like 0.80rc1's get_object() always did)
    - Implement with modifications to ProxyObject so it resolves the unique name
      on construction, if required (activating it if necessary)

 dbus/_dbus.py   |   71 ++++++++++++++++---------------------------------------
 dbus/proxies.py |   34 ++++++++++++++++++++++----
 2 files changed, 50 insertions(+), 55 deletions(-)

commit e8d766e1b2d5013e3f2c0a95d43b1dcb5eb00044
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 17:00:00 +0000

    Ensure we put the right number of items in a struct or message and add test cases.
    
    This avoids us getting kicked off the bus when trying to put the wrong
    number of things in a struct - this used to happen, but was masked by the fact
    that the tests ran with service activation, so the service was just killed and
    reactivated. Forthcoming changes to get_object make this automatic reactivation
    not happen (messages will be directed to the unique name by default, so
    stateful communication can work).

 _dbus_bindings/message-append.c |   55 +++++++++++++++++++++++++--------------
 test/test-standalone.py         |   44 ++++++++++++++++++++++++++++++-
 2 files changed, 79 insertions(+), 20 deletions(-)

commit bd2baf2aad6a7f5ecf0bf7e867e74077cf733cd6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 15:05:31 +0000

    test/run-test.sh: Re-order to run the simpler tests (standalone, examples, cross tests) first

 test/run-test.sh |   34 ++++++++++++++++++----------------
 1 file changed, 18 insertions(+), 16 deletions(-)

commit c7fa08a7a7cc6ae3811b1164b0fdd627a9377e43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 14:44:01 +0000

    Write some more of the tutorial

 doc/tutorial.txt.in |  289 +++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 267 insertions(+), 22 deletions(-)

commit e018fa3f6a7e4e0da334453c81e3bde22da46fe1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 12:08:05 +0000

    Comment on why we're putting the client at path /Test

 test/cross-test-client.py |    2 ++
 1 file changed, 2 insertions(+)

commit c98c7742c13ff38998bbc6b6acca390a529e9c7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-16 11:40:47 +0000

    Use autoconf's usual directory for docs

 Makefile.am |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 24d8be176996913853b01f0e3ed1d33082640dec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-15 20:24:59 +0000

    Generate HTML docs from reStructuredText if rst2html is available

 Makefile.am  |   22 ++++++++++++++++++++++
 configure.ac |    7 ++++++-
 2 files changed, 28 insertions(+), 1 deletion(-)

commit a9575bf47b9ba5bc02ad5280fe35652758c0d00e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-15 20:23:48 +0000

    reStructuredText syntax corrections

 API_CHANGES.txt |    2 +-
 HACKING.txt     |    6 +++---
 NEWS            |    6 +++---
 README          |    6 +++---
 4 files changed, 10 insertions(+), 10 deletions(-)

commit cd5719adbf6cafb53fb3dd19c141ad312729c83c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-15 20:22:52 +0000

    Ignore generated documentation

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 6053bac21757a0d87abd0c50135f6c783fdf63b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-15 19:15:20 +0000

    configure.ac: don't divert autotools cruft into autotools/, it's probably more trouble than it's worth (fd.o#9630); .gitignore: adjust accordingly

 .gitignore   |   16 ++++++++--------
 configure.ac |    1 -
 2 files changed, 8 insertions(+), 9 deletions(-)

commit 02f962921e831a710e7b1566ec5d4c0b84a15d91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-15 19:09:04 +0000

    Makefile.am: ship example-async-client so it can be used as a test

 Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 618e13ee5bdce6dd129600a698910f5edb7ab4db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-10 13:11:33 +0000

    Add half-written tutorial. Fix reStructuredText syntax in documentation, and build HTML if we have rst2html or rst2html.py.
    Distribution packagers may want to build-depend on docutils, and configure with --docdir=... if their distribution would usually use a location other than PREFIX/share/doc/dbus-python - for instance Debian/Ubuntu should use --docdir=/usr/share/doc/python-dbus.

 doc/tutorial.txt.in |  399 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 399 insertions(+)

commit bde53f1cf59b743d5e38b6ac4fbdf348bdf773db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-10 13:05:23 +0000

    Add special case to serialization: objects with a __dbus_object_path__ attribute are serialized as that object path. Add that attribute to ProxyObject, dbus.Interface and dbus.service.Object.

 _dbus_bindings/abstract.c       |    4 ++
 _dbus_bindings/message-append.c |  120 +++++++++++++++++++++++++++++++--------
 _dbus_bindings/types-internal.h |    1 +
 dbus/_dbus.py                   |    5 ++
 dbus/proxies.py                 |   12 ++--
 dbus/service.py                 |    3 +
 test/test-standalone.py         |   15 +++++
 7 files changed, 130 insertions(+), 30 deletions(-)

commit 92e8cc8ff3cb87af3e94bc455d3be057e98846d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-10 12:45:06 +0000

    Remove old .cvsignore files

 dbus/.cvsignore     |   10 ----------
 examples/.cvsignore |    2 --
 2 files changed, 12 deletions(-)

commit 984b7fc404a89b61f5efefb2a82d203a6b4fd143
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 16:49:58 +0000

    Validate that the signature on an Array or Dict has the right number of complete types

 _dbus_bindings/containers.c |   58 ++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 54 insertions(+), 4 deletions(-)

commit 6e4a93545a40a13af7308b97e435921a0eee7805
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 15:30:22 +0000

    When putting a ByteArray into a variant array, serialise it as an array of variants containing byte, not an array of variants containing string

 _dbus_bindings/message-append.c |   26 +++++++++++++++++++++++++-
 test/test-standalone.py         |    3 ++-
 2 files changed, 27 insertions(+), 2 deletions(-)

commit 93faf8793f271d91fbc413f1c9374328605bcda8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 15:27:52 +0000

    Improve documentation of type conversion from D-Bus to Python

 _dbus_bindings/message-get-args.c |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit e5cef62c8ed04f5842257653bc6ec70abbdd20bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 15:27:02 +0000

    dbus.Interface, dbus.ProxyObject: add get_dbus_method(), which can be used to call awkwardly-named methods like __getattr__

 dbus/_dbus.py       |   26 ++++++++++++++++++++++++++
 dbus/proxies.py     |   47 ++++++++++++++++++++++++++++++++++++-----------
 test/test-client.py |    4 ++++
 3 files changed, 66 insertions(+), 11 deletions(-)

commit ee11236f45c9aa354136e6e5d2ec1c4490bc6657
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 14:53:55 +0000

    Improve docstrings for String and UTF8String explaining how to get UTF8String from the API.

 _dbus_bindings/string.c |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit d75fec04ba79b46872801c6132afad7b9f192c94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 14:53:16 +0000

    Subscripting a ByteArray now gives 1-character strings again (for least astonishment). Also document how to get a ByteArray from the API

 _dbus_bindings/bytes.c |   75 ++++++++++++------------------------------------
 1 file changed, 18 insertions(+), 57 deletions(-)

commit b68d891998983ab94e68555855d10f85a3dca019
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 14:29:46 +0000

    Correct usage in example-async-client: you need to use example-client (or kill(1) of course) to shut down the example service

 examples/example-async-client.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26ce68b8de3f48187091d3686cb30b75375b84d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 14:05:28 +0000

    Add an example of asynchronous calls. Run the examples during 'make check'.

 examples/example-async-client.py     |  109 ++++++++++++++++++++++++++++++++++
 examples/example-client.py           |    6 ++
 examples/example-service.py          |   10 ++++
 examples/example-signal-recipient.py |    1 -
 test/run-test.sh                     |   13 ++++
 5 files changed, 138 insertions(+), 1 deletion(-)

commit 9ede20248d690d9bb2cb9fba6b75955770930a94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 14:04:49 +0000

    Don't require a main loop unless async calls, signal connections or exported objects are actually made. (Increases backwards compatibility with Pyrex-dbus-python)

 _dbus_bindings/conn-internal.h |    2 ++
 _dbus_bindings/conn-methods.c  |   30 ++++++++++++++++++++++++++++++
 _dbus_bindings/conn.c          |    8 ++------
 _dbus_bindings/module.c        |    7 ++++---
 dbus/_dbus.py                  |   10 ++++++++--
 5 files changed, 46 insertions(+), 11 deletions(-)

commit 336cfd395976627b9c758a48f7ec7db275963bc9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 13:03:27 +0000

    Accept keyword argument introspect=False to Bus.get_object(),
    Bus.get_object_by_unique_name() to suppress introspection - off by
    default, but necessary to work around broken service implementations
    which fail to reply to introspection.
    Thanks to Ulisses Furquim <ulissesf at gmail.com> for the patch.

 dbus/_dbus.py |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 88011f8e449d92959f83e304d8b6b2db44ec02bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 12:59:31 +0000

    Stop trying to get macros from the autotools directory (no longer needed)

 configure.ac |    2 --
 1 file changed, 2 deletions(-)

commit adf16bd849e1ebf98f65e288bc42956810a3e2eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 12:47:26 +0000

    Remove extra M4 macros (J5 added them to acinclude.m4 instead)

 autotools/as-ac-expand.m4 |   40 -----------------------------
 autotools/jhflags.m4      |   21 ---------------
 autotools/python.m4       |   62 ---------------------------------------------
 3 files changed, 123 deletions(-)

commit 2a100a94dc4db5174244b9dac89f4ca5c1083103
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-01-09 12:46:53 +0000

    Remove setup.py (no longer used in favour of autotools)

 setup.py |  195 --------------------------------------------------------------
 1 file changed, 195 deletions(-)

commit d0004b6162a18c3d9f02dbc4404f8f452f1c3e79
Author: John (J5) Palmieri <quinticent@localhost.localdomain>
Date:   2007-01-03 17:35:57 -0500

    fix autogen.sh to run all the correct steps that jhbuild expects
    
    * copy autogen.sh from D-Bus core
    * add JH_ADD_CFLAG, AM_CHECK_PYTHON_HEADERS and AM_CHECK_PYMOD m4 macros
      to acinclude.m4

 acinclude.m4 |   84 +++++++++++++++++++++++++++++++++++++++++++++++++++
 autogen.sh   |   94 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 175 insertions(+), 3 deletions(-)

commit 5b8c9eb452b78ed56b395193f6989ad87eae111b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-21 19:51:54 +0000

    Improve various type docstrings

 _dbus_bindings/abstract.c         |   28 ++++++++++--
 _dbus_bindings/bus.c              |    8 +++-
 _dbus_bindings/bytes.c            |   28 +++++++++---
 _dbus_bindings/containers.c       |   59 ++++++++++++++----------
 _dbus_bindings/generic.c          |    3 ++
 _dbus_bindings/int.c              |   91 +++++++++++++++++++------------------
 _dbus_bindings/message-get-args.c |    2 +-
 _dbus_bindings/message.c          |   35 ++++++++++----
 _dbus_bindings/module.c           |   10 ++--
 _dbus_bindings/pending-call.c     |    3 +-
 _dbus_bindings/signature.c        |   11 +++--
 _dbus_bindings/string.c           |   25 ++++++----
 _dbus_bindings/validation.c       |   29 ++++++------
 13 files changed, 205 insertions(+), 127 deletions(-)

commit b2e5a27a119ca7b94cd8a343a163bc6639f7c8f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-21 18:39:51 +0000

    Fix recommendation given by exception message bringing it into sync with current API (spotted by Phil Thompson)

 _dbus_bindings/conn.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7f7262c8d6b1e3aa6cdc541ac0cdb275f9e68501
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 17:48:34 +0000

    Makefile.am: if in a git checkout, generate the ChangeLog (correctly)

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06e9507ebca33369c106b616f948fe6af4fe71c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 17:44:35 +0000

    NEWS, README: 0.80rc3, a.k.a. 0.79.93

 NEWS   |    7 ++++++-
 README |    1 +
 2 files changed, 7 insertions(+), 1 deletion(-)

commit d62626c19c32348c28b90e269c47635a421247f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 17:42:57 +0000

    .gitignore: ignore the generated Makefile

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 75a897710ffafb1fc4df17460784829df844666f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 17:37:11 +0000

    Makefile.am: if in a git checkout, generate the ChangeLog

 Makefile.am |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 6020c7f6252833c2d5bf890c68335ee4cc6f777c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 15:57:11 +0000

    dbus-python.h: Alter header comment, use a better cpp define name for the multiple-inclusion guard

 include/dbus-python.h |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 75111a7da5f12f3f01d736694158ea266926139b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 15:43:57 +0000

    Remove old introspect_parser from Makefile.am too

 Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit 550390810f9ee63a3f251e854f3e234c6a948436
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 15:17:12 +0000

    Remove old libxml2-based introspection parser

 dbus/introspect_parser.py |   90 ---------------------------------------------
 1 file changed, 90 deletions(-)

commit d6bfbdd4a270a0b2421e8cba566805211b711c77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 15:16:43 +0000

    Include the cross-test in 'make check'

 test/run-test.sh |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 432694be74b0a6bfb5336e4fa493958b1bf1ac4e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 15:16:22 +0000

    Add missing _expat_introspect_parser.py; fix cross-test to work for out-of-tree builds

 Makefile.am |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0bccb0f1fd68b224e7aee6d21aef8e36cdc8d980
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 15:15:01 +0000

    Remove Makefile (auto-generated since switching to autotools)

 Makefile | 1088 --------------------------------------------------------------
 1 file changed, 1088 deletions(-)

commit b3c9b4c65aaefc6c940793e00fcdb60831367d10
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 14:45:16 +0000

    Add an Expat-based introspect parser, and use it instead of libxml2.
    (Removes dependency on libxml2.)

 dbus/_expat_introspect_parser.py |   83 ++++++++++++++++++++++++++++++++++++++
 dbus/proxies.py                  |    2 +-
 2 files changed, 84 insertions(+), 1 deletion(-)

commit 164f38ea01187c1bbe9606dde81e09efd62362e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 14:24:45 +0000

    Pass introspection XML around as UTF-8, rather than decoding it to Unicode
    during unmarshalling and re-encoding it for libxml2.

 dbus/introspect_parser.py |    6 +++++-
 dbus/proxies.py           |    2 +-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 956a5c9e47e9504b67685a6bf582afd04c613fd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 14:21:10 +0000

    Respect utf8_strings, byte_arrays options when calling methods asynchronously.
    
    Also make it possible to fail the async call tests in test-client, and add a test case for utf8_strings in async use.

 dbus/proxies.py     |    9 +++++----
 test/test-client.py |   38 +++++++++++++++++++++++++++++---------
 2 files changed, 34 insertions(+), 13 deletions(-)

commit b4845467ec4e381f07dadf48ce67a7b02ac46618
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-19 14:05:15 +0000

    Do cross-product of options in more obvious way

 test/test-client.py |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit e6eb7b5307da2a446e1c8c6b0cb6b11fc6705b00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-18 20:33:56 +0000

    Switch to autotools and test with Python 2.5 as well as 2.4.
    
    In the process:
    
    HACKING.txt: update
    include/dbus-python.h: add some typedefs to make it saner
    bus.c, conn.c, conn-methods.c: further alter docstrings to keep epydoc happy
    exceptions.c: create exceptions in a more longwinded way for Python 2.5 compatibility
    message-get-args.c, bus/__init__.py: tweak docstrings
    dbus/introspect_parser.py: make docstring valid reStructuredText
    run-test.sh: simplify, since configure now does some of the work
    test/*.py: use paths from run-test.sh, cope with out-of-tree builds
    test-standalone.py: carry out additional sanity checks

 .gitignore                             |   35 +-
 HACKING.txt                            |   43 +-
 MANIFEST.in                            |   17 -
 Makefile                               | 1108 +++++++++++++++++++++++++++++++-
 Makefile.am                            |  124 ++++
 README                                 |   33 +
 _dbus_bindings/bus.c                   |    2 +-
 _dbus_bindings/conn-methods.c          |    5 +-
 _dbus_bindings/conn.c                  |    4 +-
 _dbus_bindings/exceptions.c            |   39 +-
 _dbus_bindings/message-get-args.c      |    9 +-
 _dbus_bindings/module.c                |   15 +-
 autogen.sh                             |    5 +
 autotools/as-ac-expand.m4              |   40 ++
 autotools/jhflags.m4                   |   21 +
 autotools/python.m4                    |   62 ++
 configure.ac                           |   83 +++
 dbus-python.pc.in                      |   11 +
 dbus/__init__.py                       |   14 +-
 dbus/_version.py.in                    |    3 +
 dbus/introspect_parser.py              |   10 +-
 include/dbus-python.h                  |   27 +-
 test/TestSuitePythonService.service.in |    3 +
 test/run-test.sh                       |   43 +-
 test/run-with-tmp-session-bus.sh       |   51 ++
 test/test-client.py                    |    9 +-
 test/test-service.py                   |    9 +-
 test/test-signals.py                   |    9 +-
 test/test-standalone.py                |   25 +-
 test/tmp-session-bus.conf.in           |   21 +
 tools/run-with-tmp-session-bus.sh      |   65 --
 tools/session.conf                     |   24 -
 32 files changed, 1722 insertions(+), 247 deletions(-)

commit 73457d0e435f4a9be9a9980fb06dd004b87c6647
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-18 12:05:00 +0000

    bus.c, conn-methods.c, conn.c: Alter format of signatures in docstrings to keep epydoc happy

 _dbus_bindings/bus.c          |   14 +++++++-------
 _dbus_bindings/conn-methods.c |   11 ++++++-----
 _dbus_bindings/conn.c         |    5 +++--
 3 files changed, 16 insertions(+), 14 deletions(-)

commit 358403cd0cba20ccda4961a39644c092a0f05b74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-18 12:03:27 +0000

    include/dbus_bindings.h: Rename to include/dbus-python.h, improve namespacing.
    _dbus_bindings/conn-internal.h, _dbus_bindings/dbus_bindings-internal.h,
    _dbus_glib_bindings/module.c: Use dbus-python.h instead of dbus_bindings.h

 _dbus_bindings/conn-internal.h          |    2 +-
 _dbus_bindings/dbus_bindings-internal.h |    4 +-
 _dbus_glib_bindings/module.c            |   13 +++--
 include/dbus-python.h                   |   96 +++++++++++++++++++++++++++++++
 include/dbus_bindings.h                 |   96 -------------------------------
 5 files changed, 106 insertions(+), 105 deletions(-)

commit f4bb2ca522a39fbbf2cce536410c973a73b9059c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-15 12:56:36 +0000

    COMPAT.txt: cross off some to-do items, patches now sent upstream

 COMPAT.txt |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit 6376c0c422063a48554719f9ec72162c1b63fdda
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-14 16:18:13 +0000

    _dbus_bindings/module.c: If Python is older than 2.4.2c1, initialize threads.
    In newer versions the PyGILState API is allowed even when threads haven't been
    initialized yet, but in 2.4.1 it causes a crash. It's desirable to avoid
    initializing threads until just before the second thread is created, since
    this creates locking overhead which isn't needed until the app actually goes
    multi-threaded.

 _dbus_bindings/module.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 274314c98304fdaa23bcc7b3940ab48e7afe0e8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 15:02:36 +0000

    Bump version to 0.80rc2

 NEWS             |    2 +-
 dbus/__init__.py |    4 ++--
 setup.py         |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 8989e8da843210e7d18c456cfaa12cabc1015ac0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 15:02:07 +0000

    MANIFEST.in: include Makefile (for the benefit of mjj29's interop test) and examples

 MANIFEST.in |    2 ++
 1 file changed, 2 insertions(+)

commit 717c5b4b3852c5e519bc4a1ccb9df8414d4c019c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 14:48:56 +0000

    list-system-services.py: Use the NULL_MAIN_LOOP

 examples/list-system-services.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b70364f2a37e64585c53a72e36481407e375808c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 14:40:32 +0000

    dbus/examples: Move to examples/ (it's not part of the library and isn't installed)

 dbus/examples/.cvsignore                  |    2 -
 dbus/examples/example-client.py           |   51 -------------------
 dbus/examples/example-service.py          |   50 -------------------
 dbus/examples/example-signal-emitter.py   |   46 -----------------
 dbus/examples/example-signal-recipient.py |   77 -----------------------------
 dbus/examples/gconf-proxy-client.py       |   15 ------
 dbus/examples/gconf-proxy-service2.py     |   40 ---------------
 dbus/examples/list-system-services.py     |   41 ---------------
 examples/.cvsignore                       |    2 +
 examples/example-client.py                |   51 +++++++++++++++++++
 examples/example-service.py               |   50 +++++++++++++++++++
 examples/example-signal-emitter.py        |   46 +++++++++++++++++
 examples/example-signal-recipient.py      |   77 +++++++++++++++++++++++++++++
 examples/gconf-proxy-client.py            |   15 ++++++
 examples/gconf-proxy-service2.py          |   40 +++++++++++++++
 examples/list-system-services.py          |   41 +++++++++++++++
 16 files changed, 322 insertions(+), 322 deletions(-)

commit c874bb37093c39e3dcc974c7bff39a36e4f7202a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 14:39:03 +0000

    dbus/_dbus.py: Strongly reference shared connections, so they stay alive and signal handlers etc. stick. On close, remove them from the table of shared connections first

 dbus/_dbus.py |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 4a7f442a322a8df6306f50ae22aaf049d3807c9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 14:36:00 +0000

    dbus/__init__.py: Import exceptions too in case someone is relying on it

 dbus/__init__.py |    1 +
 1 file changed, 1 insertion(+)

commit 1cd510ab8be262106e1a57359a06708236b9dd39
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:53:38 +0000

    test/test-client.py: Add test case for weak reference logic (which would segfault on 0.80rc1)

 test/test-client.py |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit a3f966c49e6158a3382a2dce553b91ceb64376fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:50:38 +0000

    dbus/__init__.py: Import types submodule into dbus, because Sugar assumes it'll be available

 dbus/__init__.py |    3 +++
 1 file changed, 3 insertions(+)

commit a4b88e345e8ee03ddcf12ce323730d12d51193db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:49:38 +0000

    dbus/_dbus.py: Use absolute import for proxies

 dbus/_dbus.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8edf45a9dc51a70ce4897606f4cd2b08e3536332
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:48:40 +0000

    message-append.c, message-get-args.c: Turn off debug messages even when debugging other things, they're too verbose

 _dbus_bindings/message-append.c   |    1 +
 _dbus_bindings/message-get-args.c |    1 +
 2 files changed, 2 insertions(+)

commit 422855dd98922b8a3038f7315809462ed6a54ba6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:48:03 +0000

    _dbus_bindings/conn.c: Fix broken weak reference handling, which caused a segfault on OLPC.
    Also add debug related to this.

 _dbus_bindings/conn.c |   55 ++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 43 insertions(+), 12 deletions(-)

commit 6ff6bd99176b7b1d7931bb16c8a7c8a75e3755ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:46:29 +0000

    conn-methods.c: Add tracing

 _dbus_bindings/conn-methods.c |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 98f392d386ae89e3b7ebe397beee6a15869511df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:45:55 +0000

    conn-internal.h: Comment weakref list

 _dbus_bindings/conn-internal.h |    1 +
 1 file changed, 1 insertion(+)

commit d1bc9f29818e576b07946e0ea9a89e90e1d5ec42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:45:28 +0000

    bus.c: Add tracing and a couple of missed assertions

 _dbus_bindings/bus.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 6afa6d2e76c83c921c799bec3a7b3259248eb57f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-13 13:45:01 +0000

    Add TRACE macro and allow debug to be turned off per file

 _dbus_bindings/dbus_bindings-internal.h |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 2ad0498ce6f253da333907ed87df11c6b5a8cf1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-12 19:56:17 +0000

    conn.c: Correct number of varargs to debug message

 _dbus_bindings/conn.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 53c4f8628eac5c1ba62e9ccf3be6e1b4c0990b20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-12 19:55:38 +0000

    conn.c: Use __func__ instead of incorrect __FUNC__

 _dbus_bindings/conn.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d8a2d78963cf76051a72bb18e7c9d9dd0afd27e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-12 19:54:05 +0000

    _dbus_bindings/bus.c, _dbus_bindings/conn-methods.c, _dbus_bindings/conn.c: Add lifecycle debugging and assertions

 _dbus_bindings/bus.c          |    9 +++++++++
 _dbus_bindings/conn-methods.c |   28 +++++++++++++++++++++-------
 _dbus_bindings/conn.c         |   31 +++++++++++++++++++++++++------
 3 files changed, 55 insertions(+), 13 deletions(-)

commit 88306feb544fac52c5ffe7de48ef0fd07a59a749
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-12 19:46:54 +0000

    _dbus_bindings/dbus_bindings-internal.h: Add wrapper macro "DBG_WHEREAMI;"

 _dbus_bindings/dbus_bindings-internal.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 883b24563b5f9bf406fcde5edb19caabbc812ac2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-12 19:44:41 +0000

    Add assertion macros and supporting functions

 _dbus_bindings/dbus_bindings-internal.h |   28 +++++++++++++++++++++--
 _dbus_bindings/debug.c                  |   38 +++++++++++++++++++++++++++++--
 2 files changed, 62 insertions(+), 4 deletions(-)

commit b7d21102b99e717e3b4f103d71ce96e8f056cfd4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-11 21:57:52 +0000

    Whitespace consistency: Don't put a space between function name and parentheses around arguments

 _dbus_bindings/bus.c              |   98 +++++++++---------
 _dbus_bindings/message-append.c   |   92 ++++++++---------
 _dbus_bindings/message-get-args.c |    4 +-
 _dbus_bindings/message.c          |  204 ++++++++++++++++++-------------------
 4 files changed, 199 insertions(+), 199 deletions(-)

commit 830f94f31010d4783490217d4b02f6f87927ae4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-11 21:45:29 +0000

    Convert generic glue, main loop integration, message append/get_args, validation into separate translation units - no *-impl.h remaining

 _dbus_bindings/dbus_bindings-internal.h |    8 +
 _dbus_bindings/generic-impl.h           |   78 ---
 _dbus_bindings/generic.c                |   80 +++
 _dbus_bindings/mainloop-impl.h          |  606 -------------------
 _dbus_bindings/mainloop.c               |  538 +++++++++++++++++
 _dbus_bindings/message-append-impl.h    |  974 ------------------------------
 _dbus_bindings/message-append.c         |  975 +++++++++++++++++++++++++++++++
 _dbus_bindings/message-get-args-impl.h  |  511 ----------------
 _dbus_bindings/message-get-args.c       |  512 ++++++++++++++++
 _dbus_bindings/message-internal.h       |   48 ++
 _dbus_bindings/message.c                |   91 ++-
 _dbus_bindings/module.c                 |  191 +++++-
 _dbus_bindings/validation-impl.h        |  352 -----------
 _dbus_bindings/validation.c             |  243 ++++++++
 setup.py                                |    5 +
 15 files changed, 2636 insertions(+), 2576 deletions(-)

commit 8ab339978d34b8c14dcf53aa6fbf228efb9130c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-11 20:30:19 +0000

    Separate out remaining types (abstract, bytes, containers, int, float, signature, string) into separate translation units

 Makefile                                |    6 +
 _dbus_bindings/abstract-impl.h          |  499 --------------
 _dbus_bindings/abstract.c               |  508 ++++++++++++++
 _dbus_bindings/bytes-impl.h             |  283 --------
 _dbus_bindings/bytes.c                  |  291 ++++++++
 _dbus_bindings/containers-impl.h        |  618 -----------------
 _dbus_bindings/containers.c             |  626 ++++++++++++++++++
 _dbus_bindings/dbus_bindings-internal.h |   15 +
 _dbus_bindings/float.c                  |  157 +++++
 _dbus_bindings/floattypes-impl.h        |  149 -----
 _dbus_bindings/generic-impl.h           |    4 +-
 _dbus_bindings/int.c                    |  791 ++++++++++++++++++++++
 _dbus_bindings/module.c                 |   32 +-
 _dbus_bindings/signature-impl.h         |  237 -------
 _dbus_bindings/signature.c              |  245 +++++++
 _dbus_bindings/string.c                 |  347 ++++++++++
 _dbus_bindings/types-impl.h             | 1100 -------------------------------
 _dbus_bindings/types-internal.h         |   10 +-
 setup.py                                |   11 +-
 19 files changed, 3017 insertions(+), 2912 deletions(-)

commit 14df12b437c1d8e0ce79aa90c99d58c820a94048
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-11 20:06:09 +0000

    Split out exceptions, pending call, message into separate .c files

 _dbus_bindings/abstract-impl.h          |  143 ++---
 _dbus_bindings/bus.c                    |    4 +-
 _dbus_bindings/bytes-impl.h             |   48 +-
 _dbus_bindings/conn.c                   |   14 +-
 _dbus_bindings/containers-impl.h        |  141 ++---
 _dbus_bindings/dbus_bindings-internal.h |   45 +-
 _dbus_bindings/exceptions-impl.h        |   71 ---
 _dbus_bindings/exceptions.c             |   64 ++
 _dbus_bindings/floattypes-impl.h        |   34 +-
 _dbus_bindings/generic-impl.h           |   13 +-
 _dbus_bindings/mainloop-impl.h          |   30 +-
 _dbus_bindings/message-append-impl.h    |   70 ++-
 _dbus_bindings/message-get-args-impl.h  |   55 +-
 _dbus_bindings/message-impl.h           | 1039 ------------------------------
 _dbus_bindings/message.c                | 1050 +++++++++++++++++++++++++++++++
 _dbus_bindings/module.c                 |   15 +-
 _dbus_bindings/pending-call-impl.h      |  290 ---------
 _dbus_bindings/pending-call.c           |  292 +++++++++
 _dbus_bindings/signature-impl.h         |   24 +-
 _dbus_bindings/types-impl.h             |  261 ++++----
 _dbus_bindings/types-internal.h         |   81 +++
 setup.py                                |    3 +
 22 files changed, 1895 insertions(+), 1892 deletions(-)

commit 7ee3e9020ae67172b82b39fee05d25db3f43ea08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-08 17:57:12 +0000

    _dbus_bindings: debug-impl.h -> debug.c

 _dbus_bindings/debug-impl.h |   60 -------------------------------------------
 _dbus_bindings/debug.c      |   60 +++++++++++++++++++++++++++++++++++++++++++
 _dbus_bindings/module.c     |    1 -
 setup.py                    |    2 ++
 4 files changed, 62 insertions(+), 61 deletions(-)

commit 3273a66c7b0d8a91ffe68732a482d17775627273
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-08 17:55:24 +0000

    _dbus_bindings: bus-impl.h -> bus.c

 _dbus_bindings/bus-impl.h               |  417 -------------------------------
 _dbus_bindings/bus.c                    |  417 +++++++++++++++++++++++++++++++
 _dbus_bindings/dbus_bindings-internal.h |    4 +
 _dbus_bindings/module.c                 |    5 +-
 4 files changed, 423 insertions(+), 420 deletions(-)

commit f50c6643bf9fe153a7add75ca150a1470b7eb63a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-08 17:50:25 +0000

    _dbus_bindings: split out conn, conn-methods into separate translation units

 _dbus_bindings/bus-impl.h               |   35 +-
 _dbus_bindings/conn-impl.h              |  590 ---------------------
 _dbus_bindings/conn-internal.h          |   52 ++
 _dbus_bindings/conn-methods-impl.h      |  687 ------------------------
 _dbus_bindings/conn-methods.c           |  862 +++++++++++++++++++++++++++++++
 _dbus_bindings/conn.c                   |  390 ++++++++++++++
 _dbus_bindings/dbus_bindings-internal.h |  113 ++++
 _dbus_bindings/debug-impl.h             |   39 +-
 _dbus_bindings/exceptions-impl.h        |   28 +-
 _dbus_bindings/generic-impl.h           |   16 +-
 _dbus_bindings/mainloop-impl.h          |   47 +-
 _dbus_bindings/message-impl.h           |   57 +-
 _dbus_bindings/module.c                 |    8 +-
 _dbus_bindings/pending-call-impl.h      |    7 +-
 _dbus_bindings/types-impl.h             |    2 +-
 _dbus_bindings/validation-impl.h        |   28 +-
 include/dbus_bindings.h                 |    7 +-
 setup.py                                |    6 +-
 18 files changed, 1552 insertions(+), 1422 deletions(-)

commit 380b44d38d333092bc9fe2eae8b7a836cb2791c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-08 16:10:12 +0000

    _dbus_bindings/conn-impl.h: Be more careful that referenced Connections always have a DBusConnection

 _dbus_bindings/conn-impl.h |   26 ++++++++++++++++++++++----
 1 file changed, 22 insertions(+), 4 deletions(-)

commit 93b846e642ea1830b40aee6dfc600b8cd18b51bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-08 16:08:56 +0000

    _dbus_bindings/bus-impl.h: Correctly construct Bus objects with non-default addresses

 _dbus_bindings/bus-impl.h |    2 ++
 1 file changed, 2 insertions(+)

commit 9c4374aba50a9de68e307b85dc0f4d0425ee0b1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-07 18:43:07 +0000

    gconf-proxy-{client,service2}.py: Print a message warning that these might not work.
    gconf-proxy-service.py: Delete, it uses API which was obsoleted long ago.

 dbus/examples/gconf-proxy-client.py   |    2 ++
 dbus/examples/gconf-proxy-service.py  |   43 ---------------------------------
 dbus/examples/gconf-proxy-service2.py |    1 +
 3 files changed, 3 insertions(+), 43 deletions(-)

commit 11757fcd9434e1e541c928ee34a6294a120bc0eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-07 18:40:31 +0000

    dbus/examples/example-*.py: update to current API

 dbus/examples/example-client.py           |   49 ++++++++++++++++----
 dbus/examples/example-service.py          |   46 +++++++++++++------
 dbus/examples/example-signal-emitter.py   |   39 +++++++++++-----
 dbus/examples/example-signal-recipient.py |   71 +++++++++++++++++++----------
 4 files changed, 147 insertions(+), 58 deletions(-)

commit ed1306b347fedce65a24bf525ad9d430bcfdf15d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-07 18:39:51 +0000

    dbus/_dbus.py, dbus/proxies.py: Add keyword arguments interface_keyword, member_keyword, destination_keyword (completing the set of useful message fields for signal handlers); also add message_keyword (for advanced use)

 dbus/_dbus.py   |   49 +++++++++++++++++++++++++++++++++++++++++++++++--
 dbus/proxies.py |   14 ++++++++++++++
 2 files changed, 61 insertions(+), 2 deletions(-)

commit 14bf5b0eb6dcd7da8b4f3e90d55480dfa0c4b9b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-07 18:37:58 +0000

    dbus/decorators: Remove explicitly_pass_message

 dbus/decorators.py |   21 +--------------------
 1 file changed, 1 insertion(+), 20 deletions(-)

commit 090091828e1d616171601d68aed00991d93dfd49
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2006-12-07 16:53:42 +0000

    examples/list-system-services.py: Print services in a nicer form, once per line. Offer to connect to the session bus instead.

 dbus/examples/list-system-services.py |   47 +++++++++++++++++++++++----------
 1 file changed, 33 insertions(+), 14 deletions(-)

commit 9802e3eb22d1ed464eec71153067593db7071764
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-06 12:56:59 +0000

    NEWS, setup.py, dbus/__init__.py: Bump version to 0.80rc1, aka 0.79.91

 NEWS             |   22 ++++++++++++++++++++++
 dbus/__init__.py |    4 ++--
 setup.py         |    2 +-
 3 files changed, 25 insertions(+), 3 deletions(-)

commit c5c7185c7638b650608a0854f28afbd94208ab02
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:46:45 +0000

    MANIFEST.in: add TODO (but not COMPAT.txt, which shouldn't go in the sdist)

 MANIFEST.in |    1 +
 1 file changed, 1 insertion(+)

commit 49ea22f2a1be697437f7c232613c87920957bc86
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:38:36 +0000

    TODO, COMPAT.txt: add

 COMPAT.txt |   48 ++++++++++++++++++++++++++++++++++++++++++++++++
 TODO       |    8 ++++++++
 2 files changed, 56 insertions(+)

commit aa0710da718fb04079076b6b02c486a177323322
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:37:54 +0000

    dbus/__init__.py, dbus/_dbus.py, dbus/service.py: Improve docstrings, imports, __all__

 dbus/__init__.py |  160 ++++++++++++++++++++++++++++++++++++++++++++++++++----
 dbus/_dbus.py    |   96 +++++++++-----------------------
 dbus/service.py  |   49 +++++++++++++----
 3 files changed, 213 insertions(+), 92 deletions(-)

commit 31ecbdd6c42cd508ae6510e9655a805094f04b31
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:36:53 +0000

    _dbus_bindings/validation-impl.h: Mark new functions as :Since: 0.80

 _dbus_bindings/validation-impl.h |    9 +++++++++
 1 file changed, 9 insertions(+)

commit e4a70180d3ab0eb77264dc1a9f22b2521e5d3607
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:36:21 +0000

    _dbus_bindings/types-impl.h: Always implement Int64 and UInt64 at least as a stub, raising NotImplementedError from the constructor on 64-bit-deficient platforms. Improve docstrings.

 _dbus_bindings/types-impl.h |  258 ++++++++++++++++++++++++++++++++++++-------
 1 file changed, 217 insertions(+), 41 deletions(-)

commit 34b237b3e1ed0c6665892f3a4765b09e29bdb3a5
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:34:58 +0000

    _dbus_bindings/signature-impl.h: Improve Signature class docstring

 _dbus_bindings/signature-impl.h |   19 ++++++++++++++++---
 1 file changed, 16 insertions(+), 3 deletions(-)

commit 69d95e61f95c21708596d2f973f46cde61521e68
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:34:21 +0000

    _dbus_bindings/message-append-impl.h, _dbus_bindings/message-get-args.h: Use PY_LONG_LONG rather than long long to support deficient platforms; consistently use NotImplementedError for platforms with no PY_LONG_LONG type

 _dbus_bindings/message-append-impl.h   |    6 +++---
 _dbus_bindings/message-get-args-impl.h |    9 +++++----
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 4ed5dcb72bcc41aa9327461a0cad325fa8d1afbd
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:32:25 +0000

    _dbus_bindings/containers-impl.h: Disallow empty structs. Improve docstrings

 _dbus_bindings/containers-impl.h |   80 +++++++++++++++++++++++++++++++-------
 1 file changed, 67 insertions(+), 13 deletions(-)

commit 42ea333ddd2351b4dc87c12089efbda89165783b
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 18:31:54 +0000

    _dbus_bindings/module.c: Add Constructor, Supported usage field declarations for epydoc

 _dbus_bindings/module.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 4779424a806aecfce2754eb8fc4673f0ce35823e
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 11:36:50 +0000

    dbus/decorators.py: Say that explicitly_pass_message() is deprecated

 dbus/decorators.py |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit c08743227d9e78da2d02d1e1f5a621d43d38efc4
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 11:36:17 +0000

    dbus/glib.py: mention that the new API only works in >= 0.80

 dbus/glib.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cb7538d514e968c19c3fea74bd5de89330112ed5
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 11:35:51 +0000

    dbus/introspect_parser.py: Add docstring for process_introspection_data()

 dbus/introspect_parser.py |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 3c606fda6ea70622ee234cc51d63644ab27e6e55
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 11:35:23 +0000

    dbus/mainloop/__init__.py, dbus/mainloop/glib.py: Add docstrings

 dbus/mainloop/__init__.py |    4 ++++
 dbus/mainloop/glib.py     |    7 +++++++
 2 files changed, 11 insertions(+)

commit 0c7cc37a5ac8fe1a044cfcf6d615aa8341dcb30e
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 11:34:54 +0000

    dbus/proxies.py: trivial change to process_introspection_data() invocation: import and "." => from-import

 dbus/proxies.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 01a91b63644b7f1e8b23dea20f639a9b13bb36ef
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 11:33:51 +0000

    setup.py, dbus/matchrules.py: Remove obsolete dbus.matchrules (the new implementation is in _dbus)

 dbus/matchrules.py |  271 ----------------------------------------------------
 setup.py           |    1 -
 2 files changed, 272 deletions(-)

commit 3655f865eb742eacc9f677c34757b0f115a7179b
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-05 11:33:10 +0000

    Stop asserting that dbus.Struct(()) works

 test/test-standalone.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 880a2a87e78355e546dc97f0661f500c1c42da73
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-04 14:13:24 +0000

    dbus/__init__.py: remove FIXME comment

 dbus/__init__.py |    4 ----
 1 file changed, 4 deletions(-)

commit 8339653949802cb296811fe488b53b721d63e0f7
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-04 14:11:40 +0000

    dbus/proxies.py: Ignore unused result from send_message. Pass on SignalMatch result from add_signal_receiver() so caller can disconnect the signal more easily.

 dbus/proxies.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 539faca6578f418da4bbbbd9d4a77c2f5fad682c
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-04 13:43:42 +0000

    dbus/introspect_parser.py: Import the right exceptions module, so we can raise the right exception

 dbus/introspect_parser.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f6284a1b6552652c84e76585fd208ea361ff288b
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-04 13:42:43 +0000

    test/test-signals.py: add test case for signal handling; test/run-test.sh: run test-signals.

 test/run-test.sh     |    3 ++
 test/test-signals.py |  128 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 131 insertions(+)

commit 14ae543d77a0d6ec72d10ba33c5a50c801f1feab
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-04 13:41:48 +0000

    dbus/_dbus.py: Re-work signal matching so it does the right thing when name ownership changes

 dbus/_dbus.py |  410 ++++++++++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 322 insertions(+), 88 deletions(-)

commit 601a1a2b4bbabebb248310334a60413bffde9780
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-12-04 13:35:24 +0000

    _dbus_bindings/bus-impl.h: Correct docstring for Bus.remove_match_string

 _dbus_bindings/bus-impl.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a61bb622aa26d48de7cb1cb269d4b4cfc75dda3f
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 17:23:38 +0000

    dbus._dbus, dbus.decorators, dbus.service: Update names of newly public low-level methods

 dbus/_dbus.py      |    2 +-
 dbus/decorators.py |    2 +-
 dbus/service.py    |    4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 469c2586d661e16193c9d22772b37d2fe98ad5da
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 17:22:49 +0000

    _dbus_bindings/pending-call-impl.h: Fix reference counting

 _dbus_bindings/pending-call-impl.h |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 2c5f7716211f0157bf6a4fe93ea3df7f03c5f5e8
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 17:15:00 +0000

    _dbus_bindings/mainloop-impl.h: Fix compilation with debug enabled

 _dbus_bindings/mainloop-impl.h |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 114f98df9c1a6897b0030430550a23b3d5da0a83
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 17:02:02 +0000

    dbus.proxies: Alter calls to methods which have become public

 dbus/proxies.py |   16 +++++++---------
 1 file changed, 7 insertions(+), 9 deletions(-)

commit 535e860b648798aae2644b2b222f19990484be88
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 17:00:07 +0000

    setup.py: Add dbus.lowlevel

 setup.py |    1 +
 1 file changed, 1 insertion(+)

commit 4237e29b6f76e7dcfc1b34b984f9640e9a57fb7d
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 16:59:48 +0000

    dbus/__init__.py: Document existence of dbus.lowlevel

 dbus/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0586633996ed3d529588b1c429f2dd02ecb9bf5a
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 16:59:22 +0000

    _dbus_bindings/pending-call-impl.h: Make block() public and work around dbus_pending_call_set_notify() race

 _dbus_bindings/pending-call-impl.h |   75 ++++++++++++++++++++++++++++++------
 1 file changed, 64 insertions(+), 11 deletions(-)

commit 181ff34cbd75fdb0cdfe71628f22d7b5f4b34d7b
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 16:58:18 +0000

    dbus.lowlevel: Add module exposing lower-level classes for advanced users
    _dbus_bindings/message-impl.h: Indicate that Message classes' "official"
    	location is dbus.lowlevel

 _dbus_bindings/message-impl.h |   10 +++++-----
 dbus/lowlevel.py              |   27 +++++++++++++++++++++++++++
 2 files changed, 32 insertions(+), 5 deletions(-)

commit 79abbf3a2c3ddd67e8b655f597f74cca347c4a26
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 16:56:49 +0000

    Make send, etc. public, but rename to send_message etc.

 _dbus_bindings/conn-methods-impl.h |   85 +++++++++++++++++++++---------------
 1 file changed, 49 insertions(+), 36 deletions(-)

commit 7db487a5e4efcdaf6c8ff59dfa6f26c5042ee1e9
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 13:48:26 +0000

    Document the absence of dbus.mainloop.MainLoop in this release.
    Add get_object_by_unique_name to Bus objects.

 _dbus_bindings/mainloop-impl.h |   14 ++++++-----
 dbus/_dbus.py                  |   54 ++++++++++++++++++++++++++++++++++------
 dbus/proxies.py                |    3 +++
 3 files changed, 58 insertions(+), 13 deletions(-)

commit 69660ac1b650a2328f21dc2d9953700d1efe1e17
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:08:41 +0000

    API_CHANGES.txt: Document mainloop changes

 API_CHANGES.txt |   63 ++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 55 insertions(+), 8 deletions(-)

commit 77778920c41ddc3fe99771f4bd0f865e9550868c
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:08:08 +0000

    dbus/mainloop/__init__.py: Export glib submodule; improve docstrings

 dbus/mainloop/__init__.py |   41 +++++++++++++++++++++++++++++++++++------
 1 file changed, 35 insertions(+), 6 deletions(-)

commit c5e4c6f8d67ad4305ab7e2254de10a6320b9c305
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:07:16 +0000

    Emulate old bus_request_name, bus_release_name

 dbus/dbus_bindings.py |    4 ++++
 1 file changed, 4 insertions(+)

commit e54d3f2c370ebcdb07269b49081519017981bcdb
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:06:53 +0000

    dbus/service.py: Allow a Connection as parameter to Object constructor, to avoid having to have a well-known bus name

 dbus/service.py |   44 +++++++++++++++++++++++++++++++-------------
 1 file changed, 31 insertions(+), 13 deletions(-)

commit 6120021f3563f2df73fc35b2ded4ae30958a47da
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:05:55 +0000

    dbus/__init__.py: Export get_default_main_loop, set_default_main_loop and submodules service and mainloop

 dbus/__init__.py |    4 ++++
 1 file changed, 4 insertions(+)

commit 9c1b58183966ae8a622796ae3df4a5a699bfd5fc
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:05:17 +0000

    dbus/glib.py: Use new API to set main loop as default

 dbus/glib.py |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit f3a23de9e022e708b9884d36f65ab9ccaf634bee
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:04:48 +0000

    dbus/_dbus.py: Import get_default_main_loop, set_default_main_loop

 dbus/_dbus.py |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 605a8ec83eba854b319d94c9fee3467e52999005
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:04:06 +0000

    _dbus_glib_bindings/module.c: Support set_as_default keyword argument

 _dbus_glib_bindings/module.c |   50 +++++++++++++++++++++++++++++++++++++-----
 1 file changed, 44 insertions(+), 6 deletions(-)

commit 3aff827e8fe14a9fb9b1846e00c32f01afee40b2
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-30 11:03:19 +0000

    _dbus_bindings: Change default-main-loop API to use global functions
    get_default_main_loop, set_default_main_loop. Improve docstrings

 _dbus_bindings/bus-impl.h          |    5 +--
 _dbus_bindings/conn-impl.h         |   32 +++++++----------
 _dbus_bindings/conn-methods-impl.h |   56 -----------------------------
 _dbus_bindings/mainloop-impl.h     |   70 ++++++++++++++++++++++++++++++++++--
 _dbus_bindings/module.c            |   12 ++++---
 5 files changed, 91 insertions(+), 84 deletions(-)

commit 919cd3aeac6676b19246091a6ff762bb6e154773
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-24 13:00:13 +0000

    include/dbus_bindings.h: Put _dbus_bindings in a static variable when imported
    into e.g. _dbus_glib_bindings. Re-indent for consistency.

 include/dbus_bindings.h |   53 +++++++++++++++++++++++++----------------------
 1 file changed, 28 insertions(+), 25 deletions(-)

commit 16d460e5c4987d67a4db248c5fd1a69ca8b0ab23
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-24 12:58:39 +0000

    setup.py: Don't remove ChangeLog on clean.
    Yes, it's generated, but that just means it shouldn't be in the git repo; it
    should still appear in tarballs.

 setup.py |   12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

commit 894bafef2cae44d4b41845ed900cffe65dd63900
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-23 16:44:21 +0000

    _dbus_bindings/mainloop-impl.h: Add Watch and Timeout types
    _dbus_bindings/generic-impl.h: Add Glue_tp_hash_by_pointer and Glue_tp_richcompare_by_pointer to support the above

 _dbus_bindings/generic-impl.h  |   23 +++
 _dbus_bindings/mainloop-impl.h |  354 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 377 insertions(+)

commit aabf7935466aee3c8cc82f9c08a39017fcb603f8
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-23 16:43:05 +0000

    _dbus_bindings/conn-methods-impl.h: Correct docstring: there is no dbus.mainloop.base

 _dbus_bindings/conn-methods-impl.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4a51f14170ffa4750b459fa4250bd7ce89bfa801
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-22 18:27:27 +0000

    Bump version to 0.80pre2 (or internally 0.79.2)

 dbus/__init__.py |    4 ++--
 setup.py         |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 49c03f8525e321467eca862b186fa58ff2621f18
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-22 18:25:47 +0000

    MANIFEST.in: include MANIFEST.in itself

 MANIFEST.in |    1 +
 1 file changed, 1 insertion(+)

commit f064ecd77fb99506ea32c500e687a59ee68d9425
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-22 18:24:48 +0000

    Include top-level dbus_bindings.py (missed in previous commit)

 dbus_bindings.py |    5 +++++
 1 file changed, 5 insertions(+)

commit 5bcdc1378cceb0885fc2138e55259f15a83fa1ce
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-22 18:18:13 +0000

    Add short-term backwards compatibility with dbus_bindings (various programs try to catch dbus_bindings.DBusException)

 _dbus_bindings/dbus_bindings.py |   27 ---------------------------
 dbus/__init__.py                |    1 +
 dbus/_dbus.py                   |   34 ++++++++++++++++++++++++++++++++++
 dbus/dbus_bindings.py           |   22 ++++++++++++++++++++++
 setup.py                        |    2 ++
 5 files changed, 59 insertions(+), 27 deletions(-)

commit 08971243466ab63ea19a20a1c1f1fd0d98714541
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-22 17:34:56 +0000

    Remove _dbus_bindings/test.py (duplicates bits of test-standalone)

 _dbus_bindings/test.py |   30 ------------------------------
 1 file changed, 30 deletions(-)

commit 4a0902b38a50d34f28ce022fe0684aec8ce91718
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-22 17:33:59 +0000

    MANIFEST.in: pass through LC_ALL=C sort -k2

 MANIFEST.in |   13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit f2c08d18ac2645311e4c0d94da0b06b3754a6def
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-22 17:28:56 +0000

    Add improved main-loop integration.
    Currently only GLib (with the default main context) and a "null main loop"
    are supported, but a pure-Python main loop could be supported without
    incompatible API changes.

 _dbus_bindings/bus-impl.h          |   19 ++--
 _dbus_bindings/conn-impl.h         |   55 ++++++++----
 _dbus_bindings/conn-methods-impl.h |   56 ++++++++++++
 _dbus_bindings/mainloop-impl.h     |  175 ++++++++++++++++++++++++++++++++++++
 _dbus_bindings/module.c            |   22 ++++-
 _dbus_glib_bindings/module.c       |   65 +++++++++++++-
 dbus/__init__.py                   |    2 -
 dbus/_dbus.py                      |   74 ++++++++-------
 dbus/glib.py                       |   15 +---
 dbus/mainloop/__init__.py          |    7 ++
 dbus/mainloop/glib.py              |   32 +++++++
 dbus/proxies.py                    |    9 --
 include/dbus_bindings.h            |   44 +++++++--
 setup.py                           |    2 +
 14 files changed, 474 insertions(+), 103 deletions(-)

commit aad4ee9dfbe203e74bffb0ec93bdd180143e4cee
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-21 18:13:14 +0000

    _dbus_bindings/conn-impl.h: Check for errors, printing them if necessary, before releasing GIL

 _dbus_bindings/conn-impl.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit df744af92832a69dbdbe97014bee38f6271ca30a
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-16 14:34:21 +0000

    Bump version to 0.80~pre1 (but in __init__.py, write it as 0.79.1)

 dbus/__init__.py |    3 ++-
 setup.py         |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 9e682a1a6d60bc31b63552c240718a9b7583f1c7
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-16 14:25:27 +0000

    MANIFEST.in: remove README, which doesn't exist

 MANIFEST.in |    1 -
 1 file changed, 1 deletion(-)

commit 280061c0e03fb59f1eabf950fa4ab0716b4b7a39
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-15 19:26:56 +0000

    dbus._dbus, dbus.proxies: Raise RuntimeError when user tries to do async calls or receive signals without a main loop
    This makes the Connection base class useless, but should let people know
    that they need to use dbus.glib for async functionality. I do intend to
    replace the mainloop integration so GLib isn't the only option.

 dbus/_dbus.py   |   10 ++++++++++
 dbus/proxies.py |    9 +++++++++
 2 files changed, 19 insertions(+)

commit 48a87921075edbe3b94cdd1ddfef90b8f6e3a152
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-15 19:02:20 +0000

    HACKING.txt: fix typo

 HACKING.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 192d203341d584a3f6502d0c3fb45d26870e7698
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-15 16:31:23 +0000

    dbus._dbus, cross-test-server: fix signal calling convention support, and test it in cross-test-server

 dbus/_dbus.py             |    3 ++-
 test/cross-test-server.py |    7 +++++--
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 1974c56c89080df4d38eba8b5d251680b5c42131
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-15 16:04:38 +0000

    dbus._dbus, dbus.matchrules, dbus.proxies: Support utf8_strings and byte_arrays calling convention options to signal handlers. Handle arg matches containing "'" correctly

 dbus/_dbus.py      |   52 +++++++++++++++++++++++++++++++++++++++++++---------
 dbus/matchrules.py |   44 ++++++++++++++++++++++++++++++--------------
 dbus/proxies.py    |   18 ++++++++++++++++--
 3 files changed, 89 insertions(+), 25 deletions(-)

commit 069d09797e22cf6d70c82c9b39edb3a094dd1e83
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-15 15:51:28 +0000

    dbus._dbus: Whitespace

 dbus/_dbus.py |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit b02991564418e2136ac305669afa8457595fd397
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-15 15:44:09 +0000

    _dbus_bindings/bus-impl.h: Remove duplicate registration of name_has_owner method

 _dbus_bindings/bus-impl.h |    1 -
 1 file changed, 1 deletion(-)

commit d3aa18da0ee31f4c7c6e17b9d027237021402292
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-15 15:16:59 +0000

    Makefile: Produce warning about "development use only" for all targets. Set targets PHONY. Make docs depend on build, now the build is quicker

 Makefile |   18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 6008b37253f7a04b563b28a2aa9357de8cfd29d1
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 15:48:47 +0000

    - dbus.service.Object, dbus.decorators.method: Allow utf8_strings and
      byte_arrays parameters kwargs when exporting a
      method. These change the calling convention in the same way as
      Message.get_args_list().
    - dbus.proxies.ProxyMethod: allow the same kwargs to be passed to any proxy
      method; this time, they change the representation of the remote method's
      return value(s).
    - Test that the above work
    - Improve correctness of setting the NAME_FLAG_* flags
    - Whitespace tweaks (remove hard tabs)

 dbus/decorators.py        |   29 ++++++++++++++++++++++++++---
 dbus/proxies.py           |   13 +++++++++----
 dbus/service.py           |   14 +++++++-------
 test/cross-test-server.py |    2 +-
 test/test-client.py       |   12 +++++++++++-
 test/test-service.py      |   20 ++++++++++++++++++++
 6 files changed, 74 insertions(+), 16 deletions(-)

commit 21b10a103d91651d9ac55d2d22832a5df251f45e
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:31:43 +0000

    Test UTF8String as well as String

 test/cross-test-client.py |    1 +
 1 file changed, 1 insertion(+)

commit 7416bf25886650aec413eea2ca2c42b69f5a3537
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:30:19 +0000

    Update tests for the new variant API

 test/cross-test-client.py |  136 ++++++++++++++++++++++++++--------
 test/cross-test-server.py |    5 +-
 test/run-test.sh          |    4 +-
 test/test-client.py       |   15 ++--
 test/test-service.py      |    2 +-
 test/test-standalone.py   |  178 +++++++++++++++++++++++----------------------
 6 files changed, 210 insertions(+), 130 deletions(-)

commit 1761e5bd810ea45776e2d1c82193b73184ed3eda
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:29:13 +0000

    Update API_CHANGES.txt

 API_CHANGES.txt |   43 ++++++++++++++++++++-----------------------
 1 file changed, 20 insertions(+), 23 deletions(-)

commit 9997fd83b55e16d1c50fe04ce57951483f867982
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:28:36 +0000

    Makefile:
    - Clarify that this is only for d-p developers, not for packagers or
      end users.
    - Build with lots of warnings, and -Werror, but disable warning about partially
      uninitialized structs since this is conventional in Python (for source
      backwards compatibility).

 Makefile |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 1a4b9502f1d06e94fd5f90bfd85cf4d47b88c1fd
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:26:14 +0000

    setup.py: Import CFLAGS from environment (used by development Makefile for warning control)

 setup.py |    7 +++++++
 1 file changed, 7 insertions(+)

commit 4ce650d5c4ca5807c8eb4bc6f8074ff6eddab359
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:25:39 +0000

    Remove Variant from API, add UTF8String

 dbus/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf5550fdcbd02a55d18f17d2b79e692145dfad58
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:25:04 +0000

    Import the newly re-added types into dbus.types

 dbus/types.py |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit 0bd42c7cce423ce04def63217675b730228294af
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:24:37 +0000

    - Convert Message.get_args_list and Message.append to the new way of handling variants
    - Remove most of the options for get_args_list and just do the right thing

 _dbus_bindings/message-append-impl.h   |  261 ++++++++++-----
 _dbus_bindings/message-get-args-impl.h |  568 +++++++++++++++++++-------------
 2 files changed, 515 insertions(+), 314 deletions(-)

commit b2ba98067873acdc8f7989b63384fc1d37da49d1
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:20:10 +0000

    - Add variant_level to Array, Dict, Struct
    - Remove Variant type

 _dbus_bindings/containers-impl.h |  538 ++++++++++++++------------------------
 1 file changed, 194 insertions(+), 344 deletions(-)

commit 481428655794be4491cf7fd33f86b8e9e059a2d6
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:18:30 +0000

    - Remove special case for ObjectPaths when registering object paths - now that
      they have a __dict__, they can reference the Connection, which is bad
    - Accept Unicode object paths for deregistration
    - Correctly raise an exception on non-str, non-unicode arguments where an
      object-path is expected
    - Annotate unused arguments

 _dbus_bindings/conn-methods-impl.h |   35 ++++++++++++++++++++++-------------
 1 file changed, 22 insertions(+), 13 deletions(-)

commit 5c908374f838e7b88c6725c6b54308316d8ed798
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:15:51 +0000

    - Remove float types from types-impl.h.
    - Re-order.
    - Subclass DBusPythonInt, etc.
    - Add UTF8String and (unicode) String types

 _dbus_bindings/types-impl.h |  481 ++++++++++++++++++++++++++-----------------
 1 file changed, 291 insertions(+), 190 deletions(-)

commit 5bed478bed959ad477efac7da01ced0d0a76d6ed
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:12:47 +0000

    Make Signature a subclass of DBusPythonString

 _dbus_bindings/signature-impl.h |   22 ++++++++--------------
 1 file changed, 8 insertions(+), 14 deletions(-)

commit 23013477f373aae9569e05bf793dcb3ec92530fb
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:12:11 +0000

    - Add Double type (and Float type #if'd out, ready for Alp's 32-bit float type
      if/when it's added to libdbus)
    - Include "abstract" base classes and float types in module.c

 _dbus_bindings/floattypes-impl.h |  159 ++++++++++++++++++++++++++++++++++++++
 _dbus_bindings/module.c          |    8 +-
 2 files changed, 166 insertions(+), 1 deletion(-)

commit 3c5d7904ea641f2b4adcf1edb1165e1381119120
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:10:16 +0000

    - Make Byte a subclass of DBusPythonInt
    - Make ByteArray a subclass of DBusPythonString
    - Remove Byte_as_uchar, Byte_from_uchar, ByteArray_as_ucharptr,
      ByteArray_from_uchars helpers
    - Don't try to do clever things for Byte memory allocation

 _dbus_bindings/bytes-impl.h |  105 +++++++++++++------------------------------
 1 file changed, 31 insertions(+), 74 deletions(-)

commit 77c594008a1a4a655a94868c0028ef6fdec0b492
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:01:25 +0000

    Add abstract-impl.h: abstract base classes for D-Bus types that subclass int/float/long/str, with a variant_level attribute.

 _dbus_bindings/abstract-impl.h |  518 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 518 insertions(+)

commit ec4382fc301ddd60c4abfa0175e912880980de68
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 14:00:33 +0000

    Annotate UNUSED arguments

 _dbus_bindings/bus-impl.h          |    2 +-
 _dbus_bindings/message-impl.h      |   32 +++++++++++++++++---------------
 _dbus_bindings/pending-call-impl.h |    6 +++---
 _dbus_bindings/validation-impl.h   |    8 ++++----
 _dbus_glib_bindings/module.c       |   14 ++++++++++++--
 5 files changed, 37 insertions(+), 25 deletions(-)

commit 7e742ca5b5543ea290175f9351053f9ad6cfd492
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-14 13:58:02 +0000

    Add Glue_immutable_setattro, DEFINE_CHECK, UNUSED attribute. Remove generic repr() functions

 _dbus_bindings/generic-impl.h |   96 +++++++++--------------------------------
 1 file changed, 21 insertions(+), 75 deletions(-)

commit 3ab7a818a7a7a92a15de50ef848318ca61a6d2df
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-11-02 13:24:03 +0000

    Revert switch from Byte being an int subclass to a str subclass following discussion with J5.
    Switching Byte to be a single-character string is arguably more Pythonic, but
    needlessly breaks API.

 _dbus_bindings/bytes-impl.h            |  154 +++++----------------
 _dbus_bindings/generic-impl.h          |   20 +++
 _dbus_bindings/message-append-impl.h   |   16 ++-
 _dbus_bindings/message-get-args-impl.h |    6 +-
 _dbus_bindings/types-impl.h            |  235 +++++++++++++++++++++++++++++++-
 test/cross-test-client.py              |    4 +-
 test/cross-test-server.py              |    2 +-
 test/test-standalone.py                |    5 +-
 8 files changed, 313 insertions(+), 129 deletions(-)

commit 263e3ad1cf99e7cd115e7051ed1ea3f2cc35c587
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-10-05 17:37:07 +0100

    Seth was a Red Hat employee when contributing to dbus-python: alter copyright notices accordingly

 dbus/__init__.py          |    3 +--
 dbus/_dbus.py             |    3 +--
 dbus/decorators.py        |    3 +--
 dbus/introspect_parser.py |    3 +--
 dbus/matchrules.py        |    3 +--
 dbus/proxies.py           |    3 +--
 dbus/service.py           |    3 +--
 setup.py                  |    3 +--
 test/test-client.py       |    2 +-
 test/test-service.py      |    2 +-
 10 files changed, 10 insertions(+), 18 deletions(-)

commit da74c4cce7fee0dc4b5f0fa2144211f1bd0d9cdd
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-10-05 17:36:25 +0100

    test/test-standalone.py: Test API guarantee that integer types subclass int or long

 test/test-standalone.py |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 6a9cafc90a31cf1d396b8a492fc1d618ef03dc65
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-10-02 15:28:00 +0100

    test/cross-test-client.py: Add more workarounds for odd dbus-java behaviour. Compare InvertMapping results better.

 test/cross-test-client.py |   75 ++++++++++++++++++++++++++++++++-------------
 1 file changed, 54 insertions(+), 21 deletions(-)

commit df50fee665eb68d27394123ca79475bd37a0c528
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-10-02 15:26:42 +0100

    Produce debug output

 test/cross-test-server.py |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 3ad6bd460e0addc46cb503984e6d9cf2868111f5
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-10-02 15:26:17 +0100

    Use a temp variable to make crash debugging easier (although I now can't reproduce the crash...)

 _dbus_bindings/pending-call-impl.h |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 8801e3159d5a5a048eb30bd030ecb5dbd16610f9
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-29 20:47:09 +0100

    Make cross-test stricter by including extreme values for integers, etc.

 test/cross-test-client.py |   34 +++++++++++++++++++++++-----------
 1 file changed, 23 insertions(+), 11 deletions(-)

commit 52336a79a623dc2674ce22965eb6f0b010078b5e
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-29 20:46:13 +0100

    When trying to validate an int64 it helps if you put it in a 64-bit variable.

 _dbus_bindings/types-impl.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0590a83202f27a98b8bb898876339a9b02a60896
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-28 18:17:41 +0100

    test/cross-test-client.py, test/cross-test-server.py: Start to fix for interop with dbus-java:
    * Don't assume we have introspection data - only call methods with correctly
      typed parameters
    * Make InvertMapping check order-independent
    * Make signal test not fail if the Triggered signal is meant to come from /Test
    * Use logging rather than sys.stderr

 test/cross-test-client.py |  181 +++++++++++++++++++++++++++++++--------------
 test/cross-test-server.py |   28 ++++---
 2 files changed, 140 insertions(+), 69 deletions(-)

commit dd48a45dec3704ee459a418734485985e5fba205
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-28 16:03:11 +0100

    test/cross-test-client.py, test/cross-test-server.py: Output in the same format dbus-java does (the <> in the specification were not meant to be literal, apparently)

 test/cross-test-client.py |   18 +++++++++---------
 test/cross-test-server.py |    4 ++--
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 3d645c9743e630d5064566a3a35d1e2c35d76cc2
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-28 16:00:22 +0100

    dbus/_dbus.py, dbus/proxies.py: Amend docstrings for signal receiving

 dbus/_dbus.py   |   18 ++++++++++++------
 dbus/proxies.py |   13 +++++++++----
 2 files changed, 21 insertions(+), 10 deletions(-)

commit f9d2961b45a085dc5d8febf8b1ed0f9caa9558ec
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-28 15:59:17 +0100

    setup.py: Remove "import extract" (no longer exists)

 setup.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fcd45af4aa4fd81454f1c8a8fa7b8b5790f44b54
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 14:26:44 +0100

    Add copyright, AFL2.1, GPL2 notices, which might even be correct...
    
    The lists of copyright holders are derived from the D-Bus CVS changelog: I've
    erred on the side of adding people to the list rather than not.
    
    For now I've assumed that J5's contributions are owned by Red Hat, Collabora
    people's contributions (Rob McQueen, Rob Taylor, Ole Andre Ravnaas,
    myself) are owned by Collabora and everything else is owned by the author.

 dbus/__init__.py          |   24 ++++++++++++++++++++++++
 dbus/_dbus.py             |   24 ++++++++++++++++++++++++
 dbus/decorators.py        |   24 ++++++++++++++++++++++++
 dbus/glib.py              |   22 ++++++++++++++++++++++
 dbus/introspect_parser.py |   24 ++++++++++++++++++++++++
 dbus/matchrules.py        |   24 ++++++++++++++++++++++++
 dbus/proxies.py           |   24 ++++++++++++++++++++++++
 dbus/service.py           |   24 ++++++++++++++++++++++++
 setup.py                  |   25 +++++++++++++++++++++++++
 test/cross-test-client.py |   20 ++++++++++++++++++++
 test/cross-test-server.py |   20 ++++++++++++++++++++
 test/crosstest.py         |   20 ++++++++++++++++++++
 test/test-client.py       |   23 +++++++++++++++++++++++
 test/test-service.py      |   22 ++++++++++++++++++++++
 test/test-standalone.py   |   21 +++++++++++++++++++++
 15 files changed, 341 insertions(+)

commit 329dc1e985c5090bba889e8ac5543d47c6abb5e2
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 14:16:29 +0100

    Put AUTHORS in the right order

 AUTHORS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7aed1104ddafd10c708234189345c4696cc2759e
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 13:50:07 +0100

    dbus/extract.py: Remove (no longer used now we're not using Pyrex)

 dbus/extract.py |  245 -------------------------------------------------------
 1 file changed, 245 deletions(-)

commit b4d4ab76adabd4a8d0a14efa678c057f51d23431
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 13:30:49 +0100

    Extend and correct docstrings. Set epydoc to expect reStructuredText by default.

 Makefile                               |    2 +-
 _dbus_bindings/conn-methods-impl.h     |   40 +++++++++++++++++++++-----------
 _dbus_bindings/message-append-impl.h   |    8 +++----
 _dbus_bindings/message-get-args-impl.h |   38 +++++++++++++++---------------
 _dbus_bindings/validation-impl.h       |   33 ++++++++++++++++----------
 5 files changed, 71 insertions(+), 50 deletions(-)

commit 78a7b67f03f9267fd47ab3686f971d1190cadf1a
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 13:03:26 +0100

    Cast to PyCFunction to avoid compiler warning for function with kwargs

 _dbus_bindings/module.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 274b4601130abb67b5b7f68de38c71ee7a64d3fb
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 13:02:53 +0100

    Correct argument parsing in validate_bus_name

 _dbus_bindings/validation-impl.h |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b235e382198fc7599a2183a5b4cba10f650659bc
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 13:00:58 +0100

    setup.py: Remove _util from modules to install

 setup.py |    1 -
 1 file changed, 1 deletion(-)

commit cdc40aa20b52b4a8e9910e8fe48824205b4e7591
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 12:50:06 +0100

    _dbus_bindings: Expose name-validation functions to Python code.
    dbus: Remove _util module in favour of using the name-validation functions
    from _dbus_bindings.

 _dbus_bindings/module.c          |    9 ++++
 _dbus_bindings/validation-impl.h |   91 ++++++++++++++++++++++++++++++++++++++
 dbus/_util.py                    |   13 ------
 dbus/decorators.py               |    9 ++--
 4 files changed, 106 insertions(+), 16 deletions(-)

commit 9c7ee716288ffc80d1c931c84cc2b3242acf0b1e
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 12:47:55 +0100

    Minor docstring correction

 _dbus_bindings/types-impl.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c53d31fcc5b2f3a8e5578cae57e51db84a396fb
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 12:47:27 +0100

    _dbus_bindings/message-get-args-impl: Fix ByteArray unmarshalling.

 _dbus_bindings/message-get-args-impl.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit aa5cb1a66951705540a51645eb8efd3cbcf6788e
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 12:45:58 +0100

    dbus/_dbus.py: Now that Bus subclasses Connection, simplify signature of signal filter

 dbus/_dbus.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 747b2b9d37329796c4bf0bdaa1ca99e1d82d420d
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 11:55:46 +0100

    Add a test case for the various options to get_args_list.
    Fix ByteArray unmarshalling.

 test/test-standalone.py |  112 ++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 91 insertions(+), 21 deletions(-)

commit de8aeda1687948230bb97fa4083744087356e738
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 11:01:18 +0100

    .gitignore: Ignore MANIFEST, dist/

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit a7bcad2d2239e28bb32ef7cfe74105c514a32ee5
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 11:00:35 +0100

    _dbus_bindings/module.c: PEP7-style whitespace

 _dbus_bindings/module.c |   44 ++++++++++++++++++++++----------------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit 888110c46b864b613a3281e3d0bf76ed85b04b01
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 10:59:01 +0100

    _dbus_bindings/module.c: Add __docformat__, top-level docstring.
    Also don't abort() if adding constants to the module fails.

 _dbus_bindings/module.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 552b7b4c997ea44de86f68e79341ecf323b9ead5
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 10:44:25 +0100

    MANIFEST.in: Include added files, stop trying to include the Pyrex version

 MANIFEST.in |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 84be4d92f3f913f04941562ffb4cde5d21a63b37
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 10:43:21 +0100

    Makefile, setup.py: Stop forcing -O0 -g

 Makefile |    2 +-
 setup.py |    1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 78ce34da2c1cea65372b96505e21529d3896634f
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-27 10:38:44 +0100

    Remove the Pyrex implementation of dbus_bindings and dbus_glib_bindings

 dbus/_dbus_bindings-exceptions.pxi |   10 -
 dbus/_dbus_bindings-types.pxi      |  174 ----
 dbus/_dbus_bindings.pxd.in         |    8 -
 dbus/_dbus_bindings.pyx            | 1820 ------------------------------------
 dbus/_dbus_glib_bindings.pyx       |   17 -
 dbus/dbus_h_wrapper.h              |    3 -
 6 files changed, 2032 deletions(-)

commit 97d01a1d540e5ec31b752c31ad9f2b794eddf472
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-26 20:50:58 +0100

    Throughout dbus-python: Use the C implementation.
    Add document API_CHANGES.txt listing visible API changes.
    Add more test cases, for low-level Python <-> D-Bus type mappings.
    Amend existing test cases to cope with the API changes.

 API_CHANGES.txt           |   84 ++++++++++++++++++++++++++++++
 dbus/_dbus.py             |   56 +++++---------------
 dbus/decorators.py        |   13 ++---
 dbus/exceptions.py        |    3 +-
 dbus/proxies.py           |   90 ++++++++++++++++++++------------
 dbus/service.py           |   82 +++++++++++++++--------------
 dbus/types.py             |   26 +++-------
 setup.py                  |   25 +++------
 test/cross-test-client.py |   55 ++++++++++----------
 test/cross-test-server.py |   11 +++-
 test/run-test.sh          |    3 +-
 test/test-client.py       |   33 +++++++-----
 test/test-service.py      |   16 ++++--
 test/test-standalone.py   |  126 +++++++++++++++++++++++++++++++++++++++++++++
 14 files changed, 413 insertions(+), 210 deletions(-)

commit e0552c3d9cfe22e9ea1b3c2874dc4f79d6948b21
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-26 20:48:55 +0100

    _dbus_bindings: Correct get_args -> get_args_list change

 _dbus_bindings/message-get-args-impl.h |    2 +-
 _dbus_bindings/message-impl.h          |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 030e4fe368e976cb20d223d45ae787c12686b3f4
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-26 19:30:58 +0100

    _dbus_bindings/message-get-args-impl.h: Revert gratuitous API change
    Message has a method get_args_list() returning a list again, rather than
    a method get_args() returning a tuple.

 _dbus_bindings/message-get-args-impl.h |   16 +++++++---------
 1 file changed, 7 insertions(+), 9 deletions(-)

commit 24eb072bd8aabbc4d0f916b981e2283be0848e97
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-26 19:27:24 +0100

    dbus/matchrules.py: Use absolute import

 dbus/matchrules.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 97900c452754b832d0817edc03f3e00fe888d24a
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-26 18:53:55 +0100

    Add a C reimplementation of the formerly-Pyrex bits of dbus-python.

 HACKING.txt                            |   35 ++
 _dbus_bindings/bus-impl.h              |  415 +++++++++++++
 _dbus_bindings/bytes-impl.h            |  420 +++++++++++++
 _dbus_bindings/conn-impl.h             |  551 +++++++++++++++++
 _dbus_bindings/conn-methods-impl.h     |  653 ++++++++++++++++++++
 _dbus_bindings/containers-impl.h       |  743 ++++++++++++++++++++++
 _dbus_bindings/dbus_bindings.py        |   27 +
 _dbus_bindings/debug-impl.h            |   49 ++
 _dbus_bindings/exceptions-impl.h       |   71 +++
 _dbus_bindings/generic-impl.h          |  108 ++++
 _dbus_bindings/message-append-impl.h   |  863 ++++++++++++++++++++++++++
 _dbus_bindings/message-get-args-impl.h |  403 ++++++++++++
 _dbus_bindings/message-impl.h          | 1064 ++++++++++++++++++++++++++++++++
 _dbus_bindings/module.c                |  139 +++++
 _dbus_bindings/pending-call-impl.h     |  230 +++++++
 _dbus_bindings/signature-impl.h        |  238 +++++++
 _dbus_bindings/test.py                 |   30 +
 _dbus_bindings/types-impl.h            |  635 +++++++++++++++++++
 _dbus_bindings/validation-impl.h       |  241 ++++++++
 _dbus_glib_bindings/module.c           |   74 +++
 include/dbus_bindings.h                |   64 ++
 21 files changed, 7053 insertions(+)

commit 0a189b73baa8e7b1d1d7743534b635fabe1aaf80
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-26 18:43:04 +0100

    Add Makefile rule to do a clean build (setup.py doesn't track .h dependencies properly) and make it the default

 Makefile |    4 ++++
 1 file changed, 4 insertions(+)

commit d1e74259da30f732ebf58057188478367b492840
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-26 18:42:16 +0100

    Add self to AUTHORS

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 3b1b6ec26d55e08c4a9fbed12714913974f8e0c3
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-08 18:10:06 +0100

    dbus/service.py, dbus/_dbus_bindings-types.pxi: Move VariantSignature
    As it's only used in dbus.service, there is no reason for VariantSignature
    to be written in Pyrex.

 dbus/_dbus_bindings-types.pxi |   14 --------------
 dbus/service.py               |   18 ++++++++++++++++--
 2 files changed, 16 insertions(+), 16 deletions(-)

commit 6e0e797a2c354d1cdd2e940ec2ab25614ac49f6f
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-08 18:08:27 +0100

    dbus/_dbus_bindings.pyx: More docstrings

 dbus/_dbus_bindings.pyx |   20 +++++++++++++++++---
 1 file changed, 17 insertions(+), 3 deletions(-)

commit 82c249159bbbfa1ad1d77d26b8e3a2f0615a80ee
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-08 18:08:04 +0100

    dbus/proxies.py: Set __docformat__ to 'restructuredtext' for epydoc

 dbus/proxies.py |    3 +++
 1 file changed, 3 insertions(+)

commit 3f77ab99f21400fbea5642affff2e8bc0c8faf28
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-08 18:07:23 +0100

    dbus/_dbus.py: More docstrings

 dbus/_dbus.py |   30 ++++++++++++++++++++++++++++--
 1 file changed, 28 insertions(+), 2 deletions(-)

commit d65d0b6654b19522e250a6a4a361f06fa1ccd2d2
Author: Simon McVittie <smcv@celebrin.pseudorandom.co.uk>
Date:   2006-09-07 13:21:48 +0100

    _dbus_bindings: split out types, exceptions into separate source files

 dbus/_dbus_bindings-exceptions.pxi |   10 ++
 dbus/_dbus_bindings-types.pxi      |  188 +++++++++++++++++++++++++++++++++++
 dbus/_dbus_bindings.pyx            |  191 +-----------------------------------
 3 files changed, 200 insertions(+), 189 deletions(-)

commit 346e0f0f332f5e112726536c434535a40072f356
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-06 13:42:13 +0100

    Add a fairly simplistic implementation of the D-Bus bindings test suite.
    Currently only tested with Python <-> Python, and some of the Byte tests fail
    until I get an opinion from the list on whether the API should be in terms
    of strings-of-length-1, ints, or both.

 Makefile                  |   20 +++-
 test/cross-test-client.py |  185 +++++++++++++++++++++++++++++
 test/cross-test-server.py |  281 +++++++++++++++++++++++++++++++++++++++++++++
 test/crosstest.py         |   22 ++++
 4 files changed, 506 insertions(+), 2 deletions(-)

commit dc7cea8740b53c7a7061a2392cdc7ec775dd3734
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-06 13:30:13 +0100

    _dbus_bindings.pyx: Documentation
    * Add more docstrings and note methods which I don't think should be public.
    * When append_byte() fails, raise a more informative TypeError

 dbus/_dbus_bindings.pyx |   64 +++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 62 insertions(+), 2 deletions(-)

commit e37b430efed0dcfa5ff6196046e0b4302b79662a
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-06 13:26:58 +0100

    dbus/_dbus.py: Add exceptions to __all__ so they'll be imported into __init__

 dbus/_dbus.py |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 99bd2cf0aad0f26cc41459be2c89256f226832f0
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-06 13:26:24 +0100

    dbus/__init__.py: Annotate __all__ with where the objects come from

 dbus/__init__.py |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit c0574acbc663094fbb722cd6bdc97b02e7111100
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-01 16:24:46 +0100

    _dbus_bindings.pyx: Spell "negative" correctly

 dbus/_dbus_bindings.pyx |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cf1599248d81b848016672cc129a714095f5f11e
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-01 16:22:57 +0100

    test/test-client.py: Rename dbus.dbus_bindings to _dbus_bindings in test too

 test/test-client.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9c4ad587bb237921ff49ac78581eb66a863e6105
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-01 16:21:55 +0100

    .gitignore: Add files generated during test

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit fc2c0c457100003c4b2c85d6202d75e796b89454
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-01 16:14:21 +0100

    _dbus_bindings.pyx: Remove no-op constructor overrides which just use superclass

 dbus/_dbus_bindings.pyx |   26 ++++----------------------
 1 file changed, 4 insertions(+), 22 deletions(-)

commit 188e54fd97c48d9183a16cc2373de62a60f36a39
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-01 15:56:16 +0100

    .gitignore: Amend for renaming of dbus_bindings

 .gitignore |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 10186487194e31889f0a255f7986577b169220ac
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-09-01 15:54:47 +0100

    dbus._dbus, _dbus_bindings, dbus.proxies: Add docstrings

 dbus/_dbus.py           |  152 +++++++++++++++++++++++++++++++++++++++++++----
 dbus/_dbus_bindings.pyx |  110 ++++++++++++++++++++++++++++++++--
 dbus/proxies.py         |   39 ++++++++++++
 3 files changed, 287 insertions(+), 14 deletions(-)

commit 867c2dd9318c8cbaf810d23d5f2a332d091007d9
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-08-31 18:14:40 +0100

    Makefile: add. Makefile for developer convenience, currently does API documentation using epydoc

 Makefile |    9 +++++++++
 1 file changed, 9 insertions(+)

commit bb8600d38b16999d08950a03473f03d8705394bf
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-08-31 18:13:39 +0100

    dbus._dbus: add __all__

 dbus/_dbus.py |    1 +
 1 file changed, 1 insertion(+)

commit 5098824725bc8984e4a84f2bede278648941960d
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-08-31 18:13:07 +0100

    dbus.types: add __all__

 dbus/types.py |    4 ++++
 1 file changed, 4 insertions(+)

commit 656bb219b37ac18ad9bc953ac9a2fb2b5fa6234d
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-08-31 18:09:23 +0100

    dbus/__init__.py: Add __all__ (listing a sensible set of public API), __docformat__, __version__

 dbus/__init__.py |   19 ++++++++++++++++---
 1 file changed, 16 insertions(+), 3 deletions(-)

commit aac6f58ae96faab86e6080702d2dac2bd3a69d66
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-08-31 18:05:57 +0100

    Rename dbus_bindings (sometimes a.k.a. dbus.dbus_bindings) to _dbus_bindings.
    Ditto for dbus_glib_bindings.
    Remove dbus.pth - should no longer be needed after this change.

 dbus/_dbus.py                |   24 +-
 dbus/_dbus_bindings.pxd.in   |    8 +
 dbus/_dbus_bindings.pyx      | 1849 ++++++++++++++++++++++++++++++++++++++++++
 dbus/_dbus_glib_bindings.pyx |   17 +
 dbus/dbus.pth                |    1 -
 dbus/dbus_bindings.pxd.in    |    8 -
 dbus/dbus_bindings.pyx       | 1849 ------------------------------------------
 dbus/dbus_glib_bindings.pyx  |   17 -
 dbus/decorators.py           |   35 +-
 dbus/exceptions.py           |    6 +-
 dbus/glib.py                 |    6 +-
 dbus/matchrules.py           |    2 +-
 dbus/proxies.py              |    8 +-
 dbus/service.py              |   38 +-
 dbus/types.py                |   36 +-
 setup.py                     |   14 +-
 16 files changed, 1971 insertions(+), 1947 deletions(-)

commit c51b148077479381844a84989292719417c543b2
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-08-30 20:15:07 +0100

    Add some docstrings (reStructuredText with epydoc annotations)

 dbus/__init__.py   |    9 ++++++++
 dbus/_dbus.py      |   35 ++++++++++++++--------------
 dbus/decorators.py |   44 ++++++++++++++++++++++++++++++++++++
 dbus/exceptions.py |    7 ++++++
 dbus/service.py    |   64 +++++++++++++++++++++++++++++++++++++++++++++++++---
 5 files changed, 139 insertions(+), 20 deletions(-)

commit 00435b5adc76a745e17b13386d15a2a1d6b2bb16
Author: Simon McVittie <smcv@celebrin.(none)>
Date:   2006-08-30 20:12:08 +0100

    .gitignore: Add. Ignore distutils build dir, Python bytecode, Vim swapfiles, and generated ChangeLog, .pxd and .c files.

 .gitignore |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 1b1d5b77a841e68043fd1f27900b7b97b4610b33
Author: John (J5) Palmieri <johnp@remedyz.boston.redhat.com>
Date:   2006-07-27 14:00:14 -0400

    * dbus/BusName.py (BusName::__new__): Modified patch from Alex Jones
      <alex at weej dot com> - Add flags when requesting a name

 dbus/service.py |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit eae6cd4e466d9d6dd477cf0bb5ef2b183f4c69f9
Author: John (J5) Palmieri <johnp@remedyz.boston.redhat.com>
Date:   2006-07-27 13:57:56 -0400

    * setup.py: read the stdout pipe before stderr

 setup.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f5258f571de77b18354e17073d44f316d1e0af1b
Author: John (J5) Palmieri <johnp@remedyz.boston.redhat.com>
Date:   2006-07-27 12:40:36 -0400

    * setup.py: some distros have older gits which don't have the git-log --stat
      flag.  We check for an error and if so revert to just calling git-log

 setup.py |   20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit 49948f1f9554b4431d668992b4953ff09962149f
Author: John (J5) Palmieri <johnp@remedyz.boston.redhat.com>
Date:   2006-07-24 14:34:51 -0400

    * Released 0.71

 NEWS     |    7 ++++++-
 setup.py |    2 +-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 29b7548ddf4400a20636ae558c1834ad523c33da
Author: John (J5) Palmieri <johnp@remedyz.boston.redhat.com>
Date:   2006-07-24 14:05:26 -0400

    * Patch from Joseph Sacco <joseph_sacco [at] comcast [dot] net>:
      Export the correct cflags in distutils

 setup.py         |   25 +++++++++++++++++++++++++
 test/run-test.sh |    1 -
 2 files changed, 25 insertions(+), 1 deletion(-)

commit 5f76b5a3eec271192e9657213c6693121c3d8df9
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-07-21 17:17:46 -0400

    * fix import of dbus_bindings

 test/test-client.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 163206f228efad53051677a08d3813fcc5d0ab97
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-07-21 16:42:54 -0400

    * Automate building of ChangeLog

 setup.py |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit f262d88279991faba06578dde48d0c607ce4b0b8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-07-21 16:27:59 -0400

    * fixed where the binary modules are installed into

 setup.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7d73bb0ea7631ce1191de1cd6fbbcb07fe215f31
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-07-17 16:58:42 -0400

    * Released 0.70
    * Added NEWS to the dist

 MANIFEST.in |    2 ++
 NEWS        |    6 ++++++
 2 files changed, 8 insertions(+)

commit 8728a13fa422955aa96bf2d8644af773407dbe65
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-07-17 16:43:42 -0400

    * remove ChangeLog as it will be generated by git-whatchanged

 0 files changed

commit caaabe86ac7a91c84d022c5806e67a42617fa566
Author: John (J5) Palmieri <quinticent@phuket.(none)>
Date:   2006-07-14 12:52:53 -0400

    * Add Osvaldo S. Neto to AUTHORS for his distutils patch

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 4b1d99c3fbf0d402cb7badbcb8e6ea682f7e54c6
Author: John (J5) Palmieri <quinticent@phuket.(none)>
Date:   2006-07-12 21:40:13 -0400

    * MANIFEST.in:
      added the tools directory

 MANIFEST.in |    1 +
 1 file changed, 1 insertion(+)

commit 9c70ef78b9368b5fd090dd3aafb3f189cc88616d
Author: John (J5) Palmieri <quinticent@phuket.(none)>
Date:   2006-07-12 21:32:57 -0400

    * run-test.sh:
      create the .service file before we launch dbus

 test/run-test.sh |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit 7a0389c01ac8c775b7b677bcc20cc0da716b1c19
Author: John (J5) Palmieri <quinticent@phuket.(none)>
Date:   2006-07-12 21:28:39 -0400

    * Add tests back
    * create a check command for distutils (python setup.py check)

 MANIFEST.in                       |    2 +-
 setup.py                          |   29 ++--
 test/dbus_python_check.py         |   48 ++++++
 test/run-test.sh                  |   39 +++++
 test/test-client.py               |  307 +++++++++++++++++++++++++++++++++++++
 test/test-service.py              |  142 +++++++++++++++++
 tools/run-with-tmp-session-bus.sh |   65 ++++++++
 tools/session.conf                |   24 +++
 8 files changed, 642 insertions(+), 14 deletions(-)

commit 303a9d690767dd40e75940f9e3c4e1d1fa504554
Author: John (J5) Palmieri <quinticent@phuket.(none)>
Date:   2006-07-12 18:11:07 -0400

    * MANIFEST.in: Added
    * setup.py: change package name to dbus-python

 MANIFEST.in |   11 +++++++++++
 setup.py    |    2 +-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit c72e8df76cda925d0bac0e99af94a4d3760e74b1
Author: John (J5) Palmieri <quinticent@phuket.(none)>
Date:   2006-07-12 17:34:58 -0400

    * dbus/dbus_glib_bindings.pyx: Prepend includes dbus-glib.h and
      dbus-glib-lowlevel withd dbus/ since we are no longer building in tree and
      need to get the system's header files

 dbus/dbus_glib_bindings.pyx |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 98bdb18235a405339041596c571f213ea5fa3c24
Author: John (J5) Palmieri <quinticent@phuket.(none)>
Date:   2006-07-12 17:29:04 -0400

    - s/dbus/-Idbus\// in includedirs_flag

 setup.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 82a4e8afb8ca163416f602fdb1df96b11765ecb2
Author: Robert McQueen <robot101@thubuntu.(none)>
Date:   2006-07-12 21:53:57 +0100

    setup.py, dbus/extract.py: Patch from Osvaldo Santana Neto
    <osvaldo.santana@indt.org.br> to make the python bindings build and install
    with distutils. Not quite working yet because of path madness with the
    extract.py stuff.

 dbus/extract.py |   49 +++++++++++++++----------
 setup.py        |  108 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 138 insertions(+), 19 deletions(-)

commit 172f80244f21a681609e6918c1f043b3272949f3
Author: Robert McQueen <robot101@thubuntu.(none)>
Date:   2006-07-12 19:40:37 +0100

    dbus/__init__.py: Set version to 0.70.

 dbus/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb63da94f9e207e807f7f0ae18425d3b73173d43
Author: Robert McQueen <robot101@thubuntu.(none)>
Date:   2006-07-12 19:28:30 +0100

    dbus/Makefile.am, dbus/examples/Makefile.am: removed

 dbus/Makefile.am          |   56 ---------------------------------------------
 dbus/examples/Makefile.am |   13 -----------
 2 files changed, 69 deletions(-)

commit cc9eb8989a5782f62f8ca786d76e1267e48ec8bf
Author: Robert McQueen <robot101@thubuntu.(none)>
Date:   2006-07-12 19:26:39 +0100

    Move python/ to dbus/, the name of the module.

 dbus/.cvsignore                             |   10 +
 dbus/Makefile.am                            |   56 +
 dbus/__init__.py                            |    5 +
 dbus/_dbus.py                               |  308 +++++
 dbus/_util.py                               |   13 +
 dbus/dbus.pth                               |    1 +
 dbus/dbus_bindings.pxd.in                   |    8 +
 dbus/dbus_bindings.pyx                      | 1849 +++++++++++++++++++++++++++
 dbus/dbus_glib_bindings.pyx                 |   17 +
 dbus/dbus_h_wrapper.h                       |    3 +
 dbus/decorators.py                          |   83 ++
 dbus/examples/.cvsignore                    |    2 +
 dbus/examples/Makefile.am                   |   13 +
 dbus/examples/example-client.py             |   22 +
 dbus/examples/example-service.py            |   30 +
 dbus/examples/example-signal-emitter.py     |   29 +
 dbus/examples/example-signal-recipient.py   |   54 +
 dbus/examples/gconf-proxy-client.py         |   13 +
 dbus/examples/gconf-proxy-service.py        |   43 +
 dbus/examples/gconf-proxy-service2.py       |   39 +
 dbus/examples/list-system-services.py       |   22 +
 dbus/exceptions.py                          |   29 +
 dbus/extract.py                             |  234 ++++
 dbus/glib.py                                |   17 +
 dbus/introspect_parser.py                   |   51 +
 dbus/matchrules.py                          |  232 ++++
 dbus/proxies.py                             |  222 ++++
 dbus/service.py                             |  370 ++++++
 dbus/types.py                               |   19 +
 python/.cvsignore                           |   10 -
 python/Makefile.am                          |   56 -
 python/__init__.py                          |    5 -
 python/_dbus.py                             |  308 -----
 python/_util.py                             |   13 -
 python/dbus.pth                             |    1 -
 python/dbus_bindings.pxd.in                 |    8 -
 python/dbus_bindings.pyx                    | 1849 ---------------------------
 python/dbus_glib_bindings.pyx               |   17 -
 python/dbus_h_wrapper.h                     |    3 -
 python/decorators.py                        |   83 --
 python/examples/.cvsignore                  |    2 -
 python/examples/Makefile.am                 |   13 -
 python/examples/example-client.py           |   22 -
 python/examples/example-service.py          |   30 -
 python/examples/example-signal-emitter.py   |   29 -
 python/examples/example-signal-recipient.py |   54 -
 python/examples/gconf-proxy-client.py       |   13 -
 python/examples/gconf-proxy-service.py      |   43 -
 python/examples/gconf-proxy-service2.py     |   39 -
 python/examples/list-system-services.py     |   22 -
 python/exceptions.py                        |   29 -
 python/extract.py                           |  234 ----
 python/glib.py                              |   17 -
 python/introspect_parser.py                 |   51 -
 python/matchrules.py                        |  232 ----
 python/proxies.py                           |  222 ----
 python/service.py                           |  370 ------
 python/types.py                             |   19 -
 58 files changed, 3794 insertions(+), 3794 deletions(-)

commit 260a7da603a0449a117690a9cc46c7d171ec1112
Author: Robert McQueen <robot101@thubuntu.(none)>
Date:   2006-07-12 19:25:47 +0100

    COPYING: Have the file with its contents and not a file full of NULLs (thanks XFS)

 COPYING |  Bin 29056 -> 29056 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 85ef4b2f21a67fa6f8ebb7977fc62a69208d86fe
Author: Robert McQueen <robot101@thubuntu.(none)>
Date:   2006-07-12 19:24:09 +0100

    AUTHORS, COPYING: Copy from old tree.

 AUTHORS |   16 ++++++++++++++++
 COPYING |  Bin 0 -> 29056 bytes
 2 files changed, 16 insertions(+)

commit 7d136b1b7749b9d52703f00f546524a8967aeebc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-03-02 23:28:18 +0000

    2006-03-02 John (J5) Palmieri <johnp@redhat.com>
    
            * python/dbus_bindings.pyx: Remove refrence to sys/cdefs.h
    	(Patch from Artem Kachitchkine <Artem.Kachitchkin at Sun.COM>)

 python/dbus_bindings.pyx |    3 ---
 1 file changed, 3 deletions(-)

commit 6387ac0ee38cbc2c613f1ec6b481693451e6a1d6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-02-24 18:18:41 +0000

    2006-02-24 John (J5) Palmieri <johnp@redhat.com>
    
    	* Released 0.61
    
    2006-02-24  John (J5) Palmieri  <johnp@redhat.com>
    
    	* proxies.py: Fix the callchain

 python/proxies.py |   96 +++++++++++++++++++++++++----------------------------
 1 file changed, 45 insertions(+), 51 deletions(-)

commit 7ce7ad66afac2b35ddab72190d31c8470a2e4d2d
Author: Robert McQueen <robot101@debian.org>
Date:   2006-02-15 23:45:48 +0000

    2006-02-16 Robert McQueen <robot101@debian.org>
    
    	* glib/dbus-gmain.c: Make the previous commit compile.
    
    	* python/_dbus.py, python/matchrules.py: Patch from Ole Andre
    	Ravnaas <ole.andre.ravnaas@collabora.co.uk> to allow you to
    	specify sender_keyword="foo", path_keyword="bar" when adding
    	a signal listener, so that you can bind to signals generically
    	but still do something useful in your callback.
    
    	* python/dbus_bindings.pyx: Demarshal the byte type as unsigned
    	chars so that they're not cast to chars and made negative. Thanks
    	to Jakub Stachowski for reporting this and testing the fix.

 python/_dbus.py          |    8 ++++++++
 python/dbus_bindings.pyx |    6 +++---
 python/matchrules.py     |   17 +++++++++++++----
 3 files changed, 24 insertions(+), 7 deletions(-)

commit 62f127585556aeb828c0114225859bddc8d08aa3
Author: Robert McQueen <robot101@debian.org>
Date:   2005-12-06 12:38:07 +0000

    2005-12-06 Robert McQueen <robot101@debian.org>
    
    	* python/service.py: s/sucessful/successful/ so we're allocating to
    	and reading from the same variable. Oops.

 python/service.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e48f4d56533ef815d05e05b31128e53640bd7ded
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-27 17:44:19 +0000

    2005-11-27 Robert McQueen <robot101@debian.org>
    
    	* python/dbus_bindings.pyx: Repair my previous commit which reverted
    	part of the preceding one. Oops. Merge patch by Johan Hedberg
    	<johan.hedberg@nokia.com> to fix marshalling of 16-bit integer values
    	on big-endian platforms.
    
    	* test/python/test-client.py: Add some 16-bit integers to the test
    	values.

 python/dbus_bindings.pyx |   22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit b5df8fdfae7b488156cef4ccc536523bfb892895
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-27 16:55:09 +0000

    2005-11-27 Carlos Garcia Campos <carlosgc@gnome.org>
    
    	* glib/dbus-gobject.c: Append a GValue instead of a basic type in
    	method return message for property getters

 python/dbus_bindings.pyx |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit e9046cf6eabcc6e9f86e6dc8cb73a0b28ccc3347
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-27 16:40:57 +0000

    2005-11-27 Robert McQueen <robot101@debian.org>
    
    	* python/dbus_bindings.pyx: Fix a bug where doing a strict append
    	with type v of an instance of dbus.Variant(foo, type='x') caused
    	it to be boxed twice before sending over the bus.
    
    	* python/dbus_bindings.pyx, python/service.py,
    	test/python/test-client.py: Update the constants for the new
    	request_name flags, and update comments/test cases now that queueing
    	is the default action.

 python/dbus_bindings.pyx |    8 ++++++--
 python/service.py        |    5 +++--
 2 files changed, 9 insertions(+), 4 deletions(-)

commit c38a568a59493a798164c2449f7774586fd236f3
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-15 17:19:19 +0000

    2005-11-15 Robert McQueen <robot101@debian.org>
    
    	* bus/driver.c, bus/services.c, bus/services.h: Add a ReleaseName
    	method to org.freedesktop.DBus to release a bus name or give up
    	waiting in the queue for it.
    
    	* dbus/dbus-bus.c, dbus/dbus-bus.h, dbus/dbus-shared.h: Add a
    	dbus_bus_release_name method to send the ReleaseName method calls.
    	Add constants for the return values to dbus/dbus-shared.h.
    
    	* doc/dbus-specification.xml: Document the new ReleaseName method
    	in the specification.
    
    	* python/dbus_bindings.pyx: Add a low-level python binding for the
    	release name method.
    
    	* python/exceptions.py, python/service.py: Make freeing BusName
    	objects release the name. Add a NameExistsException, and fix a
    	bug with creating UnknownMethodException.
    
    	* test/python/test-client.py: Add tests for freeing BusName
    	objects causing names to be released.

 python/dbus_bindings.pyx |   33 +++++++++++++++++++++++++++------
 python/exceptions.py     |   10 +++++++---
 python/service.py        |   11 +++++------
 3 files changed, 39 insertions(+), 15 deletions(-)

commit e6351798aca627adba6e3dad43a605482b63a43e
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-14 20:59:32 +0000

    2005-11-15 Robert McQueen <robot101@debian.org>
    
    	* python/service.py: Include the traceback in the error reply when we
    	send an exception over the bus. _BEST_ _PATCH_ _EVER_

 python/service.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 321ace3a0cf031e638bba1d753818ac068672dee
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-14 02:53:29 +0000

    2005-11-14 Robert McQueen <robot101@debian.org>
    
    	* python/decorators.py, python/service.py: Add a new argument to the
    	dbus.service.method decorator called sender_keyword, which if set,
    	specifies the name of an argument which will be provided the bus
    	name of the method caller.
    
    	* test/python/test-client.py, test/python/test-service.py: Add a
    	method and test to check the sender_keyword functionality.

 python/decorators.py |    6 +++++-
 python/service.py    |    4 ++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit cb37041d6ffeab9e7623dd7c51acc64cbaa7534d
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-07 15:31:30 +0000

    2005-11-07 Robert McQueen <robot101@debian.org>
    
    	* python/decorators.py: Change emit_signal function to use the
    	signature annotation of the signal when marhsalling the arguments from
    	the service. Fix a bug where the code checking signature length
    	against argument length referenced the wrong variable.
    
    	* python/introspect_parser.py: Avoid adding the type signature of
    	signal arguments to any methods which occur after them in the
    	introspection data (!) by making the parser a little more careful
    	about its current state.
    
    	* python/service.py: Remove debug prints from last commit (again :D).
    
    	* test/python/test-client.py, test/python/test-service.py: Add test
    	signals with signature decorators to test the strict marshalling code
    	gives errors at the right time. Could do with checking the signals
    	actually get emitted too, given that the test does nothing with
    	signals at the moment...

 python/decorators.py        |   17 +++++++++++------
 python/introspect_parser.py |   27 ++++++++++++++-------------
 python/service.py           |    4 +---
 3 files changed, 26 insertions(+), 22 deletions(-)

commit 792849028648dfc9fd0513c855b0ea9001a9ea04
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-07 12:14:52 +0000

    2005-11-07 Robert McQueen <robot101@debian.org>
    
    	* python/_dbus.py: Add WeakReferenceDictionary cache of dbus.Bus
    	instances to stop madness of creating new instances representing
    	the same bus connection all the time, rendering any tracking of
    	match rules and bus names quite meaningless. Caught a bug where
    	the private argument to SessionBus() and friends was being passed
    	in as use_default_mainloop by mistake. Still some problems with
    	multiple dbus_binding.Connection instances representing the same
    	low-level connection (eg when you use both SessionBus() and
    	StarterBus() in same process), but it's a lot better now than it
    	was.
    
    	* python/dbus_bindings.pyx: Add constants with the return values
    	for bus_request_name().
    
    	* python/service.py: Store bus name instances in a per-dbus.Bus cache
    	and retrieve the same instances for the same name, so deletion can be
    	done with refcounting. Also now throws some kind of error if you
    	don't actually get the name you requested, unlike previously...
    
    	* test/python/test-client.py: Add tests for instance caching of buses
    	and bus name objects.

 python/_dbus.py          |   75 +++++++++++++++++++++++++++++++++-------------
 python/dbus_bindings.pyx |    9 ++++--
 python/service.py        |   62 +++++++++++++++++++++++++++++++-------
 3 files changed, 114 insertions(+), 32 deletions(-)

commit c6d4440b37c43681a4ecf11edfa5a4b0371734ea
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-04 12:17:54 +0000

    2005-11-04 Robert McQueen <robot101@debian.org>
    
            * python/dbus_bindings.pyx, test/python/test-client.py: Fix
            marshalling of boolean values. Add some booleans to the values in
            the test client.
    
            * python/decorators.py, python/service.py: Add an 'async_callbacks'
            argument to the dbus.service.method decorator, which allows you to
            name arguments to take two callback functions for replying with
            return values or an exception.
    
            * test/python/test-client.py, test/python/test-service.py: Add test
            case using asynchronous method reply functions, both return values and
            errors, and from within both the function itself and from a mainloop
            callback.
    
            * python/decorators.py, python/service.py: Perform checking that the
            number of method/signal arguments matches the number of types in the
            signature at class loading time, not when you first introspect the
            class.
    
            * python/service.py: Remove debug print left by the last commit.

 python/dbus_bindings.pyx |    4 ++--
 python/decorators.py     |   39 ++++++++++++++++++++++++++++++++++-----
 python/service.py        |   41 ++++++++++++++++++++++++-----------------
 3 files changed, 60 insertions(+), 24 deletions(-)

commit fcbc5d45112bd16c9ff8f6ead36d89a6c6381dc8
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-03 21:47:31 +0000

    2005-11-03 Robert McQueen <robot101@debian.org>
    
            * python/service.py: Heavy refactoring of method invocation, with
            hopefully no effect on functionality. Nuked _dispatch_dbus_method_call
            in favour of a new _message_cb that uses seperate functions for
            looking up the method to call, marshalling the return values, and
            sending exceptions as errors, and is easier to follow as a
            consequence.  Fixes some corner cases about returning things that
            don't match your declared out_signature, allows exceptions to define
            _dbus_error_name and have it be sent over the bus as the error name,
            and paves the way for cool stuff like heeding the message no reply
            flag, asynchronous method implementations, informing the method of the
            sender, and including backtraces in the error messages.
    
            * test/python/test-client.py: Catch and print exceptions thrown in the
            async callback tests, rather than passing them to the low-level
            bindings to be ignored in a noisy and frustrating manner.

 python/service.py |  252 +++++++++++++++++++++++++++++------------------------
 1 file changed, 140 insertions(+), 112 deletions(-)

commit b4a92c736cb37f2daba25283e830615dcf7137e8
Author: Robert McQueen <robot101@debian.org>
Date:   2005-11-03 16:13:52 +0000

    2005-11-03 Robert McQueen <robot101@debian.org>
    
            * python/_dbus.py, python/proxies.py, python/service.py: Add __repr__
            functions to dbus.Bus, dbus.service.BusName and dbus.service.Object,
            tweak others to be consistent.
    
            * test/python/test-client.py: Tweak output of testInheritance.

 python/_dbus.py   |   16 +++++++++++++++-
 python/proxies.py |    2 +-
 python/service.py |    7 +++++++
 3 files changed, 23 insertions(+), 2 deletions(-)

commit cd40a2db923dc01ee80f4827dfd3e102a98a64ec
Author: Robert McQueen <robot101@debian.org>
Date:   2005-10-29 22:41:07 +0000

    2005-10-29 Robert McQueen <robot101@debian.org>
    
            * python/service.py: Major changes to allow multiple inheritance
            from classes that define D-Bus interfaces:
    
             1. Create a new Interface class which is the parent class of
                Object, and make the ObjectType metaclass into InterfaceType.
    
             2. Patch written with Rob Taylor to replace use of method_vtable
                with code that walks the class's __MRO__ (method resolution order)
                to behave like Python does when invoking methods and allow
                overriding as you'd expect. Code is quite tricky because
                we have to find two methods, the one to invoke which has the
                right name and isn't decorated with the /wrong/ interface,
                and the one to pick up the signatures from which is decorated
                with the right interface.
    
                The same caveats apply as to normal multiple inheritance -
                this has undefined behaviour if you try and inherit from two
                classes that define a method with the same name but are
                decorated with different interfaces. You should decorate
                your overriding method with the interface you want.
    
             3. Replace grungy introspection XML generation code in the metaclass
                with dictionaries that cope correctly with multiple inheritance
                and the overriding of methods. This also uses the signature
                decorations to provide correct introspection data, including
                the debut appearance of the types of your return values. :D
    
            * test/python/test-client.py, test/python/test-service.py: Add a test
            case to try invoking an method that overrides one inherited from a
            D-Bus interface class.

 python/service.py |  234 ++++++++++++++++++++++++++++++++---------------------
 1 file changed, 144 insertions(+), 90 deletions(-)

commit f14661ee73a5efc92dfcbe22e4230dab153a4d69
Author: Robert McQueen <robot101@debian.org>
Date:   2005-10-29 22:04:01 +0000

    2005-10-29 Robert McQueen <robot101@debian.org>
    
            * python/dbus_bindings.pyx: Tweak 'raise AssertionError' to assert().
            Add checking for the end of struct character when marshalling a
            struct in MessageIter.append_strict.
    
            * python/examples/example-service.py,
            python/examples/gconf-proxy-service.py,
            python/examples/gconf-proxy-service2.py: Update to use gobject
            mainloop directly rather than appearing to depend on gtk.
    
            * python/test/test-client.py, python/test/test-server.py: Remove
            obsolete and broken test scripts for old bindings. We have up to date
            and working tests in test/python/.

 python/dbus_bindings.pyx                |   10 ++--
 python/examples/example-service.py      |    6 +-
 python/examples/gconf-proxy-service.py  |    5 +-
 python/examples/gconf-proxy-service2.py |    5 +-
 python/tests/test-client.py             |  100 -------------------------------
 python/tests/test-server.py             |   17 ------
 6 files changed, 15 insertions(+), 128 deletions(-)

commit a10facab362212f630b4fc3191a711523ed367b1
Author: Robert McQueen <robot101@debian.org>
Date:   2005-10-29 19:13:17 +0000

    2005-10-29 Robert McQueen <robot101@debian.org>
    
            * python/decorators.py: Add optional arguments to the method and
            signal decorators to allow you to specify the signature of arguments
            and return values. Preserve the doc strings of signal functions in the
            decorated version, for pydoc and friends.
    
            * python/dbus_bindings.pyx, python/proxies.py: Replace the
            parse_signature_block function with an iterable dbus.Signature()
            type. Fix a bug in MessageIter.append_strict where you could append
            anything by claiming it was a string.
    
            * python/service.py: Use the out_signature decoration on methods to
            marshal return values, meaning you no longer require dbus.Array()
            or dbus.Dictionary() to indicate the type when returning empty
            arrays or dictionaries. Fix a bug where exceptions which are defined
            in __main__ are not turned into error replies.
    
            * test/python/test-client.py, test/python/test-service.py: Add test
            for correct marshalling of return values according to out_signature.
            Fix a bug in the async call test where the error_handler is missing a
            self argument.

 python/dbus_bindings.pyx |  119 ++++++++++++++++++++++++++++------------------
 python/decorators.py     |   12 +++--
 python/proxies.py        |   11 ++---
 python/service.py        |   43 +++++++++++++++--
 4 files changed, 124 insertions(+), 61 deletions(-)

commit b07e4f860f8d9ff323558e8276dbda346a09b3b1
Author: Robert McQueen <robot101@debian.org>
Date:   2005-10-24 18:29:50 +0000

    2005-10-24 Robert McQueen <robot101@debian.org>
    
        * python/dbus_bindings.pyx (String, MessageIter): make D-Bus strings
        derive from unicode instead of str, and encode/decode UTF-8 when
        marshalling/unmarshalling bus messages
    
        * python/introspect_parser.py: encode introspection data as UTF-8
        before passing the buffer into libxml2
    
        * test/python/test-client.py: add unicode test strings
    
        * test/data/valid-service-files/.cvsignore, test/python/.cvsignore:
        ignore generated python test files

 python/dbus_bindings.pyx    |   16 +++++++++-------
 python/introspect_parser.py |    2 +-
 2 files changed, 10 insertions(+), 8 deletions(-)

commit 5b923c8dd10dc21e7f03aa8e27d1bb30652fb5da
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-10-18 04:38:04 +0000

    * glib/dbus-gvalue-utils.c (hash_free_from_gtype): handle gdouble
    
    and G_TYPE_VALUE_ARRAY (DBUS_TYPE_STRUCT)
    (gvalue_from_hash_value, hash_value_from_gvalue): handle gdouble
    
    * glib/dbus-gvalue.c (dbus_gvalue_to_signature): add missing
    DBUS_STRUCT_BEGIN_CHAR and DBUS_STRUCT_END_CHAR charaters
    when constructing struct signatures
    
    * python/_dbus.py (Bus): handle private connections using the
    private keyword in the constructor. defaults to private=False
    (Bus::close): new method to close a connection to the bus
    
    * python/dbus_bindings.pyx (Connection::close): renamed method
    was previously called disconnect
    (bus_get): now supports getting a private connection
    
    * python/proxies.py (ProxyMethod::__call__): check if ignore_reply
    keyword is set to True.  if it is, execute the method without waiting
    for a reply
    (ProxyObject::_introspect_execute_queue): new method for executing
    all the pending methods that were waiting for the introspect to
    finish.  this is called when introspect either succeeds or fails
    (ProxyObject::_introspect_error_handler): call queued methods

 python/_dbus.py          |   31 +++++++++++++++++--------------
 python/dbus_bindings.pyx |   16 ++++++++++------
 python/proxies.py        |   44 +++++++++++++++++++++++++-------------------
 3 files changed, 52 insertions(+), 39 deletions(-)

commit cb8652321a7b3791f54a6fb1ebf1675aac9ac33d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-10-14 21:44:00 +0000

    * python/dbus_bindings.pyx (MessageIter::append_strict): check for STRUCT_BEGIN not TYPE_STRUCT in indicate we are marshalling a struct
    
    * python/service.py (Object::_message_cb): handle exceptions correctly
      by sending them over the wire to the calling app.  This makes sure
      the client returns immediately instead of waiting the 15 seconds to
      timeout.
    
    * test/python/test-client.py (TestDBusBindings::testBenchmarkIntrospect):
      Add a test to benchmark how long it takes to introspect a service and
      call a method which returns a large element (pretty fast)
    
    * test/python/test-service.py (TestObject::GetComplexArray): new test
      method which pushes a lot of data

 python/dbus_bindings.pyx |    3 +--
 python/service.py        |   18 ++++++++++++------
 2 files changed, 13 insertions(+), 8 deletions(-)

commit d468280ea6cf7be2c3729a182f3c252fd2a7b999
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-10-13 23:34:11 +0000

    * python/service.py(ObjectType::_reflect_on_signal, _reflect_on_method):
    
    reclaim memory outside of the loop and use del istead of just setting
    the key to None

 python/service.py |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit fb3300cea133630f45d13776a66dcbbd71c46d97
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-10-13 23:26:00 +0000

    * python/service.py (ObjectType::_reflect_on_signal): Always close
    
    signal tag even when there are no arguments

 python/service.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 137d6a5121de6ae44a37ca99c5519c4300cc9dea
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-10-06 04:43:52 +0000

    * actualy add the introspection parser to CVS :-)

 python/introspect_parser.py |   50 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 423589e748db1783cbce03452e5fe5685b83f750
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-10-05 20:43:46 +0000

    * glib/dbus-gvalue.c (marshal_variant): call _dbus_gvalue_marshal instead of marshal basic so we can handle recursive types in a variant
    
    * test/glib/test-dbus-glib.c: Add test for marshaling recurive types
      in variants
    
    * test/glib/test-service-glib.c, test-service-glib.xml
      (my_object_echo_variant [EchoVariant],
      my_object_process_variant_of_array_of_ints123
      [ProcessVariantOfArrayOfInts123]):
      Add two test methods
    
    * python/introspect_parser.py: New module for parsing introspect
      data.
    
    * python/dbus_bindings.pyx:
      (various places): when throwing errors fix to use errormsg instead
      of message local variable because Pyrex can get confused with other
      message variables (initial patch by Robert McQueen
      <robert.mcqueen at collabora.co.uk>)
      (MessageIter::parse_signature_block): new method for getting the next
      block in a signiture.
      (MessageIter::append_strict): new method for appending values strictly
      using the passed in signature instead of guessing at the type
      (MessageItter:: append_dict, append_struct, append_array): use
      signatures to marshal children if the signature is available
    
    * python/exceptions.py (IntrospectionParserException): new exception
    
    * python/proxies.py (ProxyMethod::__call__): Marshal args with
      introspected signatures if available, else we fall back to the
      old way of doing things.
      (ProxyObject::_introspect_reply_handler ): parse introspection data
    
    * python/service.py (ObjectType::_reflect_on_method): Properly
      terminate <method> if there are no args in the reflection data
    
    * test/python/test-client.py: add tests for talking with the GLib
      test server.  This gives us better coverage for introspection since
      python to python will always generate arguments as variants.  It also
      allows us to test the robustness of the GLib bindings and interlanguage
      communications.

 python/Makefile.am       |   13 ++-
 python/dbus_bindings.pyx |  197 +++++++++++++++++++++++++++++++++++++---------
 python/exceptions.py     |    4 +
 python/proxies.py        |   75 ++++++++++++++----
 python/service.py        |    3 +-
 5 files changed, 239 insertions(+), 53 deletions(-)

commit 747ebb525b3522cab2415fe55c6a8418a7528238
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-09-26 22:12:17 +0000

    * dbus/Python.pyx: Fixed memory leaks when throwing errors. We now copy the message from a DBusError and then free the error object befor throwing the error

 python/dbus_bindings.pyx |   54 ++++++++++++++++++++++++++++++++--------------
 1 file changed, 38 insertions(+), 16 deletions(-)

commit 583a8acad47cf49f9e28d8f7360f8bb1a409e0d4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-09-06 22:42:54 +0000

    - update to next release version

 python/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f6b65becb2183f68e5c923854c4b5946a40dbfd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-09-06 22:38:54 +0000

    * Released 0.50
    
    * Patch from Steve Grubb:
    - bus/activation.c (bus_activation_service_reload_test): clean up
    some indentation
    - dbus/dbus-keyring.c (_dbus_keyring_reload): fix conditional
    - dbus/dbus-message-factory.c (generate_special): fix a couple of
    buffer overflows in the test suite.  This is non critical because
    it can not be exploited and this code is only run when doing a
    make check.
    
    * Patch from Yaakov Selkowitz: Build fixes for Cygwin
    - configure.in: Don't check and link against kdecore, only qt headers
    - dbus/Makefile.am: Add -no-undefined to libdbus_1_la_LDFLAGS
    - gcj/org/freedesktop/dbus/Makefile.am:
    add libdbus_gcj_1_la_LDFLAGS = -no-undefined
    - glib/Makefile.am: Add -no-undefined to libdbus_glib_1_la_LDFLAGS
    and $(DBUS_GLIB_LIBS) to dbus_binding_tool_LDADD
    - qt/Makefile.am: Add -no-undefined to libdbus_qt_1_la_LDFLAGS
    - tools/Makefile.am: Add platform extentions to binaries
    (i.e. .exe on windows)
    
    * configure.in:
    - Make it so if no suitable version of python is found we only
    disable building python instead of exiting the configure script
    - Require version 2.4 of glib for glib bindings
    - Up version to 0.50
    
    * python/__init__.py: Sync version with libdbus to (0,50,0)

 python/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9ce6ac673fef6ca5189480d73b542e7f2c283f3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-09-01 01:22:06 +0000

    * python/Makefile.am: Break on pyrexc errors instead of ignoring them
    
    * python/dbus_bindings.pyx: Memory management foo
    (global): remove hacky _user_data_references global list
    (GIL_safe_cunregister_function_handler): userdata now stuffed into
    tuples. Unref user_data
    (GIL_safe_cmessage_function_handler): userdata now stuffed into tuples
    (Connection::__del__): Remove and replace with __dealloc__ method
    (Connection::add_filter): Stuff user_data into a tuple.  Use Py_INCREF
    to keep tuple from being deallocated instead of the global var hack
    (Connection::register_object_path): Stuff user_data into a tuple.
    Use Py_INCREF to keep tuple from being deallocated instead of the
    global var hack
    (Connection::register_fallback): Stuff user_data into a tuple.
    Use Py_INCREF to keep tuple from being deallocated instead of the
    global var hack
    (GIL_safe_pending_call_notification): Don't unref the message
    because it gets unreffed when going out of scope.  Py_XDECREF
    the user_data
    (PendingCall::__del__): Remove and replace with __dealloc__ method
    (PendingCall::set_notify): ref the pending call because we will
    need it to stick around for when the notify callback gets called
    (Message::__del__): Remove and replace with __dealloc__ method
    
    * python/dbus_glib_bindings.pyx (init_gthreads): Changed to
    gthreads_init to match up with the dbus call
    
    * python/glib.py (init_threads): Changed to threads_init to match
    up with gobject.threads_init().  init_threads is kept for backwards
    compat but will most likely be deprecated in the future
    
    * test/python/test-client.py:
    - revamp to use Python's unittest functionality
    - add async call tests
    - setup threads in glib and dbus so we make sure locks are working

 python/Makefile.am            |    4 ++--
 python/dbus_bindings.pyx      |   40 ++++++++++++++++++----------------------
 python/dbus_glib_bindings.pyx |    2 +-
 python/glib.py                |    6 ++++--
 4 files changed, 25 insertions(+), 27 deletions(-)

commit c33b023b7a72b42129e202ad3a34d9ac6bc68090
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-31 02:18:43 +0000

    * python/dbus_bindings.pyx
    
    (_pending_call_notification, cunregister_function_handler,
    cmessage_function_handler): All callback functions have been rearranged
    to workaround a bug in Pyrex when working with the GIL which is Python's
    global lock when dealing with threads.  They have been split into
    a wrapper function (which assumes the name of the old function) and
    a _GIL_safe_<function name> function which contains the functionality
    of the old function.  This ensures that Pyrex does not write code
    the lock is released.

 python/dbus_bindings.pyx |  110 +++++++++++++++++++++++++++-------------------
 1 file changed, 65 insertions(+), 45 deletions(-)

commit ccba1a75d274300215ac3b8eb06792c06679de55
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-30 15:21:04 +0000

    * python/dbus_bindings.pyx (_pending_call_notification): Obtain the GIL global lock when calling back into Python

 python/dbus_bindings.pyx |   25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit 780a08253b6e9ac0270d50cb0498cb7085bd05a2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-26 04:23:33 +0000

    * s/Message(_create=0)/EmptyMessage everywhere else
    
    * test/python/test-{server|client}.py: add the python/.libs directory
      to the lookup path so dbus_bindings and dbus_glib_bindings don't
      get picked up from the system

 python/dbus_bindings.pyx |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 068820cbec569f14277f0dc52e4219ad123bed24
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-26 03:09:58 +0000

    * python/dbus_bindings.pyx: Tracked down a major memleak and fixed it (EmptyMessage): new class that subclasses Message. This is a workaround to a Pyrex bug that fails to call __del__ when the Message object goes out of scope. For some reason subclassing Message fixes this bug (Bus::send_with_reply_and_block): use EmptyMessage instead of Message

 python/dbus_bindings.pyx |   36 ++++++++++++++++++++----------------
 python/proxies.py        |    2 +-
 2 files changed, 21 insertions(+), 17 deletions(-)

commit 749873c6f8326c450173f62078c8eb8f38e7e2f7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-24 19:58:32 +0000

    - Merged changed from the DBUS_0_36_1 bugfix branch

 python/Makefile.am |    2 +-
 python/_dbus.py    |   12 ++++++------
 python/proxies.py  |    5 +++--
 3 files changed, 10 insertions(+), 9 deletions(-)

commit c93ba0371f2bed41ceb47826dea8852b6b6107cf
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-23 17:43:59 +0000

    * python/dbus_glib_bindings.pyx: reorder imports and c definitions
    
    to fix some wranings. We now use dbus_bindings.DBusConnection instead
    of defining DBusConnection ourselves.

 python/dbus_glib_bindings.pyx |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 0caa747c4dac110d7a1550cfcded41c03d5bf4f7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-18 20:57:28 +0000

     * python/dbus.pth: New path file to fix up problems when installing c libraries to lib64 and python files to lib.
    
    	* python/Makefile.am: install dbus.pth in the correct spot

 python/Makefile.am |    3 +++
 python/dbus.pth    |    1 +
 2 files changed, 4 insertions(+)

commit 53aee6867499fb4b2135ed06dd5c4c6cd96058e0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-18 04:04:57 +0000

     * ChangeLog: clean up my last entry a bit
    
    	* doc/introspect.xsl: New stylesheet for converting introspection data
    	into browser renderable xhtml. Contributed by Lennart Poettering.
    
    	* doc/introspect.dtd: Fixups in the introspect format from Lennart
    	Poettering.
    
    	* doc/dbus-tutorial.xml:
    	- Add Colin Walter to the Authors section for authoring the GLib
    	section
    	- Add descriptions of the new signature and type functionality
    	in the Python complex type mapping section
    	- Add a sidenote on the new args matching functionality in
    	the Python bindings
    	- Fixed up some of the examples to use the gobject.MainLoop
    	instead of gtk.main
    
    	* python/_dbus.py:
    	(Bus::_create_args_dict): New. Converts a hash of arg matches
    	to a more useable format
    	(Bus::add_signal_receiver): add a **keywords parameter for catching
    	arg match parameters
    	(Bus::remove_signal_receiver): add a **keywords parameter for catching
    	arg match parameters
    
    	* python/matchrules.py:
    	(MatchTree::exec_matches): Check for arg matches
    	(SignalMatchRule::add_args_match): New method
    	(SignalMatchRule::execute): Added args_list parameter as an optimization
    	so we don't have to marshal the args more than once
    	(SignalMatchRule::match_args_from_list): New method that checks to see
    	if the rule's arg matches match an argument list.  Only arguments
    	set in the rule are checked.
    	(SignalMatchRule::match_args_from_rule): New method that checks to see
    	if the rule's arg matches match another rule's.  All args have to match
    	in order for this method to return true.  If either rule has more args
    	then it is not a match.
    	(SignalMatchRule::is_match): Add args match
    	(SignalMatchRule::repr): Add args to the final output if they exist

 python/_dbus.py                             |   55 ++++++++++++++++++++---
 python/examples/example-signal-recipient.py |    3 +-
 python/matchrules.py                        |   64 ++++++++++++++++++++++++---
 3 files changed, 109 insertions(+), 13 deletions(-)

commit 4f3ccf5fd76cacb67b1a73c7a88b00fe83180275
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-08-16 22:54:02 +0000

     * python/__init__.py: Version updated (0, 43, 0)
    
    	* python/dbus_bindings.pyx:
    	- Fixed type objects to have self passed into __init__
    	- Added the Variant type
    	- Add the ability to specify types or signatures for Array, Variant and Dictionary
    	- (Connection::send_with_reply_handlers): return a PendingCall object
    	- (_pending_call_notification): handle the case when an error is returned
    	without an error message in the body
    	- (MessageIter::get_boolean): return True or False instead of an integer
    	- (MessageIter::python_value_to_dbus_sig): add direct checking of types and
    	add checks for objects with embeded signatures or types (Array, Variant and
    	Dictionary)
    	- (MessageIter::append_byte): handle case when the value is a dbus.Byte
    	- (MessageIter::append_dict): handle embeded types or signatures
    	- (MessageIter::append_array): handle embeded types or signatures
    	- (MessageIter::append_variant): new method
    
    	* python/proxies.py:
    	- (DeferedMethod): New. Dummy executable object used when queuing calls blocking on
    	introspection data
    	- (ProxyMethod::__call__): add the timeout keyword for specifying longer or
    	shorter timeouts for method calls
    	- (ProxyObject): Add first pass at an introspection state machine
    	- (ProxyObject::__init__): Add introspect keyword for turing off an on
    	introspection.
    	- (ProxyObject::_Introspect): Internal Introspect call that bypasses the usual
    	mechanisms for sending messages.  This is to avoid a deadlock where the Intospect
    	call would be queued waiting for the Introspect call to finish ;-)
    	- (ProxyObject::_introspect_reply_handler): New.  This method is called when
    	introspection returns with no error
    	- (ProxyObject::_introspect_error_handler): New.  This method is called when
    	introspection encounters an error
    	- (ProxyObject::__getattr__): Code to handle different introspection states.
    	Queue async calls or block blocking calls if we are introspecting.  Pass through
    	as normal if we are not or are done with introspecting.
    
    	* python/service.py: Import signal and method from decorators.py
    
    	* python/types.py: Add Variant type

 python/__init__.py                      |    2 +-
 python/_dbus.py                         |    5 +-
 python/dbus_bindings.pyx                |  223 ++++++++++++++++++++++++-------
 python/examples/example-client.py       |    1 +
 python/examples/list-system-services.py |    4 +-
 python/proxies.py                       |   97 ++++++++++++--
 python/service.py                       |    2 +
 python/types.py                         |    1 +
 8 files changed, 269 insertions(+), 66 deletions(-)

commit 3ff048fc5ad215987749046e283ca97454bc7554
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-20 14:15:08 +0000

    * python/_dbus.py, _util.py, decorators.py, extract.py, matchrules.py. proxies.py, service.py: Cleanup of code after running it through the pyflakes code checker mostly dealing with undefined names. (Bug #3828, Patch from Anthony Baxter <anthony@interlink.com.au>)

 python/_dbus.py      |    3 ---
 python/_util.py      |    1 +
 python/decorators.py |    1 -
 python/extract.py    |    2 --
 python/matchrules.py |    2 +-
 python/proxies.py    |    3 ++-
 python/service.py    |    5 +++--
 7 files changed, 7 insertions(+), 10 deletions(-)

commit a076f4405829b136edbb89d99fbc485c9179b642
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-17 21:02:56 +0000

    * Merge DBUS_0_35_2 branch into HEAD
    
    2005-07-17  John (J5) Palmieri  <johnp@redhat.com>
    
            * NEWS: Update to 0.35.2
    
    2005-07-17  John (J5) Palmieri  <johnp@redhat.com>
    
            * python/_dbus.py: Remove import of the dbus.services
            module as it no longer exists (patch from Dimitur Kirov)
    
            * python/service.py (Object::__init__): Fixed typo
            s/name/bus_name (patch from Dimitur Kirov)
    
            * python/examples/example-signal-emitter.py: import dbus.glib
            to get the main loop and use glib mainloop instead of gtk so
            X doesn't have to be running.
    
            * python/examples/example-signal-recipient.py: import dbus.glib
            to get the main loop and use glib mainloop instead of gtk so
            X doesn't have to be running. Import the decorators module
            directly.
    
            * test/glib/Makefile.am:  Added DIST_EXTRA files that distcheck
            didn't pick up on but are needed to build
    
            * configure.in: upped version to 0.35.2
    
            * bus/driver.c, bus/selinux.c, bus/selinux.h, dbus/dbus-protocol.h:
            added Colin Walters' SELinux API rename patch from head
            s/unix sercurity context/selinux security context/
    
    2005-07-16  John (J5) Palmieri  <johnp@redhat.com>
    
            * python/Makefile.am: dbus_binding.pxd.in should be included
            in EXTRA_DIST not dbus_binding.pxd
            fix up $(srcdir) hopefully for the last time
    
            * NEWS: Update to 0.35.1

 python/Makefile.am                          |   16 ++++++++--------
 python/_dbus.py                             |    1 -
 python/examples/example-signal-emitter.py   |    6 ++++--
 python/examples/example-signal-recipient.py |   13 +++++++------
 python/service.py                           |    2 +-
 5 files changed, 20 insertions(+), 18 deletions(-)

commit cf7d10b2e4240c5c2bd4df4a1f2cf5b76aa499c0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-15 20:28:05 +0000

    * glib/Makefile.am: Add make-dbus-glib-error-switch.sh to EXTRA_DIST so distcheck doesn't fail
    
    * glib/examples/Makefile.am: Add example-service.xml and
      example-signal-emitter.xml to EXTRA_DIST so distcheck doesn't fail
    
    * glib/examples/statemachine/Makefile.am: Add statemachine.xml and
      statemachine-server.xml to EXTRA_DIST so distcheck doesn't fail
    
    * python/Makefile.am: Preprend $(srcdir)/ to source files so the
      compiler looks in the right places during distcheck

 python/Makefile.am |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit dc94fa7e3cd71c0dd29b4899bb0d956dc4019b34
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-15 18:09:59 +0000

    * python/examples/example-service.py, python/examples/example-signal-emitter.py: Fixed up examples for API changes

 python/examples/example-service.py        |    4 ++--
 python/examples/example-signal-emitter.py |   10 +++++-----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 8b4ad749be5c97607ad2c0c3bcf1fc41c4877bf5
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-15 17:33:17 +0000

    * python/__init__.py: Upped to version (0,42,0) because of the API change

 python/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 96a7dee3c739e4c5eb6b18cc093bec41bb42da35
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-15 15:21:43 +0000

    * bus/dispatch.c, test/test-service.c: Add testcase for sending messages to oneself (TODO item).
    
    * python/service.py (class Object): Swap ordering of bus_name
      and object_path parameters to better support inheritance.
    
    * doc/dbus-tutorial.xml: change Python docs to reflect change
      in parameter ordering and fix the inheritance section.
    
    * doc/TODO: remove sending message to oneself TODO item

 python/service.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 557f47a57fed5a5b4e56677ed0cf5ae8f2987536
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-15 02:15:07 +0000

    * python/_dbus.py (Bus::remove_signal_receiver): don't add a callback to the match if none has been passed in
    
    * python/matchrules.py (SignalMatchTree::remove): if the rule
      being matched does not have a callback treat it as a wildcard
      fix matching logic
    
    * doc/dbus-tutorial.xml: Add Python tutorial

 python/_dbus.py      |    4 +++-
 python/matchrules.py |   12 ++++++++----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit ea23dea1046cb6e9fdb2d618a53e61d1d61b1f53
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-14 20:44:15 +0000

    Checking in Rodrigo's patch along with my fixes to the patch
    
    2005-07-14  John (J5) Palmieri  <johnp@redhat.com>
    
    	* bus/activation.c: clean up all tabs to be 8 spaces
    	(bus_activation_activate_service): make sure we clean up
    	if activation fails
    
    	* bus/dispatch.c: clean up all tabs to be 8 spaces
    	(check_shell_fail_service_auto_start): New function
    	tests to make sure we get fail properly when trying to auto start a service
    	with a faulty command line
    	(check_shell_service_success_auto_start): New function tests to make sure
    	auto started services get the arguments on the command line
    
    	* test/test-shell-service.c: Added service for testing auto-starting with
    	command line arguments
    
    	* test/data/valid-service-files/debug-shell-echo-fail.service.in,
    	test/data/valid-service-files/debug-shell-echo-success.service.in:
    	Added service files for testing auto-starting with command line arguments
    
    	* */.cvsignore: added a bunch of generated files to various .cvsignore files
    
    2005-07-14  Rodrigo Moya  <rodrigo@novell.com>
    
    	* dbus/dbus-shell.[ch]: copy/pasted code from GLib.
    
    	* dbus/Makefile.am: added new files to build.
    
    	* bus/activation.c (bus_activation_activate_service): support
    	activation commands with parameters.
    
    	* test/shell-test.c: added test program for the shell parsing
    	code.

 python/.cvsignore  |    1 +
 python/Makefile.am |   14 +++++++-------
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 008027f4fafbbb77a45c0fa586855552c9564696
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-13 18:22:34 +0000

    * python/.cvsignore: remove dbus_bindings.pyx, add dbus_bindings.pxd
    
    * python/service.py (class Name): renamed BusName to make it clearer
      what the object is for (a name on the bus)
    
    * python/examples/example-service.py,
      python/examples/example-signal-emitter.py: change the Name object to
      BusName

 python/.cvsignore                         |    2 +-
 python/examples/example-service.py        |    4 +---
 python/examples/example-signal-emitter.py |    2 +-
 python/service.py                         |    8 ++------
 4 files changed, 5 insertions(+), 11 deletions(-)

commit ac9ab9544b98222fcce9329194f10774edea8a87
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-07-12 18:16:05 +0000

    * python/dbus_bindings.pyx.in: removed
    
    * python/dbus_bindings.pyx: Added.
    	- Fixed some memleaks (patch from
    	  Sean Meiners <sean.meiners@linspireinc.com>)
    	- Broke out the #include "dbus_h_wrapper.h" and put it in its
    	  own pxd file (Pyrex definition)
    	- Broke out glib dependancies into its own pyx module
    
    * python/dbus_bindings.pdx: Added.
    	- Defines C class Connection for exporting to other modules
    
    * python/dbus_glib_bindings.pyx: Added.
    	- New module to handle lowlevel dbus-glib mainloop integration
    
    * python/glib.py: Added.
    	- Registers the glib mainloop when you import this module
    
    * python/services.py: Removed (renamed to service.py)
    
    * python/service.py: Added.
    	- (class Server): renamed Name
    
    * python/__init__.py: Bump ro version (0,41,0)
    	- don't import the decorators or service module
       	  by default.  These now reside in the dbus.service namespace
    
    * python/_dbus.py (Bus::__init__): Add code run the main loop
      setup function on creation
    
    * python/examples/example-service.py,
      python/examples/example-signal-emitter.py: update examples
    
    * python/examples/gconf-proxy-service.py,
      python/examples/gconf-proxy-service2.py: TODO fix these up
    
    * doc/TODO: Addition
    	- Added a Python Bindings 1.0 section
    	- added "Add match on args or match on details to match rules"

 python/Makefile.am                        |   34 +-
 python/__init__.py                        |    5 +-
 python/_dbus.py                           |   19 +-
 python/dbus_bindings.pxd.in               |    8 +
 python/dbus_bindings.pyx                  | 1488 ++++++++++++++++++++++++++++
 python/dbus_bindings.pyx.in               | 1494 -----------------------------
 python/dbus_glib_bindings.pyx             |   19 +
 python/examples/example-service.py        |   19 +-
 python/examples/example-signal-emitter.py |   15 +-
 python/examples/gconf-proxy-service.py    |    2 +-
 python/examples/gconf-proxy-service2.py   |    2 +-
 python/glib.py                            |   15 +
 python/service.py                         |  187 ++++
 python/services.py                        |  187 ----
 14 files changed, 1771 insertions(+), 1723 deletions(-)

commit 5f5b7847e7a159e040bc9070a143cd6547a9689b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-06-28 19:36:51 +0000

    * python/dbus_bindings.pyx.in (cunregister_function_handler, cmessage_function_handler): Patch from Anthony Baxter <anthony@interlink.com.au> fixes threading problems by using the Py_GILState_Ensure/Release to synchronize with the python runtime.

 python/dbus_bindings.pyx.in |   60 ++++++++++++++++++++++++++-----------------
 1 file changed, 36 insertions(+), 24 deletions(-)

commit b9ef3eaf17a91f258af17c6e9ae8acb23eb7b411
Author: Colin Walters <walters@verbum.org>
Date:   2005-06-16 05:51:46 +0000

    2005-06-16 Colin Walters <walters@verbum.org>
    
    	* python/dbus_bindings.pyx.in: Import size_t,
    	__int64_t, __uint64_t, and __signed.
    
    	* dbus/dbus-sysdeps.c <HAVE_CMSGCRED> (write_credentials_byte):
    	Define cmsg struct, output it.
    	(_dbus_read_credentials_unix_socket):
    	Use cmsg struct.
    
    	Patch from Joe Markus Clarke for FreeBSD support.

 python/dbus_bindings.pyx.in |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 4a8fc73472c80880c0c6c5cf1401f3ab9817965f
Author: Colin Walters <walters@verbum.org>
Date:   2005-06-13 03:01:17 +0000

    2005-06-12 Colin Walters <walters@verbum.org>
    
    	Async signals and various bugfixes and testing by
    	Ross Burton <ross@burtonini.com>.
    
    	* glib/dbus-gvalue.h: (struct DBusBasicGValue): Delete.
    	(dbus_gvalue_genmarshal_name_from_type)
    	(dbus_gvalue_ctype_from_type): Moved to dbus-binding-tool-glib.c.
    	(dbus_gtype_to_dbus_type): Renamed to dbus_gtype_from_signature.
    	(dbus_g_value_types_init, dbus_gtype_from_signature)
    	(dbus_gtype_from_signature_iter, dbus_gtype_to_signature)
    	(dbus_gtypes_from_arg_signature): New function prototypes.
    	(dbus_gvalue_demarshal): Take context and error arguments.
    	(dbus_gvalue_demarshal_variant): New function.
    	(dbus_gvalue_demarshal_message): New function.
    	(dbus_gvalue_store): Delete.
    
    	* glib/dbus-gvalue.c:
    
    	File has been almost entirely rewritten; now we special-case
    	more types such as DBUS_TYPE_SIGNATURE, handle arrays and
    	hash tables correctly, etc.  Full support for recursive values
    	is not yet complete.
    
    	* glib/dbus-gproxy.c (dbus_g_proxy_class_init): Change last
    	argument of signal to G_TYPE_POINTER since we now pass a
    	structure.
    	(lookup_g_marshaller): Delete in favor of
    	_dbus_gobject_lookup_marshaller.
    	(marshal_dbus_message_to_g_marshaller): Use
    	_dbus_gobject_lookup_marshaller and dbus_gvalue_demarshal_message
    	to handle remote signal callbacks.
    	(dbus_g_proxy_new_from_proxy): New function; creates a new
    	DBusGProxy by copying an existing one.
    	(dbus_g_proxy_get_interface, dbus_g_proxy_set_interface)
    	(dbus_g_proxy_get_path): New functions.
    	(dbus_g_proxy_marshal_args_to_message): New function;
    	factored out of existing code.
    	(DBUS_G_VALUE_ARRAY_COLLECT_ALL): Collect all arguments
    	from a varargs array.
    	(dbus_g_proxy_begin_call_internal): New function.
    	(dbus_g_proxy_end_call_internal): New function.
    	(dbus_g_proxy_begin_call): Take GTypes instead of DBus types
    	as arguments; simply invoke dbus_g_proxy_begin_call_internal
    	after collecting args into value array.
    	(dbus_g_proxy_end_call): Take GTypes instead of DBus types;
    	invoke dbus_g_proxy_end_call_internal.
    	(dbus_g_proxy_invoke): Simply invoke begin_call_interanl and
    	end_call_internal.
    	(dbus_g_proxy_call_no_reply): Take GTypes instead of DBus
    	types.
    	(array_free_all): New function.
    	(dbus_g_proxy_add_signal): Take GTypes.
    
    	* glib/dbus-gobject.h:
    	(_dbus_glib_marshal_dbus_message_to_gvalue_array): Delete.
    	(_dbus_gobject_get_path, _dbus_gobject_lookup_marshaller):
    	Prototype.
    
    	* glib/dbus-gobject.c: Add a global marshal_table hash which
    	stores mappings from type signatures to marshallers.  Change lots
    	of invocations of dbus_gtype_to_dbus_type to
    	dbus_gtype_to_signature.
    	(_dbus_glib_marshal_dbus_message_to_gvalue_array): Delete.
    	(introspect_signals): Fix test for query.return_type.
    	(set_object_property): Update invocation of dbus_gvalue_demarshal.
    	(invoke_object_method): Many changes.  Handle asynchronous
    	invocations.  Convert arguments with
    	dbus_gvalue_demarshal_message.  Handle errors.  Use
    	DBusSignatureIter instead of strlen on args. Handle all arguments
    	generically.  Special-case variants.
    	(dbus_g_method_return, dbus_g_method_return_error): New function.
    	(DBusGSignalClosure): New structure, closes over signal
    	information.
    	(dbus_g_signal_closure_new): New function.
    	(dbus_g_signal_closure_finalize): New function.
    	(signal_emitter_marshaller): New function; is special marshaller
    	which emits signals on bus.
    	(export_signals): New function; introspects object signals and
    	connects to them.
    	(dbus_g_object_type_install_info): Take GType instead of
    	GObjectClass.
    	(dbus_g_connection_register_g_object): Invoke export_signals.
    	(dbus_g_connection_lookup_g_object): New function.
    	(DBusGFuncSignature) New structure; used for mapping type
    	signatures to marshallers.
    	(funcsig_hash): New function; hashes DBusGFuncSignature.
    	(funcsig_equal): New function; compares DBusGFuncSignature.
    	(_dbus_gobject_lookup_marshaller): New function.
    	(dbus_g_object_register_marshaller): New function; used to
    	register a marshaller at runtime for a particular signature.
    
    	* glib/dbus-gmain.c (_dbus_gmain_test): Add various tests.
    
    	* glib/dbus-binding-tool-glib.h: Add DBUS_GLIB_ANNOTATION_ASYNC
    	which notes a server method implementation should be
    	asynchronous.
    
    	* glib/dbus-binding-tool-glib.c
    	(dbus_binding_tool_output_glib_server): Call
    	dbus_g_value_types_init.
    	(write_formal_parameters): Use dbus_gtype_from_signature.  Handle
    	variants specially.
    	(dbus_g_type_get_lookup_function): Turn GType into an invocation
    	of a lookup function.
    	(write_args_for_direction): Use dbus_g_type_get_lookup_function.
    	(write_untyped_out_args): New method; write output arguments.
    	(write_formal_declarations_for_direction): Function for
    	writing prototypes.
    	(write_formal_parameters_for_direction): Function for
    	writing implementations.
    	(write_typed_args_for_direction): Function for writing
    	arguments prefixed with GTypes.
    	(write_async_method_client): Write out async version
    	of method.
    
    	* glib/dbus-binding-tool-glib.c: Include dbus-gvalue-utils.h.
    	(dbus_g_type_get_marshal_name): Move mapping from GType
    	to marshal name into here.
    	(dbus_g_type_get_c_name): Move into here.
    	(compute_marshaller): Convert signature to type with
    	dbus_gtype_from_signature, use dbus_g_type_get_marshal_name.
    	(compute_marshaller_name): Ditto.
    	(compute_marshaller): Handle async signal annotations.
    	(gather_marshallers): Return if we don't have a known
    	prefix.
    	(generate_glue): Collect introspection blob here, and
    	write all of the blob at the end.  This allows an object
    	with multiple interfaces to work.
    	Mark async methods in introspection blob.
    
    	* glib/Makefile.am (libdbus_glib_1_la_SOURCES): Add
    	dbus-gtype-specialized.c, dbus-gtype-specialized.h,
    	dbus-gvalue-utils.h, dbus-gvalue-utils.c.
    
    	* dbus/dbus-glib.h: Don't include dbus-protocol.h; this
    	avoids people accidentally using DBUS_TYPE_* which should
    	not be necessary anymore.
    	Do include dbus-gtype-specialized.h, which are utilities
    	for GLib container types.
    	Add various #defines for types such as
    	DBUS_TYPE_G_BOOLEAN_ARRAY.
    	(DBusGValueIterator, DBusGValue): Define, not fully used
    	yet.
    	(dbus_g_value_get_g_type): Type for recursive value.
    	(dbus_g_value_open, dbus_g_value_iterator_get_value)
    	(dbus_g_value_iterator_get_values, dbus_g_value_iterator_recurse)
    	(dbus_g_value_free): Prototypes.
    	(dbus_g_object_register_marshaller, dbus_g_proxy_new_from_proxy): Prototype.
    	(dbus_g_proxy_set_interface): Prototype.
    	(dbus_g_proxy_begin_call, dbus_g_proxy_end_call)
    	(dbus_g_proxy_call_no_reply): Take GLib types instead of DBus
    	types.
    	(dbus_g_proxy_get_path, dbus_g_proxy_get_interface):
    	Accessors.
    	(DBusGAsyncData, DBusGMethodInvocation): Structures for
    	doing async invocations.
    	(dbus_g_method_return, dbus_g_method_return_error):
    	Prototypes.
    	* doc/dbus-tutorial.xml: Update GLib section.
    
    	* tools/dbus-viewer.c (load_child_nodes): Update
    	for new invocation type of dbus_g_proxy_end_call.
    	(load_from_service_thread_func): Ditto.
    
    	* tools/print-introspect.c (main): Ditto.
    
    	* tools/dbus-names-model.c (have_names_notify)
    	(names_model_reload, names_model_set_connection)
    	Use GTypes.
    
    	* python/Makefile.am (INCLUDES): Define DBUS_COMPILATION,
    	needed since Python bindings use GLib bindings.
    
    	* test/glib/Makefile.am (INCLUDES): Define DBUS_COMPILATION.
    	Add --prefix argument.
    
    	* tools/Makefile.am: Define DBUS_COMPILATION.  Remove
    	unneeded --ignore-unsupported arg.
    
    	* test/glib/test-service-glib.c:
    	* test/glib/test-service-glib.xml:
    	* test/glib/test-dbus-glib.c: Add many more tests.

 python/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fc5d7298d72e20bfc3e209e44e6791643a838f49
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-24 16:34:38 +0000

    * python/__init__.py: Python bindings deserve a minor version update. Upped to (0, 40, 2)

 python/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit abd0204928614dc1d36125e9d3634c25e068af59
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-24 16:30:50 +0000

    * python/decorators.py: add explicitly_pass_message decorator for passing in the dbus message as keyword for edge case signal handling
    
    * python/matchrules.py (SignalMatchRule.__repr__): fix output
      to conform with what dbus expects for match rules
      (SignalMatchRule.execute): add the dbus message as a keyword
      if the signal handler has requested it
    
    * python/examples/example/signal-recipient.py: added some more
      examples on how to hook up to signals
    
    * python/proxies.py: minor formatting changes

 python/_dbus.py                             |    4 +---
 python/decorators.py                        |    5 ++++-
 python/examples/example-signal-recipient.py |   22 +++++++++++++++++++++-
 python/matchrules.py                        |   21 +++++++++------------
 4 files changed, 35 insertions(+), 17 deletions(-)

commit 1db6dbecffec574f6773286416f7e92ccd864068
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-24 00:21:07 +0000

    * python/decorators.py: import dbus_bindings
    
    * python/matchrules.py (SignalMatchRule, SignalMatchTree,
      SignalMatchNode): new classes that implement wildcard signal
      callback matching using a tree lookup. Heavily modified from a
      patch sent by Celso Pinto (fd.o bug #3241)
    
    * _dbus.py (add_signal_receiver, remove_signal_receiver, _signal_func):
      use new match classes to handle signals.

 python/Makefile.am                          |    2 +-
 python/_dbus.py                             |   69 +++++------
 python/decorators.py                        |   10 +-
 python/examples/example-signal-emitter.py   |    8 +-
 python/examples/example-signal-recipient.py |    4 +-
 python/matchrules.py                        |  170 +++++++++++++++++++++++++++
 6 files changed, 211 insertions(+), 52 deletions(-)

commit 717c3781328d631a16a74a8f51a7bb04d92729f6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-19 20:27:19 +0000

    - s/TYPE_PATH/TYPE_OBJECT_PATH

 python/dbus_bindings.pyx.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3979e97cf4245f720aed1764009a5d1fa875f595
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-16 21:27:03 +0000

    * glib/dbus-gmain.c (io_handler_dispatch): fix deadlock when using recursive g_main_loops
    
    * python/_dbus.py (class Bus): add the ProxyObjectClass
      alias for ProxyObject to make it easier for the Twisted
      networking framework to integrate dbus.
    
    * python/proxies.py (class ProxyObject): add the ProxyMethodClass
      alias for ProxyMethod to make it easier for the Twisted
      networking framework to integrate dbus.

 python/_dbus.py   |    4 ++-
 python/proxies.py |   82 +++++++++++++++++++++++++++--------------------------
 2 files changed, 45 insertions(+), 41 deletions(-)

commit 0c2e7112539a1314393826dbd2a14c3c1239078a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-05 18:27:34 +0000

    * Fix my name in previous changelog ;)
    
    * python/proxies.py (ProxyObject.__getattr__): add further patch
      from Anthony Baxter to throw an AttributeError when python
      __special__ functions are called instead of marshling them over
      the bus (Bug#1685 comment 3).

 python/proxies.py |    2 ++
 1 file changed, 2 insertions(+)

commit 933695891ea748308d76faaab23bc548c585b7b8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-05 18:01:45 +0000

    * python/Makefile.am: changed to use pyexecdir for the binding shared libraries (Bug#2494)
    
    * python/exceptions.py: bring exceptions over from the bindings
      so they can be used in applications (Bug#2036)
      Make all exceptions derive from DBusException
    
    * python/_dbus.py, python/proxies.py: implement __repr__ in a couple
      of classes so that print obj doesn't throw an exception (Bug #1685)

 python/Makefile.am   |    2 +-
 python/_dbus.py      |    7 +++++--
 python/exceptions.py |   35 ++++++++++++-----------------------
 python/proxies.py    |    5 +++++
 4 files changed, 23 insertions(+), 26 deletions(-)

commit 99e291c0cf9af2f4438def9212ce2f29c057ae7f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-05-01 19:34:58 +0000

    * python/dbus_bindings.pyx.in:
    
    - added new type classes for hinting to the marashaler what type
    to send over the wire
    - added int16 and uint16 marshalers
    - Fixed a bug in the type constants that caused int32 to go out
    as uint16 over the wire
    * python/dbus.py: split up into different files and renamed _dbus.py
    * python/__init__.py, python/_util.py, python/decorators.py,
    python/exceptions.py, python/proxies.py, python/services.py,
    python/types.py: new files split off from dbus.py
    * python/Makefile.am: Add new files, remove dbus.py and
    install all python files to <python module dir>/dbus
    * python/examples/*: Added #!/usr/bin/env python to the top of
    every example.  Patch provided by Tatavarty Kalyan

 python/Makefile.am                          |    6 +-
 python/__init__.py                          |    6 +
 python/_dbus.py                             |  219 +++++++++++
 python/_util.py                             |   12 +
 python/dbus.py                              |  562 ---------------------------
 python/dbus_bindings.pyx.in                 |  146 ++++++-
 python/decorators.py                        |   37 ++
 python/examples/example-service.py          |    2 +
 python/examples/example-signal-emitter.py   |    2 +
 python/examples/example-signal-recipient.py |    2 +
 python/examples/gconf-proxy-client.py       |    2 +
 python/examples/gconf-proxy-service.py      |    2 +
 python/examples/gconf-proxy-service2.py     |    2 +
 python/examples/list-system-services.py     |    2 +
 python/exceptions.py                        |   32 ++
 python/proxies.py                           |   90 +++++
 python/services.py                          |  187 +++++++++
 python/types.py                             |   18 +
 18 files changed, 761 insertions(+), 568 deletions(-)

commit b27b13812644b7da6a40c212437d1d6898aa9439
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-04-25 22:54:28 +0000

    * python/dbus_bindings.pyx.in (send_with_reply_handlers): New send
    
    method for doing async calls
    (_pending_call_notification): New C function for handling pendning call
    callbacks
    (set_notify): New method for setting pending call notification
    
    * python/dbus.py: new version tuple "version" is set at (0, 40, 0)
    Async capabilities added to remote method calls
    (Sender): class removed
    (RemoteService): class removed
    (ObjectTree): class removed for now
    (RemoteObject): Renamed to ProxyObject
    (RemoteMethod): Renamed to ProxyMethod
    (method): Decorator added for decorating python methods as dbus methods
    (signal): Decorator added for decorating python methods as signal emitters
    (ObjectType): Metaclass added for generating introspection data and the
    method callback vtable
    (Interface): Wrapper class added to wrap objects in a dbus interface
    (Object): Uses ObjectType as its metaclass and exports Introspect
    of the org.freedesktop.DBus.Introspectable interface
    (ValidationException, UnknownMethodException): new exceptions
    
    * python/examples/*: Modified to fit with the new bindings

 python/dbus.py                              |  510 +++++++++++++++++----------
 python/dbus_bindings.pyx.in                 |   68 +++-
 python/examples/example-client.py           |   12 +-
 python/examples/example-service.py          |   12 +-
 python/examples/example-signal-emitter.py   |   17 +-
 python/examples/example-signal-recipient.py |   25 +-
 python/examples/list-system-services.py     |   13 +-
 7 files changed, 428 insertions(+), 229 deletions(-)

commit b190b899f2f645d4b71d01eb9f53ce0e198ce576
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-03-29 17:01:43 +0000

    * python/lvalue_cast_post_process.py - removed. Patch has been submitted to Pyrex maintainers that fixes gcc4.0 error
    
    * python/Makefile.am: removed refrences to lvalue_cast_post_process.py

 python/Makefile.am                 |    7 +---
 python/lvalue_cast_post_process.py |   80 ------------------------------------
 2 files changed, 2 insertions(+), 85 deletions(-)

commit a4597b45df11db105206b87054042f9612684b2e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-03-21 21:13:56 +0000

    * python/lvalue_cast_post_process.py - added post processor to fix Pyrex code so that it compiles with gcc4.0
    
    * python/Makefile.am: Added lvalue_cast_post_process.py to EXTRA_DIST
      run dbus_bindings.c through lvalue_cast_post_process.py and copy the
      results back to dbus_binding.c

 python/Makefile.am                 |    7 +++-
 python/lvalue_cast_post_process.py |   80 ++++++++++++++++++++++++++++++++++++
 2 files changed, 85 insertions(+), 2 deletions(-)

commit bb519aab3c2b9112eba2e67a50e2864dc65f765c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-02-23 19:36:24 +0000

    python/dbus_bindings.pyx.in (PendingCall::get_reply):
    
    s/dbus_pending_call_get_reply/dbus_pending_call_steal_reply

 python/dbus_bindings.pyx.in |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 4940b112efc417868f567d885e36297e14e43244
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-02-11 19:51:18 +0000

    * python/dbus.py (class Sender): added to support dbus signals better
    
    to True.  When expand args is True the signal handler will pass the
    message arguments as parameters to the signal handler.  If False
    revert to previous behavior where the signal handler must get the
    argument list from the message.  This is to help port applications
    like HAL that have a tendancy to send variable length argument lists.
    self._match_rule_to_receivers is now a dict of dicts.
    (Bus::remove_signal_receiver): pop handler off the dict intead of
    removing it from a list
    (Bus::_signal_func): change signal handlers so that interface,
    signal_name, service, path and message are packed into a Sender
    object and that is passed to the handler.  If expand_args is True
    extract the args list from the message and append it to the parameter
    list
    
    * python/dbus_bindings.pyx.in (class Signature): added to support
    signiature types
    (MessageIter::__init__): changed iteration limit to match D-BUS
    (MessageIter::get*): added INT16, UINT16, SIGNATURE, DICT_ENTRY,
    STRUCT and VARIENT type support
    (MessageIter::python_value_to_dbus_sig): made recursive to support
    recursive types
    (MessageIter::append*): added Signature, dict, tuple
    support
    
    * python/examples/example-client.py: added examples of getting tuples
    and dicts
    
    * python/examples/example-service.py: added examples of sending tuples
    and dicts
    
    * python/examples/example-signal-recipient.py: Fixed to handle new
    signal callback format

 python/dbus.py                              |   46 +++--
 python/dbus_bindings.pyx.in                 |  263 +++++++++++++++++++--------
 python/examples/example-client.py           |    9 +
 python/examples/example-service.py          |    9 +-
 python/examples/example-signal-recipient.py |    4 +-
 5 files changed, 239 insertions(+), 92 deletions(-)

commit ca4b771f58b30005ec4bb47acacfa73d1c467ac9
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-01-28 19:09:54 +0000

    * python/dbus_bindings.pyx.in: Updated to handle new D-BUS type system - BUS_ACTIVATION -> BUS_STARTER - DBUS_BUS_ACTIVATION -> DBUS_BUS_STARTER - class MessageIter (__init__): Added recursion checking so we throw a nice error instead of just disconnecting from the bus. (get): Added arg_type parameter for recursion. Removed the nil type Added signiture type placeholder (not implemented) Added struct type placeholder (not implemented) Added varient type placeholder (not implemented) Commented out dict type for now (get_element_type): renamed from get_array_type (get_*): changed to use the dbus_message_iter_get_basic API (get_*_array): removed in favor of recursive get_array method (get_array): new recursive method which calls get to marshal the elements of the array (value_to_dbus_sig): New method returns the corrasponding dbus signiture to a python value (append): Comment out dict handling for now Handle lists with the new recursive API Comment out None handling for no
    
    w
    	(append_nil): removed
    	(append_*): changed to use dbus_message_iter_append_basic API
    	(append_*_array): removed in favor of recursive append_array
    	method
    	(__str__): Make it easier to print out recursive iterators
    	for debugging
    	- class Message (__str__): moved type inspection to the
    	MessageIter class' __str__ method
    	(get_iter): Added an append parameter wich defaults to False
    	If True use the new API's to create an append iterator
    
    * python/dbus.py: Update to use new bindings API
    	- TYPE_ACTIVATION -> TYPE_STARTER
    	- class Bus (_get_match_rule): GetServiceOwner -> GetNameOwner
    	- class ActivationBus -> class StarterBus
    	- class RemoteObject (__call__): get an append iterator
    	- (_dispatch_dbus_method_call): get an append iterator
    	- class Object (emit_signal): get an append iterator
    
    * python/examples/: Fixed up the examples to work with the new API

 python/dbus.py                            |   24 +-
 python/dbus_bindings.pyx.in               |  591 +++++++++++++----------------
 python/examples/example-service.py        |    4 +-
 python/examples/example-signal-emitter.py |    3 +-
 python/examples/list-system-services.py   |    7 +-
 5 files changed, 277 insertions(+), 352 deletions(-)

commit f6f84489cf9e6fa2f343eb5ce4f78b9b2ee4dc90
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2005-01-25 19:06:53 +0000

    * python/dbus_bindings.pyx.in: Rename of methods and bindings - get_base_service->get_unique_name - bus_get_base_service->bus_get_unique_name - dbus_bus_get_base_service -> dbus_bus_get_unique_name - ACTIVATION_REPLY_ACTIVATED -> DBUS_START_REPLY_SUCCESS - ACTIVATION_REPLY_ALREADY_ACTIVE -> DBUS_START_REPLY_ALREADY_RUNNING - bus_activate_service -> bus_start_service_by_name - dbus_bus_activate_service -> dbus_bus_start_service_by_name - bus_acquire_service -> bus_request_name - dbus_bus_acquire_service -> dbus_bus_request_name - bus_service_exists -> bus_name_has_owner - dbus_bus_service_exists -> dbus_bus_name_has_owner
    
    * python/dbus.py: Rename of methods
    	- activate_service -> start_service_by_name
    	- bus_acquire_service -> bus_request_name
    	- ACTIVATION_REPLY_ACTIVATED -> START_REPLY_SUCCESS
    	- ACTIVATION_REPLY_ALREADY_ACTIVE -> START_REPLY_ALREADY_RUNNING

 python/dbus.py              |   10 +++++-----
 python/dbus_bindings.pyx.in |   30 +++++++++++++++---------------
 2 files changed, 20 insertions(+), 20 deletions(-)

commit dc9a91e745f5885fc9b63568a9f4228a7522c381
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2004-12-30 18:28:03 +0000

    2004-12-30 John (J5) Palmieri <johnp@redhat.com>
    
    	* python/dbus.py: s/ACTIVATION_REPLY_ACTIVE/ACTIVATION_REPLY_ACTIVATED

 python/dbus.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32e2f57ac99f528d159b68b8dfafc74c39a3c4cc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2004-12-30 14:19:53 +0000

    2004-12-30 John (J5) Palmieri <johnp@redhat.com>
    
            * python/dbus_bindings.pyx.in: Change DBUS_ACTIVATION_REPLY_ACTIVATED
            and DBUS_ACTIVATION_REPLY_ALREADY_ACTIVE to match the values in
            dbus-protocol.h.  Because they are defines and not enums they are not
            autogenerated.

 python/dbus_bindings.pyx.in |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 01740aa1f3c4c2cecdf37a3c043a42d0dbffc773
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2004-12-27 16:01:13 +0000

    2004-12-26 John (J5) Palmieri <johnp@redhat.com>
    
    	* python/dbus_bindings.pyx.in (bus_activate_service): Bind
    	dbus_bus_activate_service
    
    	* python/dbus.py (Bus.activate_service): activate a service on the
    	bus.

 python/dbus.py              |    7 +++++++
 python/dbus_bindings.pyx.in |   16 ++++++++++++++++
 2 files changed, 23 insertions(+)

commit f33050956dca770af4d188768bcd8537a1686d45
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2004-12-23 00:50:37 +0000

    * patch from Rob Taylor <robtaylor@fastmail.fm> - wrap bus_get_unix_user method in low level bindings - add get_unix_user method to the Bus class - fix extract.py so it can handle unsigned long return types

 python/dbus.py              |    4 ++++
 python/dbus_bindings.pyx.in |   13 +++++++++++++
 python/extract.py           |    3 +--
 3 files changed, 18 insertions(+), 2 deletions(-)

commit 1a6d664b037ea2fcbcbfdc8d637a7f5309e68ffb
Author: David Zeuthen <david@fubar.dk>
Date:   2004-09-16 19:56:26 +0000

    2004-09-16 David Zeuthen <david@fubar.dk>
    
    	* python/dbus_bindings.pyx.in: Add support for int64 and uint64

 python/dbus_bindings.pyx.in |   66 ++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 65 insertions(+), 1 deletion(-)

commit 6e5b6a98a792653e9248767be746a031e851cb84
Author: Anders Carlsson <andersca@gnome.org>
Date:   2004-07-28 18:14:55 +0000

    2004-07-28 Anders Carlsson <andersca@gnome.org>
    
    	* python/dbus.py:
    	* python/dbus_bindings.pyx.in:
    	Add dbus.init_gthreads (), allow emit_signal to pass
    	arguments to the signal.

 python/dbus.py              |   13 ++++++++++++-
 python/dbus_bindings.pyx.in |    4 ++++
 2 files changed, 16 insertions(+), 1 deletion(-)

commit bac1c708b7ae971bf96500161f56edec4120ad3b
Author: Seth Nickell <seth@gnome.org>
Date:   2004-07-18 21:44:37 +0000

    2004-07-18 Seth Nickell <seth@gnome.org>
    
    	* python/dbus.py:
    	* python/dbus_bindings.pyx.in:
    	* python/tests/test-client.py:
    
    	Add dbus.ByteArray and dbus_bindings.ByteArray
    	types so that byte streams can be passed back.
    
    	Give jdahlin the heaps of credit that are so
    	rightfully his.

 python/dbus.py              |    3 ++-
 python/dbus_bindings.pyx.in |   23 ++++++++++++++++-------
 python/tests/test-client.py |    7 +++----
 3 files changed, 21 insertions(+), 12 deletions(-)

commit fb762d8e21ae66ceda54496168d92d7e8dc4bce2
Author: Seth Nickell <seth@gnome.org>
Date:   2004-07-12 06:28:59 +0000

    2004-07-12 Seth Nickell <seth@gnome.org>
    
    	* python/dbus.py:
    
    	Add message argument to the default object_method_handler
    	function.
    
    	* python/dbus_bindings.pyx.in:
    
    	Automatically return NIL when passed an empty list
    	(we can't pass back a list since lists are typed
    	and we don't have any idea what type the the client
    	intended the list to be... :-( )

 python/dbus.py              |    2 +-
 python/dbus_bindings.pyx.in |   28 ++++++++++++++++------------
 2 files changed, 17 insertions(+), 13 deletions(-)

commit 1e926c3330e91895034c91c59c368d7201a8bc56
Author: Seth Nickell <seth@gnome.org>
Date:   2004-07-11 03:09:03 +0000

    2004-07-10 Seth Nickell <seth@gnome.org>
    
    	* python/examples/Makefile.am:
    
    	Fix distcheck breakage caused by new examples.

 python/examples/Makefile.am |   17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit e386459734ff05d09c43d50b8623659512d36975
Author: Seth Nickell <seth@gnome.org>
Date:   2004-07-11 03:02:14 +0000

    2004-07-10 Seth Nickell <seth@gnome.org>
    
    	* python/dbus.py:
    
    	Add "message" argument to service-side dbus.Object
    	methods. This will break existing services written
    	using the python bindings, but will allow extraction
    	of all the message information (e.g. who its from).
    
    	Add improved "object oriented" signal handling/emission.
    
    	* python/examples/example-service.py:
    
    	Nix this example.
    
    	* python/examples/example-signal-emitter.py:
    	* python/examples/example-signal-recipient.py:
    
    	Two new examples that show how to emit and receive
    	signals using the new APIs.
    
    	* python/examples/example-signals.py:
    	* python/examples/gconf-proxy-service.py:
    	* python/examples/gconf-proxy-service2.py:
    
    	Add "message" argument to service methods.

 python/dbus.py                              |   91 ++++++++++++++++++---------
 python/examples/example-service.py          |    2 +-
 python/examples/example-signal-emitter.py   |   18 ++++++
 python/examples/example-signal-recipient.py |   19 ++++++
 python/examples/example-signals.py          |   27 --------
 python/examples/gconf-proxy-service.py      |    8 +--
 python/examples/gconf-proxy-service2.py     |    2 +-
 7 files changed, 104 insertions(+), 63 deletions(-)

commit 740b3a75006d1f5cc228c65838105a7a8b3ae75c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2004-06-23 14:59:43 +0000

    * switched include directory from glib/ to dbus/ since dbus-glib.h moved

 python/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ba6699d5e975a50693807268923bda69a15773a
Author: Owen Fraser-Green <owen@discobabe.net>
Date:   2004-06-10 12:13:39 +0000

    Fixed typo for python/examples make

 python/examples/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e41974dd9ea8db84985ff5b31d3ea525fbf0947
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2004-06-08 02:35:43 +0000

    * Python bindings are updated to reflect C API changes which now accept plain path strings instead of an array of path elements.

 python/dbus_bindings.pyx.in |   35 +++--------------------------------
 1 file changed, 3 insertions(+), 32 deletions(-)

commit e29bd0928368c6303209b6a2a4ea1ed749f6e58f
Author: Seth Nickell <seth@gnome.org>
Date:   2004-06-01 06:16:13 +0000

    Update .cvsignore files

 python/.cvsignore          |    6 ++++++
 python/examples/.cvsignore |    2 ++
 2 files changed, 8 insertions(+)

commit 22ac6379fbc251ac40e1635353e2b83676f6ea66
Author: Seth Nickell <seth@gnome.org>
Date:   2004-06-01 06:13:31 +0000

    2004-06-01 Seth Nickell <seth@gnome.org>
    
    	* python/dbus_bindings.pyx.in:
    	* python/tests/test-client.py:
    
    	Round off basic type support. Add dicts (yay!), and
    	remaining array types.
    
    	Make MessageIter more general so it works for dicts too.
    
    	Mark all loop variables as C integers.

 python/dbus_bindings.pyx.in |   90 +++++++++++++++++++++++++++++++------------
 python/tests/test-client.py |   38 ++++++++++++++++++
 2 files changed, 103 insertions(+), 25 deletions(-)

commit dd476a9662e4f66f08610a793458b4740823a525
Author: Seth Nickell <seth@gnome.org>
Date:   2004-06-01 01:20:59 +0000

     * python/dbus_bindings.pyx.in: * python/tests/test-client.py:
    
    	Test Suite: 1
    	Python Bindings: 0
    
    	(fix string array memory trashing bug... oops)

 python/dbus_bindings.pyx.in |   82 ++++++++++++++++++++++++++++++++++++-------
 python/tests/test-client.py |   20 +++++++++--
 2 files changed, 88 insertions(+), 14 deletions(-)

commit 897be0d7a55449df0fb97b1126afecbb6906c083
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-30 08:20:58 +0000

    2004-05-30 Seth Nickell <seth@gnome.org>
    
    	* python/dbus.py:
    
    	Add a nicer-but-less-flexible alternate API for handling
    	calls to virtual objects in dbus.ObjectTree.
    
    	Screw up the argument order to the dbus.Object constructor
    	for consistency with dbus.ObjectTree (and to make dbus_methods
    	optional for future extension)
    
    	* python/examples/Makefile.am:
    	* python/examples/gconf-proxy-service.py:
    	* python/examples/gconf-proxy-service2.py:
    
    	Alternate implementation of gconf-proxy-service using the
    	nicer dbus.ObjectTree API.
    
    	* python/examples/example-service.py:
    	* python/tests/test-server.py
    
    	Reverse the argument order to deal with dbus.Object constructor
    	changes.

 python/dbus.py                          |   52 ++++++++++++++++++++++---------
 python/examples/Makefile.am             |    1 +
 python/examples/example-service.py      |    2 +-
 python/examples/gconf-proxy-service.py  |   42 ++++++++++---------------
 python/examples/gconf-proxy-service2.py |   36 +++++++++++++++++++++
 python/tests/test-server.py             |    2 +-
 6 files changed, 94 insertions(+), 41 deletions(-)

commit 51c8a42abcc0a2ab8e079d218003d9ccc48f1d79
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-30 06:26:24 +0000

    2004-05-30 Seth Nickell <seth@gnome.org>
    
    	* python/examples/example-client.py:
    	* python/examples/example-service.py:
    
    	Take it back. Lists seem to work but they're broken
    	in the test suite. Make the base examples use
    	lists (works fine).

 python/examples/example-client.py  |    4 ++--
 python/examples/example-service.py |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 4f3d0dac99f3f93fc04b403f8c7e6b2177725851
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-30 06:21:00 +0000

    2004-05-30 Seth Nickell <seth@gnome.org>
    
    	* python/dbus_bindings.pyx.in:
    	* python/tests/test-client.py:
    
    	Add some more tests and fix errors that crop up.
    	Unfortunately, currently it seems like marshalling
    	and unmarshalling of lists is completely broken :-(

 python/dbus_bindings.pyx.in |   32 +++++++++++++++++++-------------
 python/tests/test-client.py |   35 +++++++++++++++++++++++++++--------
 2 files changed, 46 insertions(+), 21 deletions(-)

commit 92e6c358afffd4fcdd5efd0075f9faa857c60ab3
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-30 05:30:09 +0000

    2004-05-30 Seth Nickell <seth@gnome.org>
    
    	* python/dbus_bindings.pyx.in:
    
    	Add support for ObjectPath type.
    
    	* python/dbus.py:
    
    	Refactor message handling code to a common function.
    
    	* python/tests/test-client.py:
    	* python/tests/test-server.py:
    
    	Add tests that check to make sure values of all types
    	can be echoed from a service w/o mangling.

 python/dbus.py              |   58 +++++++++++++++++--------------------
 python/dbus_bindings.pyx.in |   66 +++++++++++++++++++++++++++++++++++--------
 python/tests/test-client.py |   28 ++++++++++++++++++
 python/tests/test-server.py |   17 +++++++++++
 4 files changed, 126 insertions(+), 43 deletions(-)

commit 4a5617e6090ca2402a74a0bf3cac2b891cbc0824
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-30 02:26:48 +0000

    2004-05-29 Seth Nickell <seth@gnome.org>
    
    	* python/dbus.py:
    
    	Add ObjectTree class which allows implementation
    	of trees of "virtual" objects. Basically the python
    	wrapper for "register_fallback".
    
    	* python/examples/Makefile.am
    	* python/examples/gconf-proxy-client.py:
    	* python/examples/gconf-proxy-service.py:
    
    	Implement a simple GConf proxy service that supports
    	get/set on string and int GConf keys using the ObjectTree.

 python/dbus.py                         |   52 +++++++++++++++++++++++++++++++-
 python/examples/Makefile.am            |    2 ++
 python/examples/gconf-proxy-client.py  |   11 +++++++
 python/examples/gconf-proxy-service.py |   48 +++++++++++++++++++++++++++++
 4 files changed, 112 insertions(+), 1 deletion(-)

commit 188e82d59c07729efbefe22d0919150054d8b374
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-29 22:37:13 +0000

    2004-05-29 Seth Nickell <seth@gnome.org>
    
    	* python/dbus.py:
    	* python/examples/example-client.py:
    	* python/examples/example-service.py:
    	* python/examples/list-system-services.py:
    
    	Add SessionBus, SystemBus and ActivationBus classes
    	so you don't need to know the special little BUS_TYPE
    	flag.

 python/dbus.py                          |   19 +++++++++++++++++++
 python/examples/example-client.py       |    2 +-
 python/examples/example-service.py      |    4 ++--
 python/examples/list-system-services.py |    2 +-
 4 files changed, 23 insertions(+), 4 deletions(-)

commit 33e96395a41362c57790e3cc9313851ebdd04d96
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-28 18:43:55 +0000

     * python/examples/Makefile.am:
    
    	Forget to add Makefile.am. Do not pass go.

 python/examples/Makefile.am |    9 +++++++++
 1 file changed, 9 insertions(+)

commit ab5a89c0348c8bd271015bfdb2a32f7d4cdf586c
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-28 02:52:23 +0000

     * configure.in: * python/Makefile.am:
    
    	Include the example python apps in the tarball.
    
    	* python/examples/list-system-services.py
    
    	Add a python new example that fetches the list of services
    	from the system bus.

 python/Makefile.am                      |    2 ++
 python/examples/list-system-services.py |   24 ++++++++++++++++++++++++
 2 files changed, 26 insertions(+)

commit eff8859282d14b81b24f6092a6e155b5a0df8183
Author: Seth Nickell <seth@gnome.org>
Date:   2004-05-28 02:16:11 +0000

    2004-05-27 Seth Nickell <seth@gnome.org>
    
    	* python/dbus.py:
    	* python/dbus_bindings.pyx.in:
    
    	Fix failure to notify that a signal was not handled,
    	resulted in hung functions.

 python/dbus.py              |    6 ++++--
 python/dbus_bindings.pyx.in |    2 ++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 42f81c81ba6e69ef0ae0b4c30f9708a7afb6c1e3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2004-05-10 18:16:29 +0000

    * Fixed python bindings by defining all need parameter and variable types

 python/dbus_bindings.pyx.in |  192 ++++++++++++++++++++++++++++---------------
 1 file changed, 128 insertions(+), 64 deletions(-)

commit 7b93322959ed78fc28deda8c84835dfe2531a59d
Author: Michael Meeks <michael@ximian.com>
Date:   2004-03-29 12:50:45 +0000

    hush.

 python/.cvsignore |    3 +++
 1 file changed, 3 insertions(+)

commit 4f3a79f0e6ba96167dd92c730f122be5c7999889
Author: Havoc Pennington <hp@redhat.com>
Date:   2004-03-19 22:36:30 +0000

    2004-03-19 Havoc Pennington <hp@redhat.com>
    
    	* NEWS: 0.21 updates
    
    	* configure.in: 0.21
    
    	* doc/Makefile.am: add all XMLTO usage to DBUS_XML_DOCS_ENABLED
    
    	* python/Makefile.am: change to avoid dist of dbus_bindings.c so
    	you don't need pyrex to make dist
    
    	* qt/Makefile.am (libdbus_qt_1_la_SOURCES): add integrator.h to
    	sources; run moc

 python/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e150be4e0a9e55b16eac520bdb5bd0c96621ea5a
Author: David Zeuthen <david@fubar.dk>
Date:   2003-12-01 20:49:53 +0000

    2003-12-01 David Zeuthen <david@fubar.dk>
    
    	* python/dbus.py: Add the actual message when calling the reciever
    	of a signal such that parameters can be inspected. Add the method
    	remove_signal_receiver

 python/dbus.py |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 5dd7e406571391570edc02ed1e0998cdad9f8493
Author: David Zeuthen <david@fubar.dk>
Date:   2003-10-29 00:06:07 +0000

    2003-10-28 David Zeuthen <david@fubar.dk>
    
            * python/dbus_bindings.pyx.in: add get_dict to handle dictionaries
            return types. Fixup TYPE_* to reflect changes in dbus/dbus-protocol.h

 python/dbus_bindings.pyx.in |   25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit 8a404b1ab5ed430112d35a23e6155c06a72f236f
Author: David Zeuthen <david@fubar.dk>
Date:   2003-10-15 21:25:13 +0000

    2003-10-14 David Zeuthen <david@fubar.dk>
    
            * python/dbus_bindings.pyx.in (MessageIter.get): fixed typo in
            argtype to arg_type when raising unknown arg type exception.
            Changed type list to reflect the changes in dbus-protocol.h so
            the bindings actually work.

 python/dbus_bindings.pyx.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c4a01481d5ec9530af0f1e08130420f099ffc96c
Author: Seth Nickell <seth@gnome.org>
Date:   2003-10-15 11:56:12 +0000

    Fix makefile.am

 python/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 2a5101364f1b42e52dff3967e999419cfe266f8f
Author: Seth Nickell <seth@gnome.org>
Date:   2003-10-13 23:07:34 +0000

    2003-10-13 Seth Nickell <seth@gnome.org>
    
    	* python/Makefile.am:
    
    	Pass "make distcheck": remove a couple files from DIST_FILES
    	that weren't included in the final version.

 python/Makefile.am |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 362dd3f1415326f9dd545e0ac6dc11ffc9507409
Author: Havoc Pennington <hp@redhat.com>
Date:   2003-09-30 02:41:13 +0000

    add examples

 python/examples/example-client.py  |   12 ++++++++++++
 python/examples/example-service.py |   18 ++++++++++++++++++
 python/examples/example-signals.py |   27 +++++++++++++++++++++++++++
 3 files changed, 57 insertions(+)

commit 8253b8df29181efd8d6ddd84098384d27a403698
Author: Havoc Pennington <hp@redhat.com>
Date:   2003-09-30 02:40:49 +0000

    forgot to add files...

 python/Makefile.am          |   28 ++
 python/dbus.py              |  267 +++++++++++++
 python/dbus_bindings.pyx.in |  917 +++++++++++++++++++++++++++++++++++++++++++
 python/dbus_h_wrapper.h     |    3 +
 python/extract.py           |  237 +++++++++++
 5 files changed, 1452 insertions(+)

commit bdadc55cae07f4034bf64604398b382951098ada
Author: John (J5) Palmieri <johnp@redhat.com>
Date:   2006-06-28 08:13:11 -0400

    Initial commit of module dbus-python

 0 files changed
